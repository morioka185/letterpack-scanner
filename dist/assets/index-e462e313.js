(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))l(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function a(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(d){if(d.ep)return;d.ep=!0;const h=a(d);fetch(d.href,h)}})();(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(l){if(l.ep)return;l.ep=!0;const d=n(l);fetch(l.href,d)}})();function G0(e,n){for(var a=0;a<n.length;a++){const l=n[a];if(typeof l!="string"&&!Array.isArray(l)){for(const d in l)if(d!=="default"&&!(d in e)){const h=Object.getOwnPropertyDescriptor(l,d);h&&Object.defineProperty(e,d,h.get?h:{enumerable:!0,get:()=>l[d]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(l){if(l.ep)return;l.ep=!0;const d=n(l);fetch(l.href,d)}})();var qi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Q1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Z1={exports:{}},ns={},K1={exports:{}},Ee={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var La=Symbol.for("react.element"),X0=Symbol.for("react.portal"),Q0=Symbol.for("react.fragment"),Z0=Symbol.for("react.strict_mode"),K0=Symbol.for("react.profiler"),q0=Symbol.for("react.provider"),J0=Symbol.for("react.context"),$0=Symbol.for("react.forward_ref"),ef=Symbol.for("react.suspense"),tf=Symbol.for("react.memo"),nf=Symbol.for("react.lazy"),Ac=Symbol.iterator;function rf(e){return e===null||typeof e!="object"?null:(e=Ac&&e[Ac]||e["@@iterator"],typeof e=="function"?e:null)}var q1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J1=Object.assign,$1={};function Li(e,n,a){this.props=e,this.context=n,this.refs=$1,this.updater=a||q1}Li.prototype.isReactComponent={};Li.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};Li.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ed(){}ed.prototype=Li.prototype;function iu(e,n,a){this.props=e,this.context=n,this.refs=$1,this.updater=a||q1}var au=iu.prototype=new ed;au.constructor=iu;J1(au,Li.prototype);au.isPureReactComponent=!0;var Sc=Array.isArray,td=Object.prototype.hasOwnProperty,ou={current:null},nd={key:!0,ref:!0,__self:!0,__source:!0};function rd(e,n,a){var l,d={},h=null,p=null;if(n!=null)for(l in n.ref!==void 0&&(p=n.ref),n.key!==void 0&&(h=""+n.key),n)td.call(n,l)&&!nd.hasOwnProperty(l)&&(d[l]=n[l]);var E=arguments.length-2;if(E===1)d.children=a;else if(1<E){for(var A=Array(E),w=0;w<E;w++)A[w]=arguments[w+2];d.children=A}if(e&&e.defaultProps)for(l in E=e.defaultProps,E)d[l]===void 0&&(d[l]=E[l]);return{$$typeof:La,type:e,key:h,ref:p,props:d,_owner:ou.current}}function af(e,n){return{$$typeof:La,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function su(e){return typeof e=="object"&&e!==null&&e.$$typeof===La}function of(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return n[a]})}var Ic=/\/+/g;function Fs(e,n){return typeof e=="object"&&e!==null&&e.key!=null?of(""+e.key):n.toString(36)}function Co(e,n,a,l,d){var h=typeof e;(h==="undefined"||h==="boolean")&&(e=null);var p=!1;if(e===null)p=!0;else switch(h){case"string":case"number":p=!0;break;case"object":switch(e.$$typeof){case La:case X0:p=!0}}if(p)return p=e,d=d(p),e=l===""?"."+Fs(p,0):l,Sc(d)?(a="",e!=null&&(a=e.replace(Ic,"$&/")+"/"),Co(d,n,a,"",function(w){return w})):d!=null&&(su(d)&&(d=af(d,a+(!d.key||p&&p.key===d.key?"":(""+d.key).replace(Ic,"$&/")+"/")+e)),n.push(d)),1;if(p=0,l=l===""?".":l+":",Sc(e))for(var E=0;E<e.length;E++){h=e[E];var A=l+Fs(h,E);p+=Co(h,n,a,A,d)}else if(A=rf(e),typeof A=="function")for(e=A.call(e),E=0;!(h=e.next()).done;)h=h.value,A=l+Fs(h,E++),p+=Co(h,n,a,A,d);else if(h==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return p}function eo(e,n,a){if(e==null)return e;var l=[],d=0;return Co(e,l,"","",function(h){return n.call(a,h,d++)}),l}function sf(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var Bt={current:null},Eo={transition:null},lf={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:Eo,ReactCurrentOwner:ou};function id(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:eo,forEach:function(e,n,a){eo(e,function(){n.apply(this,arguments)},a)},count:function(e){var n=0;return eo(e,function(){n++}),n},toArray:function(e){return eo(e,function(n){return n})||[]},only:function(e){if(!su(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ee.Component=Li;Ee.Fragment=Q0;Ee.Profiler=K0;Ee.PureComponent=iu;Ee.StrictMode=Z0;Ee.Suspense=ef;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lf;Ee.act=id;Ee.cloneElement=function(e,n,a){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var l=J1({},e.props),d=e.key,h=e.ref,p=e._owner;if(n!=null){if(n.ref!==void 0&&(h=n.ref,p=ou.current),n.key!==void 0&&(d=""+n.key),e.type&&e.type.defaultProps)var E=e.type.defaultProps;for(A in n)td.call(n,A)&&!nd.hasOwnProperty(A)&&(l[A]=n[A]===void 0&&E!==void 0?E[A]:n[A])}var A=arguments.length-2;if(A===1)l.children=a;else if(1<A){E=Array(A);for(var w=0;w<A;w++)E[w]=arguments[w+2];l.children=E}return{$$typeof:La,type:e.type,key:d,ref:h,props:l,_owner:p}};Ee.createContext=function(e){return e={$$typeof:J0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:q0,_context:e},e.Consumer=e};Ee.createElement=rd;Ee.createFactory=function(e){var n=rd.bind(null,e);return n.type=e,n};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(e){return{$$typeof:$0,render:e}};Ee.isValidElement=su;Ee.lazy=function(e){return{$$typeof:nf,_payload:{_status:-1,_result:e},_init:sf}};Ee.memo=function(e,n){return{$$typeof:tf,type:e,compare:n===void 0?null:n}};Ee.startTransition=function(e){var n=Eo.transition;Eo.transition={};try{e()}finally{Eo.transition=n}};Ee.unstable_act=id;Ee.useCallback=function(e,n){return Bt.current.useCallback(e,n)};Ee.useContext=function(e){return Bt.current.useContext(e)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(e){return Bt.current.useDeferredValue(e)};Ee.useEffect=function(e,n){return Bt.current.useEffect(e,n)};Ee.useId=function(){return Bt.current.useId()};Ee.useImperativeHandle=function(e,n,a){return Bt.current.useImperativeHandle(e,n,a)};Ee.useInsertionEffect=function(e,n){return Bt.current.useInsertionEffect(e,n)};Ee.useLayoutEffect=function(e,n){return Bt.current.useLayoutEffect(e,n)};Ee.useMemo=function(e,n){return Bt.current.useMemo(e,n)};Ee.useReducer=function(e,n,a){return Bt.current.useReducer(e,n,a)};Ee.useRef=function(e){return Bt.current.useRef(e)};Ee.useState=function(e){return Bt.current.useState(e)};Ee.useSyncExternalStore=function(e,n,a){return Bt.current.useSyncExternalStore(e,n,a)};Ee.useTransition=function(){return Bt.current.useTransition()};Ee.version="18.3.1";K1.exports=Ee;var gn=K1.exports;const lu=Q1(gn);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var uf=gn,cf=Symbol.for("react.element"),df=Symbol.for("react.fragment"),hf=Object.prototype.hasOwnProperty,ff=uf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gf={key:!0,ref:!0,__self:!0,__source:!0};function ad(e,n,a){var l,d={},h=null,p=null;a!==void 0&&(h=""+a),n.key!==void 0&&(h=""+n.key),n.ref!==void 0&&(p=n.ref);for(l in n)hf.call(n,l)&&!gf.hasOwnProperty(l)&&(d[l]=n[l]);if(e&&e.defaultProps)for(l in n=e.defaultProps,n)d[l]===void 0&&(d[l]=n[l]);return{$$typeof:cf,type:e,key:h,ref:p,props:d,_owner:ff.current}}ns.Fragment=df;ns.jsx=ad;ns.jsxs=ad;Z1.exports=ns;var H=Z1.exports,cl={},od={exports:{}},an={},sd={exports:{}},ld={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(e){function n(te,de){var fe=te.length;te.push(de);e:for(;0<fe;){var Ye=fe-1>>>1,Ie=te[Ye];if(0<d(Ie,de))te[Ye]=de,te[fe]=Ie,fe=Ye;else break e}}function a(te){return te.length===0?null:te[0]}function l(te){if(te.length===0)return null;var de=te[0],fe=te.pop();if(fe!==de){te[0]=fe;e:for(var Ye=0,Ie=te.length,sn=Ie>>>1;Ye<sn;){var Qe=2*(Ye+1)-1,Or=te[Qe],oe=Qe+1,nr=te[oe];if(0>d(Or,fe))oe<Ie&&0>d(nr,Or)?(te[Ye]=nr,te[oe]=fe,Ye=oe):(te[Ye]=Or,te[Qe]=fe,Ye=Qe);else if(oe<Ie&&0>d(nr,fe))te[Ye]=nr,te[oe]=fe,Ye=oe;else break e}}return de}function d(te,de){var fe=te.sortIndex-de.sortIndex;return fe!==0?fe:te.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;e.unstable_now=function(){return h.now()}}else{var p=Date,E=p.now();e.unstable_now=function(){return p.now()-E}}var A=[],w=[],v=1,T=null,k=3,z=!1,G=!1,V=!1,re=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(te){for(var de=a(w);de!==null;){if(de.callback===null)l(w);else if(de.startTime<=te)l(w),de.sortIndex=de.expirationTime,n(A,de);else break;de=a(w)}}function U(te){if(V=!1,R(te),!G)if(a(A)!==null)G=!0,$e(ee);else{var de=a(w);de!==null&&ge(U,de.startTime-te)}}function ee(te,de){G=!1,V&&(V=!1,D(q),q=-1),z=!0;var fe=k;try{for(R(de),T=a(A);T!==null&&(!(T.expirationTime>de)||te&&!Be());){var Ye=T.callback;if(typeof Ye=="function"){T.callback=null,k=T.priorityLevel;var Ie=Ye(T.expirationTime<=de);de=e.unstable_now(),typeof Ie=="function"?T.callback=Ie:T===a(A)&&l(A),R(de)}else l(A);T=a(A)}if(T!==null)var sn=!0;else{var Qe=a(w);Qe!==null&&ge(U,Qe.startTime-de),sn=!1}return sn}finally{T=null,k=fe,z=!1}}var K=!1,B=null,q=-1,j=5,pe=-1;function Be(){return!(e.unstable_now()-pe<j)}function ue(){if(B!==null){var te=e.unstable_now();pe=te;var de=!0;try{de=B(!0,te)}finally{de?Se():(K=!1,B=null)}}else K=!1}var Se;if(typeof N=="function")Se=function(){N(ue)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,F=at.port2;at.port1.onmessage=ue,Se=function(){F.postMessage(null)}}else Se=function(){re(ue,0)};function $e(te){B=te,K||(K=!0,Se())}function ge(te,de){q=re(function(){te(e.unstable_now())},de)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){G||z||(G=!0,$e(ee))},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return k},e.unstable_getFirstCallbackNode=function(){return a(A)},e.unstable_next=function(te){switch(k){case 1:case 2:case 3:var de=3;break;default:de=k}var fe=k;k=de;try{return te()}finally{k=fe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,de){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var fe=k;k=te;try{return de()}finally{k=fe}},e.unstable_scheduleCallback=function(te,de,fe){var Ye=e.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ye+fe:Ye):fe=Ye,te){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=fe+Ie,te={id:v++,callback:de,priorityLevel:te,startTime:fe,expirationTime:Ie,sortIndex:-1},fe>Ye?(te.sortIndex=fe,n(w,te),a(A)===null&&te===a(w)&&(V?(D(q),q=-1):V=!0,ge(U,fe-Ye))):(te.sortIndex=Ie,n(A,te),G||z||(G=!0,$e(ee))),te},e.unstable_shouldYield=Be,e.unstable_wrapCallback=function(te){var de=k;return function(){var fe=k;k=de;try{return te.apply(this,arguments)}finally{k=fe}}}})(ld);sd.exports=ld;var pf=sd.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var mf=gn,rn=pf;function X(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ud=new Set,Ea={};function qr(e,n){Ri(e,n),Ri(e+"Capture",n)}function Ri(e,n){for(Ea[e]=n,e=0;e<n.length;e++)ud.add(n[e])}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dl=Object.prototype.hasOwnProperty,wf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bc={},Tc={};function Cf(e){return dl.call(Tc,e)?!0:dl.call(bc,e)?!1:wf.test(e)?Tc[e]=!0:(bc[e]=!0,!1)}function Ef(e,n,a,l){if(a!==null&&a.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yf(e,n,a,l){if(n===null||typeof n>"u"||Ef(e,n,a,l))return!0;if(l)return!1;if(a!==null)switch(a.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Ft(e,n,a,l,d,h,p){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=e,this.type=n,this.sanitizeURL=h,this.removeEmptyString=p}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vt[e]=new Ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];vt[n]=new Ft(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vt[e]=new Ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vt[e]=new Ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vt[e]=new Ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vt[e]=new Ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vt[e]=new Ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vt[e]=new Ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vt[e]=new Ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var uu=/[\-:]([a-z])/g;function cu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(uu,cu);vt[n]=new Ft(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(uu,cu);vt[n]=new Ft(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(uu,cu);vt[n]=new Ft(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function du(e,n,a,l){var d=vt.hasOwnProperty(n)?vt[n]:null;(d!==null?d.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(yf(n,a,d,l)&&(a=null),l||d===null?Cf(n)&&(a===null?e.removeAttribute(n):e.setAttribute(n,""+a)):d.mustUseProperty?e[d.propertyName]=a===null?d.type===3?!1:"":a:(n=d.attributeName,l=d.attributeNamespace,a===null?e.removeAttribute(n):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,l?e.setAttributeNS(l,n,a):e.setAttribute(n,a))))}var tr=mf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,to=Symbol.for("react.element"),ci=Symbol.for("react.portal"),di=Symbol.for("react.fragment"),hu=Symbol.for("react.strict_mode"),hl=Symbol.for("react.profiler"),cd=Symbol.for("react.provider"),dd=Symbol.for("react.context"),fu=Symbol.for("react.forward_ref"),fl=Symbol.for("react.suspense"),gl=Symbol.for("react.suspense_list"),gu=Symbol.for("react.memo"),hr=Symbol.for("react.lazy"),hd=Symbol.for("react.offscreen"),vc=Symbol.iterator;function Ji(e){return e===null||typeof e!="object"?null:(e=vc&&e[vc]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Object.assign,Us;function oa(e){if(Us===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Us=n&&n[1]||""}return`
`+Us+e}var zs=!1;function Hs(e,n){if(!e||zs)return"";zs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(w){var l=w}Reflect.construct(e,[],n)}else{try{n.call()}catch(w){l=w}e.call(n.prototype)}else{try{throw Error()}catch(w){l=w}e()}}catch(w){if(w&&l&&typeof w.stack=="string"){for(var d=w.stack.split(`
`),h=l.stack.split(`
`),p=d.length-1,E=h.length-1;1<=p&&0<=E&&d[p]!==h[E];)E--;for(;1<=p&&0<=E;p--,E--)if(d[p]!==h[E]){if(p!==1||E!==1)do if(p--,E--,0>E||d[p]!==h[E]){var A=`
`+d[p].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=p&&0<=E);break}}}finally{zs=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?oa(e):""}function Af(e){switch(e.tag){case 5:return oa(e.type);case 16:return oa("Lazy");case 13:return oa("Suspense");case 19:return oa("SuspenseList");case 0:case 2:case 15:return e=Hs(e.type,!1),e;case 11:return e=Hs(e.type.render,!1),e;case 1:return e=Hs(e.type,!0),e;default:return""}}function pl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case di:return"Fragment";case ci:return"Portal";case hl:return"Profiler";case hu:return"StrictMode";case fl:return"Suspense";case gl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dd:return(e.displayName||"Context")+".Consumer";case cd:return(e._context.displayName||"Context")+".Provider";case fu:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gu:return n=e.displayName||null,n!==null?n:pl(e.type)||"Memo";case hr:n=e._payload,e=e._init;try{return pl(e(n))}catch{}}return null}function Sf(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pl(n);case 8:return n===hu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function vr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fd(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function If(e){var n=fd(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,h=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(p){l=""+p,h.call(this,p)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function no(e){e._valueTracker||(e._valueTracker=If(e))}function gd(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=fd(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function Do(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ml(e,n){var a=n.checked;return Je({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function Nc(e,n){var a=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;a=vr(n.value!=null?n.value:a),e._wrapperState={initialChecked:l,initialValue:a,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function pd(e,n){n=n.checked,n!=null&&du(e,"checked",n,!1)}function wl(e,n){pd(e,n);var a=vr(n.value),l=n.type;if(a!=null)l==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Cl(e,n.type,a):n.hasOwnProperty("defaultValue")&&Cl(e,n.type,vr(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Mc(e,n,a){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,a||n===e.value||(e.value=n),e.defaultValue=n}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function Cl(e,n,a){(n!=="number"||Do(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var sa=Array.isArray;function Ii(e,n,a,l){if(e=e.options,n){n={};for(var d=0;d<a.length;d++)n["$"+a[d]]=!0;for(a=0;a<e.length;a++)d=n.hasOwnProperty("$"+e[a].value),e[a].selected!==d&&(e[a].selected=d),d&&l&&(e[a].defaultSelected=!0)}else{for(a=""+vr(a),n=null,d=0;d<e.length;d++){if(e[d].value===a){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function El(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(X(91));return Je({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rc(e,n){var a=n.value;if(a==null){if(a=n.children,n=n.defaultValue,a!=null){if(n!=null)throw Error(X(92));if(sa(a)){if(1<a.length)throw Error(X(93));a=a[0]}n=a}n==null&&(n=""),a=n}e._wrapperState={initialValue:vr(a)}}function md(e,n){var a=vr(n.value),l=vr(n.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),n.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),l!=null&&(e.defaultValue=""+l)}function Dc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function wd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yl(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?wd(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ro,Cd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,a,l,d){MSApp.execUnsafeLocalFunction(function(){return e(n,a,l,d)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(ro=ro||document.createElement("div"),ro.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ro.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function ya(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var ca={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bf=["Webkit","ms","Moz","O"];Object.keys(ca).forEach(function(e){bf.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),ca[n]=ca[e]})});function Ed(e,n,a){return n==null||typeof n=="boolean"||n===""?"":a||typeof n!="number"||n===0||ca.hasOwnProperty(e)&&ca[e]?(""+n).trim():n+"px"}function yd(e,n){e=e.style;for(var a in n)if(n.hasOwnProperty(a)){var l=a.indexOf("--")===0,d=Ed(a,n[a],l);a==="float"&&(a="cssFloat"),l?e.setProperty(a,d):e[a]=d}}var Tf=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Al(e,n){if(n){if(Tf[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(X(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(X(61))}if(n.style!=null&&typeof n.style!="object")throw Error(X(62))}}function Sl(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Il=null;function pu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bl=null,bi=null,Ti=null;function _c(e){if(e=Ua(e)){if(typeof bl!="function")throw Error(X(280));var n=e.stateNode;n&&(n=ss(n),bl(e.stateNode,e.type,n))}}function Ad(e){bi?Ti?Ti.push(e):Ti=[e]:bi=e}function Sd(){if(bi){var e=bi,n=Ti;if(Ti=bi=null,_c(e),n)for(e=0;e<n.length;e++)_c(n[e])}}function Id(e,n){return e(n)}function bd(){}var Vs=!1;function Td(e,n,a){if(Vs)return e(n,a);Vs=!0;try{return Id(e,n,a)}finally{Vs=!1,(bi!==null||Ti!==null)&&(bd(),Sd())}}function Aa(e,n){var a=e.stateNode;if(a===null)return null;var l=ss(a);if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(X(231,n,typeof a));return a}var Tl=!1;if(qn)try{var $i={};Object.defineProperty($i,"passive",{get:function(){Tl=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch{Tl=!1}function vf(e,n,a,l,d,h,p,E,A){var w=Array.prototype.slice.call(arguments,3);try{n.apply(a,w)}catch(v){this.onError(v)}}var da=!1,_o=null,Oo=!1,vl=null,Nf={onError:function(e){da=!0,_o=e}};function Mf(e,n,a,l,d,h,p,E,A){da=!1,_o=null,vf.apply(Nf,arguments)}function Rf(e,n,a,l,d,h,p,E,A){if(Mf.apply(this,arguments),da){if(da){var w=_o;da=!1,_o=null}else throw Error(X(198));Oo||(Oo=!0,vl=w)}}function Jr(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function vd(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Oc(e){if(Jr(e)!==e)throw Error(X(188))}function Df(e){var n=e.alternate;if(!n){if(n=Jr(e),n===null)throw Error(X(188));return n!==e?null:e}for(var a=e,l=n;;){var d=a.return;if(d===null)break;var h=d.alternate;if(h===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===a)return Oc(d),e;if(h===l)return Oc(d),n;h=h.sibling}throw Error(X(188))}if(a.return!==l.return)a=d,l=h;else{for(var p=!1,E=d.child;E;){if(E===a){p=!0,a=d,l=h;break}if(E===l){p=!0,l=d,a=h;break}E=E.sibling}if(!p){for(E=h.child;E;){if(E===a){p=!0,a=h,l=d;break}if(E===l){p=!0,l=h,a=d;break}E=E.sibling}if(!p)throw Error(X(189))}}if(a.alternate!==l)throw Error(X(190))}if(a.tag!==3)throw Error(X(188));return a.stateNode.current===a?e:n}function Nd(e){return e=Df(e),e!==null?Md(e):null}function Md(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Md(e);if(n!==null)return n;e=e.sibling}return null}var Rd=rn.unstable_scheduleCallback,kc=rn.unstable_cancelCallback,_f=rn.unstable_shouldYield,Of=rn.unstable_requestPaint,st=rn.unstable_now,kf=rn.unstable_getCurrentPriorityLevel,mu=rn.unstable_ImmediatePriority,Dd=rn.unstable_UserBlockingPriority,ko=rn.unstable_NormalPriority,Pf=rn.unstable_LowPriority,_d=rn.unstable_IdlePriority,rs=null,Vn=null;function xf(e){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(rs,e,void 0,(e.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:Ff,Lf=Math.log,Bf=Math.LN2;function Ff(e){return e>>>=0,e===0?32:31-(Lf(e)/Bf|0)|0}var io=64,ao=4194304;function la(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Po(e,n){var a=e.pendingLanes;if(a===0)return 0;var l=0,d=e.suspendedLanes,h=e.pingedLanes,p=a&268435455;if(p!==0){var E=p&~d;E!==0?l=la(E):(h&=p,h!==0&&(l=la(h)))}else p=a&~d,p!==0?l=la(p):h!==0&&(l=la(h));if(l===0)return 0;if(n!==0&&n!==l&&!(n&d)&&(d=l&-l,h=n&-n,d>=h||d===16&&(h&4194240)!==0))return n;if(l&4&&(l|=a&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)a=31-Mn(n),d=1<<a,l|=e[a],n&=~d;return l}function Uf(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zf(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,h=e.pendingLanes;0<h;){var p=31-Mn(h),E=1<<p,A=d[p];A===-1?(!(E&a)||E&l)&&(d[p]=Uf(E,n)):A<=n&&(e.expiredLanes|=E),h&=~E}}function Nl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Od(){var e=io;return io<<=1,!(io&4194240)&&(io=64),e}function js(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Ba(e,n,a){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Mn(n),e[n]=a}function Hf(e,n){var a=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<a;){var d=31-Mn(a),h=1<<d;n[d]=0,l[d]=-1,e[d]=-1,a&=~h}}function wu(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-Mn(a),d=1<<l;d&n|e[l]&n&&(e[l]|=n),a&=~d}}var Oe=0;function kd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Pd,Cu,xd,Ld,Bd,Ml=!1,oo=[],Cr=null,Er=null,yr=null,Sa=new Map,Ia=new Map,gr=[],Vf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pc(e,n){switch(e){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":Sa.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(n.pointerId)}}function ea(e,n,a,l,d,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[d]},n!==null&&(n=Ua(n),n!==null&&Cu(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function jf(e,n,a,l,d){switch(n){case"focusin":return Cr=ea(Cr,e,n,a,l,d),!0;case"dragenter":return Er=ea(Er,e,n,a,l,d),!0;case"mouseover":return yr=ea(yr,e,n,a,l,d),!0;case"pointerover":var h=d.pointerId;return Sa.set(h,ea(Sa.get(h)||null,e,n,a,l,d)),!0;case"gotpointercapture":return h=d.pointerId,Ia.set(h,ea(Ia.get(h)||null,e,n,a,l,d)),!0}return!1}function Fd(e){var n=Hr(e.target);if(n!==null){var a=Jr(n);if(a!==null){if(n=a.tag,n===13){if(n=vd(a),n!==null){e.blockedOn=n,Bd(e.priority,function(){xd(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Rl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Il=l,a.target.dispatchEvent(l),Il=null}else return n=Ua(a),n!==null&&Cu(n),e.blockedOn=a,!1;n.shift()}return!0}function xc(e,n,a){yo(e)&&a.delete(n)}function Wf(){Ml=!1,Cr!==null&&yo(Cr)&&(Cr=null),Er!==null&&yo(Er)&&(Er=null),yr!==null&&yo(yr)&&(yr=null),Sa.forEach(xc),Ia.forEach(xc)}function ta(e,n){e.blockedOn===n&&(e.blockedOn=null,Ml||(Ml=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,Wf)))}function ba(e){function n(d){return ta(d,e)}if(0<oo.length){ta(oo[0],e);for(var a=1;a<oo.length;a++){var l=oo[a];l.blockedOn===e&&(l.blockedOn=null)}}for(Cr!==null&&ta(Cr,e),Er!==null&&ta(Er,e),yr!==null&&ta(yr,e),Sa.forEach(n),Ia.forEach(n),a=0;a<gr.length;a++)l=gr[a],l.blockedOn===e&&(l.blockedOn=null);for(;0<gr.length&&(a=gr[0],a.blockedOn===null);)Fd(a),a.blockedOn===null&&gr.shift()}var vi=tr.ReactCurrentBatchConfig,xo=!0;function Yf(e,n,a,l){var d=Oe,h=vi.transition;vi.transition=null;try{Oe=1,Eu(e,n,a,l)}finally{Oe=d,vi.transition=h}}function Gf(e,n,a,l){var d=Oe,h=vi.transition;vi.transition=null;try{Oe=4,Eu(e,n,a,l)}finally{Oe=d,vi.transition=h}}function Eu(e,n,a,l){if(xo){var d=Rl(e,n,a,l);if(d===null)$s(e,n,l,Lo,a),Pc(e,l);else if(jf(d,e,n,a,l))l.stopPropagation();else if(Pc(e,l),n&4&&-1<Vf.indexOf(e)){for(;d!==null;){var h=Ua(d);if(h!==null&&Pd(h),h=Rl(e,n,a,l),h===null&&$s(e,n,l,Lo,a),h===d)break;d=h}d!==null&&l.stopPropagation()}else $s(e,n,l,null,a)}}var Lo=null;function Rl(e,n,a,l){if(Lo=null,e=pu(l),e=Hr(e),e!==null)if(n=Jr(e),n===null)e=null;else if(a=n.tag,a===13){if(e=vd(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Lo=e,null}function Ud(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kf()){case mu:return 1;case Dd:return 4;case ko:case Pf:return 16;case _d:return 536870912;default:return 16}default:return 16}}var mr=null,yu=null,Ao=null;function zd(){if(Ao)return Ao;var e,n=yu,a=n.length,l,d="value"in mr?mr.value:mr.textContent,h=d.length;for(e=0;e<a&&n[e]===d[e];e++);var p=a-e;for(l=1;l<=p&&n[a-l]===d[h-l];l++);return Ao=d.slice(e,1<l?1-l:void 0)}function So(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function so(){return!0}function Lc(){return!1}function on(e){function n(a,l,d,h,p){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=h,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?so:Lc,this.isPropagationStopped=Lc,this}return Je(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=so)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=so)},persist:function(){},isPersistent:so}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Au=on(Bi),Fa=Je({},Bi,{view:0,detail:0}),Xf=on(Fa),Ws,Ys,na,is=Je({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Su,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==na&&(na&&e.type==="mousemove"?(Ws=e.screenX-na.screenX,Ys=e.screenY-na.screenY):Ys=Ws=0,na=e),Ws)},movementY:function(e){return"movementY"in e?e.movementY:Ys}}),Bc=on(is),Qf=Je({},is,{dataTransfer:0}),Zf=on(Qf),Kf=Je({},Fa,{relatedTarget:0}),Gs=on(Kf),qf=Je({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Jf=on(qf),$f=Je({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),e2=on($f),t2=Je({},Bi,{data:0}),Fc=on(t2),n2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a2(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=i2[e])?!!n[e]:!1}function Su(){return a2}var o2=Je({},Fa,{key:function(e){if(e.key){var n=n2[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=So(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?r2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Su,charCode:function(e){return e.type==="keypress"?So(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?So(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),s2=on(o2),l2=Je({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uc=on(l2),u2=Je({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Su}),c2=on(u2),d2=Je({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),h2=on(d2),f2=Je({},is,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),g2=on(f2),p2=[9,13,27,32],Iu=qn&&"CompositionEvent"in window,ha=null;qn&&"documentMode"in document&&(ha=document.documentMode);var m2=qn&&"TextEvent"in window&&!ha,Hd=qn&&(!Iu||ha&&8<ha&&11>=ha),zc=String.fromCharCode(32),Hc=!1;function Vd(e,n){switch(e){case"keyup":return p2.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hi=!1;function w2(e,n){switch(e){case"compositionend":return jd(n);case"keypress":return n.which!==32?null:(Hc=!0,zc);case"textInput":return e=n.data,e===zc&&Hc?null:e;default:return null}}function C2(e,n){if(hi)return e==="compositionend"||!Iu&&Vd(e,n)?(e=zd(),Ao=yu=mr=null,hi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Hd&&n.locale!=="ko"?null:n.data;default:return null}}var E2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!E2[e.type]:n==="textarea"}function Wd(e,n,a,l){Ad(l),n=Bo(n,"onChange"),0<n.length&&(a=new Au("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var fa=null,Ta=null;function y2(e){th(e,0)}function as(e){var n=pi(e);if(gd(n))return e}function A2(e,n){if(e==="change")return n}var Yd=!1;if(qn){var Xs;if(qn){var Qs="oninput"in document;if(!Qs){var jc=document.createElement("div");jc.setAttribute("oninput","return;"),Qs=typeof jc.oninput=="function"}Xs=Qs}else Xs=!1;Yd=Xs&&(!document.documentMode||9<document.documentMode)}function Wc(){fa&&(fa.detachEvent("onpropertychange",Gd),Ta=fa=null)}function Gd(e){if(e.propertyName==="value"&&as(Ta)){var n=[];Wd(n,Ta,e,pu(e)),Td(y2,n)}}function S2(e,n,a){e==="focusin"?(Wc(),fa=n,Ta=a,fa.attachEvent("onpropertychange",Gd)):e==="focusout"&&Wc()}function I2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return as(Ta)}function b2(e,n){if(e==="click")return as(n)}function T2(e,n){if(e==="input"||e==="change")return as(n)}function v2(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Dn=typeof Object.is=="function"?Object.is:v2;function va(e,n){if(Dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!dl.call(n,d)||!Dn(e[d],n[d]))return!1}return!0}function Yc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gc(e,n){var a=Yc(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yc(a)}}function Xd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Xd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Qd(){for(var e=window,n=Do();n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Do(e.document)}return n}function bu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function N2(e){var n=Qd(),a=e.focusedElem,l=e.selectionRange;if(n!==a&&a&&a.ownerDocument&&Xd(a.ownerDocument.documentElement,a)){if(l!==null&&bu(a)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in a)a.selectionStart=n,a.selectionEnd=Math.min(e,a.value.length);else if(e=(n=a.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var d=a.textContent.length,h=Math.min(l.start,d);l=l.end===void 0?h:Math.min(l.end,d),!e.extend&&h>l&&(d=l,l=h,h=d),d=Gc(a,h);var p=Gc(a,l);d&&p&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),e.removeAllRanges(),h>l?(e.addRange(n),e.extend(p.node,p.offset)):(n.setEnd(p.node,p.offset),e.addRange(n)))}}for(n=[],e=a;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<n.length;a++)e=n[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var M2=qn&&"documentMode"in document&&11>=document.documentMode,fi=null,Dl=null,ga=null,_l=!1;function Xc(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_l||fi==null||fi!==Do(l)||(l=fi,"selectionStart"in l&&bu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ga&&va(ga,l)||(ga=l,l=Bo(Dl,"onSelect"),0<l.length&&(n=new Au("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=fi)))}function lo(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var gi={animationend:lo("Animation","AnimationEnd"),animationiteration:lo("Animation","AnimationIteration"),animationstart:lo("Animation","AnimationStart"),transitionend:lo("Transition","TransitionEnd")},Zs={},Zd={};qn&&(Zd=document.createElement("div").style,"AnimationEvent"in window||(delete gi.animationend.animation,delete gi.animationiteration.animation,delete gi.animationstart.animation),"TransitionEvent"in window||delete gi.transitionend.transition);function os(e){if(Zs[e])return Zs[e];if(!gi[e])return e;var n=gi[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Zd)return Zs[e]=n[a];return e}var Kd=os("animationend"),qd=os("animationiteration"),Jd=os("animationstart"),$d=os("transitionend"),eh=new Map,Qc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,n){eh.set(e,n),qr(n,[e])}for(var Ks=0;Ks<Qc.length;Ks++){var qs=Qc[Ks],R2=qs.toLowerCase(),D2=qs[0].toUpperCase()+qs.slice(1);Rr(R2,"on"+D2)}Rr(Kd,"onAnimationEnd");Rr(qd,"onAnimationIteration");Rr(Jd,"onAnimationStart");Rr("dblclick","onDoubleClick");Rr("focusin","onFocus");Rr("focusout","onBlur");Rr($d,"onTransitionEnd");Ri("onMouseEnter",["mouseout","mouseover"]);Ri("onMouseLeave",["mouseout","mouseover"]);Ri("onPointerEnter",["pointerout","pointerover"]);Ri("onPointerLeave",["pointerout","pointerover"]);qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qr("onBeforeInput",["compositionend","keypress","textInput","paste"]);qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ua));function Zc(e,n,a){var l=e.type||"unknown-event";e.currentTarget=a,Rf(l,n,void 0,e),e.currentTarget=null}function th(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],d=l.event;l=l.listeners;e:{var h=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],A=E.instance,w=E.currentTarget;if(E=E.listener,A!==h&&d.isPropagationStopped())break e;Zc(d,E,w),h=A}else for(p=0;p<l.length;p++){if(E=l[p],A=E.instance,w=E.currentTarget,E=E.listener,A!==h&&d.isPropagationStopped())break e;Zc(d,E,w),h=A}}}if(Oo)throw e=vl,Oo=!1,vl=null,e}function Ve(e,n){var a=n[Ll];a===void 0&&(a=n[Ll]=new Set);var l=e+"__bubble";a.has(l)||(nh(n,e,2,!1),a.add(l))}function Js(e,n,a){var l=0;n&&(l|=4),nh(a,e,l,n)}var uo="_reactListening"+Math.random().toString(36).slice(2);function Na(e){if(!e[uo]){e[uo]=!0,ud.forEach(function(a){a!=="selectionchange"&&(_2.has(a)||Js(a,!1,e),Js(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[uo]||(n[uo]=!0,Js("selectionchange",!1,n))}}function nh(e,n,a,l){switch(Ud(n)){case 1:var d=Yf;break;case 4:d=Gf;break;default:d=Eu}a=d.bind(null,n,a,e),d=void 0,!Tl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(n,a,{capture:!0,passive:d}):e.addEventListener(n,a,!0):d!==void 0?e.addEventListener(n,a,{passive:d}):e.addEventListener(n,a,!1)}function $s(e,n,a,l,d){var h=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===d||E.nodeType===8&&E.parentNode===d)break;if(p===4)for(p=l.return;p!==null;){var A=p.tag;if((A===3||A===4)&&(A=p.stateNode.containerInfo,A===d||A.nodeType===8&&A.parentNode===d))return;p=p.return}for(;E!==null;){if(p=Hr(E),p===null)return;if(A=p.tag,A===5||A===6){l=h=p;continue e}E=E.parentNode}}l=l.return}Td(function(){var w=h,v=pu(a),T=[];e:{var k=eh.get(e);if(k!==void 0){var z=Au,G=e;switch(e){case"keypress":if(So(a)===0)break e;case"keydown":case"keyup":z=s2;break;case"focusin":G="focus",z=Gs;break;case"focusout":G="blur",z=Gs;break;case"beforeblur":case"afterblur":z=Gs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=c2;break;case Kd:case qd:case Jd:z=Jf;break;case $d:z=h2;break;case"scroll":z=Xf;break;case"wheel":z=g2;break;case"copy":case"cut":case"paste":z=e2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Uc}var V=(n&4)!==0,re=!V&&e==="scroll",D=V?k!==null?k+"Capture":null:k;V=[];for(var N=w,R;N!==null;){R=N;var U=R.stateNode;if(R.tag===5&&U!==null&&(R=U,D!==null&&(U=Aa(N,D),U!=null&&V.push(Ma(N,U,R)))),re)break;N=N.return}0<V.length&&(k=new z(k,G,null,a,v),T.push({event:k,listeners:V}))}}if(!(n&7)){e:{if(k=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",k&&a!==Il&&(G=a.relatedTarget||a.fromElement)&&(Hr(G)||G[Jn]))break e;if((z||k)&&(k=v.window===v?v:(k=v.ownerDocument)?k.defaultView||k.parentWindow:window,z?(G=a.relatedTarget||a.toElement,z=w,G=G?Hr(G):null,G!==null&&(re=Jr(G),G!==re||G.tag!==5&&G.tag!==6)&&(G=null)):(z=null,G=w),z!==G)){if(V=Bc,U="onMouseLeave",D="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(V=Uc,U="onPointerLeave",D="onPointerEnter",N="pointer"),re=z==null?k:pi(z),R=G==null?k:pi(G),k=new V(U,N+"leave",z,a,v),k.target=re,k.relatedTarget=R,U=null,Hr(v)===w&&(V=new V(D,N+"enter",G,a,v),V.target=R,V.relatedTarget=re,U=V),re=U,z&&G)t:{for(V=z,D=G,N=0,R=V;R;R=ui(R))N++;for(R=0,U=D;U;U=ui(U))R++;for(;0<N-R;)V=ui(V),N--;for(;0<R-N;)D=ui(D),R--;for(;N--;){if(V===D||D!==null&&V===D.alternate)break t;V=ui(V),D=ui(D)}V=null}else V=null;z!==null&&Kc(T,k,z,V,!1),G!==null&&re!==null&&Kc(T,re,G,V,!0)}}e:{if(k=w?pi(w):window,z=k.nodeName&&k.nodeName.toLowerCase(),z==="select"||z==="input"&&k.type==="file")var ee=A2;else if(Vc(k))if(Yd)ee=T2;else{ee=I2;var K=S2}else(z=k.nodeName)&&z.toLowerCase()==="input"&&(k.type==="checkbox"||k.type==="radio")&&(ee=b2);if(ee&&(ee=ee(e,w))){Wd(T,ee,a,v);break e}K&&K(e,k,w),e==="focusout"&&(K=k._wrapperState)&&K.controlled&&k.type==="number"&&Cl(k,"number",k.value)}switch(K=w?pi(w):window,e){case"focusin":(Vc(K)||K.contentEditable==="true")&&(fi=K,Dl=w,ga=null);break;case"focusout":ga=Dl=fi=null;break;case"mousedown":_l=!0;break;case"contextmenu":case"mouseup":case"dragend":_l=!1,Xc(T,a,v);break;case"selectionchange":if(M2)break;case"keydown":case"keyup":Xc(T,a,v)}var B;if(Iu)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else hi?Vd(e,a)&&(q="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(q="onCompositionStart");q&&(Hd&&a.locale!=="ko"&&(hi||q!=="onCompositionStart"?q==="onCompositionEnd"&&hi&&(B=zd()):(mr=v,yu="value"in mr?mr.value:mr.textContent,hi=!0)),K=Bo(w,q),0<K.length&&(q=new Fc(q,e,null,a,v),T.push({event:q,listeners:K}),B?q.data=B:(B=jd(a),B!==null&&(q.data=B)))),(B=m2?w2(e,a):C2(e,a))&&(w=Bo(w,"onBeforeInput"),0<w.length&&(v=new Fc("onBeforeInput","beforeinput",null,a,v),T.push({event:v,listeners:w}),v.data=B))}th(T,n)})}function Ma(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Bo(e,n){for(var a=n+"Capture",l=[];e!==null;){var d=e,h=d.stateNode;d.tag===5&&h!==null&&(d=h,h=Aa(e,a),h!=null&&l.unshift(Ma(e,h,d)),h=Aa(e,n),h!=null&&l.push(Ma(e,h,d))),e=e.return}return l}function ui(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Kc(e,n,a,l,d){for(var h=n._reactName,p=[];a!==null&&a!==l;){var E=a,A=E.alternate,w=E.stateNode;if(A!==null&&A===l)break;E.tag===5&&w!==null&&(E=w,d?(A=Aa(a,h),A!=null&&p.unshift(Ma(a,A,E))):d||(A=Aa(a,h),A!=null&&p.push(Ma(a,A,E)))),a=a.return}p.length!==0&&e.push({event:n,listeners:p})}var O2=/\r\n?/g,k2=/\u0000|\uFFFD/g;function qc(e){return(typeof e=="string"?e:""+e).replace(O2,`
`).replace(k2,"")}function co(e,n,a){if(n=qc(n),qc(e)!==n&&a)throw Error(X(425))}function Fo(){}var Ol=null,kl=null;function Pl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var xl=typeof setTimeout=="function"?setTimeout:void 0,P2=typeof clearTimeout=="function"?clearTimeout:void 0,Jc=typeof Promise=="function"?Promise:void 0,x2=typeof queueMicrotask=="function"?queueMicrotask:typeof Jc<"u"?function(e){return Jc.resolve(null).then(e).catch(L2)}:xl;function L2(e){setTimeout(function(){throw e})}function el(e,n){var a=n,l=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(l===0){e.removeChild(d),ba(n);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=d}while(a);ba(n)}function Ar(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function $c(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}var Fi=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Fi,Ra="__reactProps$"+Fi,Jn="__reactContainer$"+Fi,Ll="__reactEvents$"+Fi,B2="__reactListeners$"+Fi,F2="__reactHandles$"+Fi;function Hr(e){var n=e[Hn];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Jn]||a[Hn]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=$c(e);e!==null;){if(a=e[Hn])return a;e=$c(e)}return n}e=a,a=e.parentNode}return null}function Ua(e){return e=e[Hn]||e[Jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function ss(e){return e[Ra]||null}var Bl=[],mi=-1;function Dr(e){return{current:e}}function We(e){0>mi||(e.current=Bl[mi],Bl[mi]=null,mi--)}function ze(e,n){mi++,Bl[mi]=e.current,e.current=n}var Nr={},Ot=Dr(Nr),Xt=Dr(!1),Gr=Nr;function Di(e,n){var a=e.type.contextTypes;if(!a)return Nr;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var d={},h;for(h in a)d[h]=n[h];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=d),d}function Qt(e){return e=e.childContextTypes,e!=null}function Uo(){We(Xt),We(Ot)}function e1(e,n,a){if(Ot.current!==Nr)throw Error(X(168));ze(Ot,n),ze(Xt,a)}function rh(e,n,a){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return a;l=l.getChildContext();for(var d in l)if(!(d in n))throw Error(X(108,Sf(e)||"Unknown",d));return Je({},a,l)}function zo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nr,Gr=Ot.current,ze(Ot,e),ze(Xt,Xt.current),!0}function t1(e,n,a){var l=e.stateNode;if(!l)throw Error(X(169));a?(e=rh(e,n,Gr),l.__reactInternalMemoizedMergedChildContext=e,We(Xt),We(Ot),ze(Ot,e)):We(Xt),ze(Xt,a)}var Gn=null,ls=!1,tl=!1;function ih(e){Gn===null?Gn=[e]:Gn.push(e)}function U2(e){ls=!0,ih(e)}function _r(){if(!tl&&Gn!==null){tl=!0;var e=0,n=Oe;try{var a=Gn;for(Oe=1;e<a.length;e++){var l=a[e];do l=l(!0);while(l!==null)}Gn=null,ls=!1}catch(d){throw Gn!==null&&(Gn=Gn.slice(e+1)),Rd(mu,_r),d}finally{Oe=n,tl=!1}}return null}var wi=[],Ci=0,Ho=null,Vo=0,hn=[],fn=0,Xr=null,Xn=1,Qn="";function Ur(e,n){wi[Ci++]=Vo,wi[Ci++]=Ho,Ho=e,Vo=n}function ah(e,n,a){hn[fn++]=Xn,hn[fn++]=Qn,hn[fn++]=Xr,Xr=e;var l=Xn;e=Qn;var d=32-Mn(l)-1;l&=~(1<<d),a+=1;var h=32-Mn(n)+d;if(30<h){var p=d-d%5;h=(l&(1<<p)-1).toString(32),l>>=p,d-=p,Xn=1<<32-Mn(n)+d|a<<d|l,Qn=h+e}else Xn=1<<h|a<<d|l,Qn=e}function Tu(e){e.return!==null&&(Ur(e,1),ah(e,1,0))}function vu(e){for(;e===Ho;)Ho=wi[--Ci],wi[Ci]=null,Vo=wi[--Ci],wi[Ci]=null;for(;e===Xr;)Xr=hn[--fn],hn[fn]=null,Qn=hn[--fn],hn[fn]=null,Xn=hn[--fn],hn[fn]=null}var nn=null,tn=null,Xe=!1,Nn=null;function oh(e,n){var a=pn(5,null,null,0);a.elementType="DELETED",a.stateNode=n,a.return=e,n=e.deletions,n===null?(e.deletions=[a],e.flags|=16):n.push(a)}function n1(e,n){switch(e.tag){case 5:var a=e.type;return n=n.nodeType!==1||a.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,nn=e,tn=Ar(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,nn=e,tn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(a=Xr!==null?{id:Xn,overflow:Qn}:null,e.memoizedState={dehydrated:n,treeContext:a,retryLane:1073741824},a=pn(18,null,null,0),a.stateNode=n,a.return=e,e.child=a,nn=e,tn=null,!0):!1;default:return!1}}function Fl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ul(e){if(Xe){var n=tn;if(n){var a=n;if(!n1(e,n)){if(Fl(e))throw Error(X(418));n=Ar(a.nextSibling);var l=nn;n&&n1(e,n)?oh(l,a):(e.flags=e.flags&-4097|2,Xe=!1,nn=e)}}else{if(Fl(e))throw Error(X(418));e.flags=e.flags&-4097|2,Xe=!1,nn=e}}}function r1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nn=e}function ho(e){if(e!==nn)return!1;if(!Xe)return r1(e),Xe=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Pl(e.type,e.memoizedProps)),n&&(n=tn)){if(Fl(e))throw sh(),Error(X(418));for(;n;)oh(e,n),n=Ar(n.nextSibling)}if(r1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(n===0){tn=Ar(e.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++}e=e.nextSibling}tn=null}}else tn=nn?Ar(e.stateNode.nextSibling):null;return!0}function sh(){for(var e=tn;e;)e=Ar(e.nextSibling)}function _i(){tn=nn=null,Xe=!1}function Nu(e){Nn===null?Nn=[e]:Nn.push(e)}var z2=tr.ReactCurrentBatchConfig;function ra(e,n,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(X(309));var l=a.stateNode}if(!l)throw Error(X(147,e));var d=l,h=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===h?n.ref:(n=function(p){var E=d.refs;p===null?delete E[h]:E[h]=p},n._stringRef=h,n)}if(typeof e!="string")throw Error(X(284));if(!a._owner)throw Error(X(290,e))}return e}function fo(e,n){throw e=Object.prototype.toString.call(n),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function i1(e){var n=e._init;return n(e._payload)}function lh(e){function n(D,N){if(e){var R=D.deletions;R===null?(D.deletions=[N],D.flags|=16):R.push(N)}}function a(D,N){if(!e)return null;for(;N!==null;)n(D,N),N=N.sibling;return null}function l(D,N){for(D=new Map;N!==null;)N.key!==null?D.set(N.key,N):D.set(N.index,N),N=N.sibling;return D}function d(D,N){return D=Tr(D,N),D.index=0,D.sibling=null,D}function h(D,N,R){return D.index=R,e?(R=D.alternate,R!==null?(R=R.index,R<N?(D.flags|=2,N):R):(D.flags|=2,N)):(D.flags|=1048576,N)}function p(D){return e&&D.alternate===null&&(D.flags|=2),D}function E(D,N,R,U){return N===null||N.tag!==6?(N=ll(R,D.mode,U),N.return=D,N):(N=d(N,R),N.return=D,N)}function A(D,N,R,U){var ee=R.type;return ee===di?v(D,N,R.props.children,U,R.key):N!==null&&(N.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===hr&&i1(ee)===N.type)?(U=d(N,R.props),U.ref=ra(D,N,R),U.return=D,U):(U=Ro(R.type,R.key,R.props,null,D.mode,U),U.ref=ra(D,N,R),U.return=D,U)}function w(D,N,R,U){return N===null||N.tag!==4||N.stateNode.containerInfo!==R.containerInfo||N.stateNode.implementation!==R.implementation?(N=ul(R,D.mode,U),N.return=D,N):(N=d(N,R.children||[]),N.return=D,N)}function v(D,N,R,U,ee){return N===null||N.tag!==7?(N=Yr(R,D.mode,U,ee),N.return=D,N):(N=d(N,R),N.return=D,N)}function T(D,N,R){if(typeof N=="string"&&N!==""||typeof N=="number")return N=ll(""+N,D.mode,R),N.return=D,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case to:return R=Ro(N.type,N.key,N.props,null,D.mode,R),R.ref=ra(D,null,N),R.return=D,R;case ci:return N=ul(N,D.mode,R),N.return=D,N;case hr:var U=N._init;return T(D,U(N._payload),R)}if(sa(N)||Ji(N))return N=Yr(N,D.mode,R,null),N.return=D,N;fo(D,N)}return null}function k(D,N,R,U){var ee=N!==null?N.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return ee!==null?null:E(D,N,""+R,U);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case to:return R.key===ee?A(D,N,R,U):null;case ci:return R.key===ee?w(D,N,R,U):null;case hr:return ee=R._init,k(D,N,ee(R._payload),U)}if(sa(R)||Ji(R))return ee!==null?null:v(D,N,R,U,null);fo(D,R)}return null}function z(D,N,R,U,ee){if(typeof U=="string"&&U!==""||typeof U=="number")return D=D.get(R)||null,E(N,D,""+U,ee);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case to:return D=D.get(U.key===null?R:U.key)||null,A(N,D,U,ee);case ci:return D=D.get(U.key===null?R:U.key)||null,w(N,D,U,ee);case hr:var K=U._init;return z(D,N,R,K(U._payload),ee)}if(sa(U)||Ji(U))return D=D.get(R)||null,v(N,D,U,ee,null);fo(N,U)}return null}function G(D,N,R,U){for(var ee=null,K=null,B=N,q=N=0,j=null;B!==null&&q<R.length;q++){B.index>q?(j=B,B=null):j=B.sibling;var pe=k(D,B,R[q],U);if(pe===null){B===null&&(B=j);break}e&&B&&pe.alternate===null&&n(D,B),N=h(pe,N,q),K===null?ee=pe:K.sibling=pe,K=pe,B=j}if(q===R.length)return a(D,B),Xe&&Ur(D,q),ee;if(B===null){for(;q<R.length;q++)B=T(D,R[q],U),B!==null&&(N=h(B,N,q),K===null?ee=B:K.sibling=B,K=B);return Xe&&Ur(D,q),ee}for(B=l(D,B);q<R.length;q++)j=z(B,D,q,R[q],U),j!==null&&(e&&j.alternate!==null&&B.delete(j.key===null?q:j.key),N=h(j,N,q),K===null?ee=j:K.sibling=j,K=j);return e&&B.forEach(function(Be){return n(D,Be)}),Xe&&Ur(D,q),ee}function V(D,N,R,U){var ee=Ji(R);if(typeof ee!="function")throw Error(X(150));if(R=ee.call(R),R==null)throw Error(X(151));for(var K=ee=null,B=N,q=N=0,j=null,pe=R.next();B!==null&&!pe.done;q++,pe=R.next()){B.index>q?(j=B,B=null):j=B.sibling;var Be=k(D,B,pe.value,U);if(Be===null){B===null&&(B=j);break}e&&B&&Be.alternate===null&&n(D,B),N=h(Be,N,q),K===null?ee=Be:K.sibling=Be,K=Be,B=j}if(pe.done)return a(D,B),Xe&&Ur(D,q),ee;if(B===null){for(;!pe.done;q++,pe=R.next())pe=T(D,pe.value,U),pe!==null&&(N=h(pe,N,q),K===null?ee=pe:K.sibling=pe,K=pe);return Xe&&Ur(D,q),ee}for(B=l(D,B);!pe.done;q++,pe=R.next())pe=z(B,D,q,pe.value,U),pe!==null&&(e&&pe.alternate!==null&&B.delete(pe.key===null?q:pe.key),N=h(pe,N,q),K===null?ee=pe:K.sibling=pe,K=pe);return e&&B.forEach(function(ue){return n(D,ue)}),Xe&&Ur(D,q),ee}function re(D,N,R,U){if(typeof R=="object"&&R!==null&&R.type===di&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case to:e:{for(var ee=R.key,K=N;K!==null;){if(K.key===ee){if(ee=R.type,ee===di){if(K.tag===7){a(D,K.sibling),N=d(K,R.props.children),N.return=D,D=N;break e}}else if(K.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===hr&&i1(ee)===K.type){a(D,K.sibling),N=d(K,R.props),N.ref=ra(D,K,R),N.return=D,D=N;break e}a(D,K);break}else n(D,K);K=K.sibling}R.type===di?(N=Yr(R.props.children,D.mode,U,R.key),N.return=D,D=N):(U=Ro(R.type,R.key,R.props,null,D.mode,U),U.ref=ra(D,N,R),U.return=D,D=U)}return p(D);case ci:e:{for(K=R.key;N!==null;){if(N.key===K)if(N.tag===4&&N.stateNode.containerInfo===R.containerInfo&&N.stateNode.implementation===R.implementation){a(D,N.sibling),N=d(N,R.children||[]),N.return=D,D=N;break e}else{a(D,N);break}else n(D,N);N=N.sibling}N=ul(R,D.mode,U),N.return=D,D=N}return p(D);case hr:return K=R._init,re(D,N,K(R._payload),U)}if(sa(R))return G(D,N,R,U);if(Ji(R))return V(D,N,R,U);fo(D,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,N!==null&&N.tag===6?(a(D,N.sibling),N=d(N,R),N.return=D,D=N):(a(D,N),N=ll(R,D.mode,U),N.return=D,D=N),p(D)):a(D,N)}return re}var Oi=lh(!0),uh=lh(!1),jo=Dr(null),Wo=null,Ei=null,Mu=null;function Ru(){Mu=Ei=Wo=null}function Du(e){var n=jo.current;We(jo),e._currentValue=n}function zl(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function Ni(e,n){Wo=e,Mu=Ei=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(Gt=!0),e.firstContext=null)}function wn(e){var n=e._currentValue;if(Mu!==e)if(e={context:e,memoizedValue:n,next:null},Ei===null){if(Wo===null)throw Error(X(308));Ei=e,Wo.dependencies={lanes:0,firstContext:e}}else Ei=Ei.next=e;return n}var Vr=null;function _u(e){Vr===null?Vr=[e]:Vr.push(e)}function ch(e,n,a,l){var d=n.interleaved;return d===null?(a.next=a,_u(n)):(a.next=d.next,d.next=a),n.interleaved=a,$n(e,l)}function $n(e,n){e.lanes|=n;var a=e.alternate;for(a!==null&&(a.lanes|=n),a=e,e=e.return;e!==null;)e.childLanes|=n,a=e.alternate,a!==null&&(a.childLanes|=n),a=e,e=e.return;return a.tag===3?a.stateNode:null}var fr=!1;function Ou(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Sr(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,ve&2){var d=l.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n,$n(e,a)}return d=l.interleaved,d===null?(n.next=n,_u(l)):(n.next=d.next,d.next=n),l.interleaved=n,$n(e,a)}function Io(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,wu(e,a)}}function a1(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var p={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};h===null?d=h=p:h=h.next=p,a=a.next}while(a!==null);h===null?d=h=n:h=h.next=n}else d=h=n;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:l.shared,effects:l.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}function Yo(e,n,a,l){var d=e.updateQueue;fr=!1;var h=d.firstBaseUpdate,p=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var A=E,w=A.next;A.next=null,p===null?h=w:p.next=w,p=A;var v=e.alternate;v!==null&&(v=v.updateQueue,E=v.lastBaseUpdate,E!==p&&(E===null?v.firstBaseUpdate=w:E.next=w,v.lastBaseUpdate=A))}if(h!==null){var T=d.baseState;p=0,v=w=A=null,E=h;do{var k=E.lane,z=E.eventTime;if((l&k)===k){v!==null&&(v=v.next={eventTime:z,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var G=e,V=E;switch(k=n,z=a,V.tag){case 1:if(G=V.payload,typeof G=="function"){T=G.call(z,T,k);break e}T=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=V.payload,k=typeof G=="function"?G.call(z,T,k):G,k==null)break e;T=Je({},T,k);break e;case 2:fr=!0}}E.callback!==null&&E.lane!==0&&(e.flags|=64,k=d.effects,k===null?d.effects=[E]:k.push(E))}else z={eventTime:z,lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},v===null?(w=v=z,A=T):v=v.next=z,p|=k;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;k=E,E=k.next,k.next=null,d.lastBaseUpdate=k,d.shared.pending=null}}while(1);if(v===null&&(A=T),d.baseState=A,d.firstBaseUpdate=w,d.lastBaseUpdate=v,n=d.shared.interleaved,n!==null){d=n;do p|=d.lane,d=d.next;while(d!==n)}else h===null&&(d.shared.lanes=0);Zr|=p,e.lanes=p,e.memoizedState=T}}function o1(e,n,a){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],d=l.callback;if(d!==null){if(l.callback=null,l=a,typeof d!="function")throw Error(X(191,d));d.call(l)}}}var za={},jn=Dr(za),Da=Dr(za),_a=Dr(za);function jr(e){if(e===za)throw Error(X(174));return e}function ku(e,n){switch(ze(_a,n),ze(Da,e),ze(jn,za),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:yl(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=yl(n,e)}We(jn),ze(jn,n)}function ki(){We(jn),We(Da),We(_a)}function hh(e){jr(_a.current);var n=jr(jn.current),a=yl(n,e.type);n!==a&&(ze(Da,e),ze(jn,a))}function Pu(e){Da.current===e&&(We(jn),We(Da))}var Ke=Dr(0);function Go(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var nl=[];function xu(){for(var e=0;e<nl.length;e++)nl[e]._workInProgressVersionPrimary=null;nl.length=0}var bo=tr.ReactCurrentDispatcher,rl=tr.ReactCurrentBatchConfig,Qr=0,qe=null,ft=null,Ct=null,Xo=!1,pa=!1,Oa=0,H2=0;function Rt(){throw Error(X(321))}function Lu(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Dn(e[a],n[a]))return!1;return!0}function Bu(e,n,a,l,d,h){if(Qr=h,qe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,bo.current=e===null||e.memoizedState===null?Y2:G2,e=a(l,d),pa){h=0;do{if(pa=!1,Oa=0,25<=h)throw Error(X(301));h+=1,Ct=ft=null,n.updateQueue=null,bo.current=X2,e=a(l,d)}while(pa)}if(bo.current=Qo,n=ft!==null&&ft.next!==null,Qr=0,Ct=ft=qe=null,Xo=!1,n)throw Error(X(300));return e}function Fu(){var e=Oa!==0;return Oa=0,e}function Un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?qe.memoizedState=Ct=e:Ct=Ct.next=e,Ct}function Cn(){if(ft===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var n=Ct===null?qe.memoizedState:Ct.next;if(n!==null)Ct=n,ft=e;else{if(e===null)throw Error(X(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Ct===null?qe.memoizedState=Ct=e:Ct=Ct.next=e}return Ct}function ka(e,n){return typeof n=="function"?n(e):n}function il(e){var n=Cn(),a=n.queue;if(a===null)throw Error(X(311));a.lastRenderedReducer=e;var l=ft,d=l.baseQueue,h=a.pending;if(h!==null){if(d!==null){var p=d.next;d.next=h.next,h.next=p}l.baseQueue=d=h,a.pending=null}if(d!==null){h=d.next,l=l.baseState;var E=p=null,A=null,w=h;do{var v=w.lane;if((Qr&v)===v)A!==null&&(A=A.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),l=w.hasEagerState?w.eagerState:e(l,w.action);else{var T={lane:v,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};A===null?(E=A=T,p=l):A=A.next=T,qe.lanes|=v,Zr|=v}w=w.next}while(w!==null&&w!==h);A===null?p=l:A.next=E,Dn(l,n.memoizedState)||(Gt=!0),n.memoizedState=l,n.baseState=p,n.baseQueue=A,a.lastRenderedState=l}if(e=a.interleaved,e!==null){d=e;do h=d.lane,qe.lanes|=h,Zr|=h,d=d.next;while(d!==e)}else d===null&&(a.lanes=0);return[n.memoizedState,a.dispatch]}function al(e){var n=Cn(),a=n.queue;if(a===null)throw Error(X(311));a.lastRenderedReducer=e;var l=a.dispatch,d=a.pending,h=n.memoizedState;if(d!==null){a.pending=null;var p=d=d.next;do h=e(h,p.action),p=p.next;while(p!==d);Dn(h,n.memoizedState)||(Gt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function fh(){}function gh(e,n){var a=qe,l=Cn(),d=n(),h=!Dn(l.memoizedState,d);if(h&&(l.memoizedState=d,Gt=!0),l=l.queue,Uu(wh.bind(null,a,l,e),[e]),l.getSnapshot!==n||h||Ct!==null&&Ct.memoizedState.tag&1){if(a.flags|=2048,Pa(9,mh.bind(null,a,l,d,n),void 0,null),Et===null)throw Error(X(349));Qr&30||ph(a,n,d)}return d}function ph(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=qe.updateQueue,n===null?(n={lastEffect:null,stores:null},qe.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function mh(e,n,a,l){n.value=a,n.getSnapshot=l,Ch(n)&&Eh(e)}function wh(e,n,a){return a(function(){Ch(n)&&Eh(e)})}function Ch(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Dn(e,a)}catch{return!0}}function Eh(e){var n=$n(e,1);n!==null&&Rn(n,e,1,-1)}function s1(e){var n=Un();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},n.queue=e,e=e.dispatch=W2.bind(null,qe,e),[n.memoizedState,e]}function Pa(e,n,a,l){return e={tag:e,create:n,destroy:a,deps:l,next:null},n=qe.updateQueue,n===null?(n={lastEffect:null,stores:null},qe.updateQueue=n,n.lastEffect=e.next=e):(a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e)),e}function yh(){return Cn().memoizedState}function To(e,n,a,l){var d=Un();qe.flags|=e,d.memoizedState=Pa(1|n,a,void 0,l===void 0?null:l)}function us(e,n,a,l){var d=Cn();l=l===void 0?null:l;var h=void 0;if(ft!==null){var p=ft.memoizedState;if(h=p.destroy,l!==null&&Lu(l,p.deps)){d.memoizedState=Pa(n,a,h,l);return}}qe.flags|=e,d.memoizedState=Pa(1|n,a,h,l)}function l1(e,n){return To(8390656,8,e,n)}function Uu(e,n){return us(2048,8,e,n)}function Ah(e,n){return us(4,2,e,n)}function Sh(e,n){return us(4,4,e,n)}function Ih(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function bh(e,n,a){return a=a!=null?a.concat([e]):null,us(4,4,Ih.bind(null,n,e),a)}function zu(){}function Th(e,n){var a=Cn();n=n===void 0?null:n;var l=a.memoizedState;return l!==null&&n!==null&&Lu(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function vh(e,n){var a=Cn();n=n===void 0?null:n;var l=a.memoizedState;return l!==null&&n!==null&&Lu(n,l[1])?l[0]:(e=e(),a.memoizedState=[e,n],e)}function Nh(e,n,a){return Qr&21?(Dn(a,n)||(a=Od(),qe.lanes|=a,Zr|=a,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,Gt=!0),e.memoizedState=a)}function V2(e,n){var a=Oe;Oe=a!==0&&4>a?a:4,e(!0);var l=rl.transition;rl.transition={};try{e(!1),n()}finally{Oe=a,rl.transition=l}}function Mh(){return Cn().memoizedState}function j2(e,n,a){var l=br(e);if(a={lane:l,action:a,hasEagerState:!1,eagerState:null,next:null},Rh(e))Dh(n,a);else if(a=ch(e,n,a,l),a!==null){var d=Lt();Rn(a,e,l,d),_h(a,n,l)}}function W2(e,n,a){var l=br(e),d={lane:l,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rh(e))Dh(n,d);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var p=n.lastRenderedState,E=h(p,a);if(d.hasEagerState=!0,d.eagerState=E,Dn(E,p)){var A=n.interleaved;A===null?(d.next=d,_u(n)):(d.next=A.next,A.next=d),n.interleaved=d;return}}catch{}finally{}a=ch(e,n,d,l),a!==null&&(d=Lt(),Rn(a,e,l,d),_h(a,n,l))}}function Rh(e){var n=e.alternate;return e===qe||n!==null&&n===qe}function Dh(e,n){pa=Xo=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function _h(e,n,a){if(a&4194240){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,wu(e,a)}}var Qo={readContext:wn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},Y2={readContext:wn,useCallback:function(e,n){return Un().memoizedState=[e,n===void 0?null:n],e},useContext:wn,useEffect:l1,useImperativeHandle:function(e,n,a){return a=a!=null?a.concat([e]):null,To(4194308,4,Ih.bind(null,n,e),a)},useLayoutEffect:function(e,n){return To(4194308,4,e,n)},useInsertionEffect:function(e,n){return To(4,2,e,n)},useMemo:function(e,n){var a=Un();return n=n===void 0?null:n,e=e(),a.memoizedState=[e,n],e},useReducer:function(e,n,a){var l=Un();return n=a!==void 0?a(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=j2.bind(null,qe,e),[l.memoizedState,e]},useRef:function(e){var n=Un();return e={current:e},n.memoizedState=e},useState:s1,useDebugValue:zu,useDeferredValue:function(e){return Un().memoizedState=e},useTransition:function(){var e=s1(!1),n=e[0];return e=V2.bind(null,e[1]),Un().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,a){var l=qe,d=Un();if(Xe){if(a===void 0)throw Error(X(407));a=a()}else{if(a=n(),Et===null)throw Error(X(349));Qr&30||ph(l,n,a)}d.memoizedState=a;var h={value:a,getSnapshot:n};return d.queue=h,l1(wh.bind(null,l,h,e),[e]),l.flags|=2048,Pa(9,mh.bind(null,l,h,a,n),void 0,null),a},useId:function(){var e=Un(),n=Et.identifierPrefix;if(Xe){var a=Qn,l=Xn;a=(l&~(1<<32-Mn(l)-1)).toString(32)+a,n=":"+n+"R"+a,a=Oa++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=H2++,n=":"+n+"r"+a.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},G2={readContext:wn,useCallback:Th,useContext:wn,useEffect:Uu,useImperativeHandle:bh,useInsertionEffect:Ah,useLayoutEffect:Sh,useMemo:vh,useReducer:il,useRef:yh,useState:function(){return il(ka)},useDebugValue:zu,useDeferredValue:function(e){var n=Cn();return Nh(n,ft.memoizedState,e)},useTransition:function(){var e=il(ka)[0],n=Cn().memoizedState;return[e,n]},useMutableSource:fh,useSyncExternalStore:gh,useId:Mh,unstable_isNewReconciler:!1},X2={readContext:wn,useCallback:Th,useContext:wn,useEffect:Uu,useImperativeHandle:bh,useInsertionEffect:Ah,useLayoutEffect:Sh,useMemo:vh,useReducer:al,useRef:yh,useState:function(){return al(ka)},useDebugValue:zu,useDeferredValue:function(e){var n=Cn();return ft===null?n.memoizedState=e:Nh(n,ft.memoizedState,e)},useTransition:function(){var e=al(ka)[0],n=Cn().memoizedState;return[e,n]},useMutableSource:fh,useSyncExternalStore:gh,useId:Mh,unstable_isNewReconciler:!1};function bn(e,n){if(e&&e.defaultProps){n=Je({},n),e=e.defaultProps;for(var a in e)n[a]===void 0&&(n[a]=e[a]);return n}return n}function Hl(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:Je({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var cs={isMounted:function(e){return(e=e._reactInternals)?Jr(e)===e:!1},enqueueSetState:function(e,n,a){e=e._reactInternals;var l=Lt(),d=br(e),h=Kn(l,d);h.payload=n,a!=null&&(h.callback=a),n=Sr(e,h,d),n!==null&&(Rn(n,e,d,l),Io(n,e,d))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=Lt(),d=br(e),h=Kn(l,d);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Sr(e,h,d),n!==null&&(Rn(n,e,d,l),Io(n,e,d))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Lt(),l=br(e),d=Kn(a,l);d.tag=2,n!=null&&(d.callback=n),n=Sr(e,d,l),n!==null&&(Rn(n,e,l,a),Io(n,e,l))}};function u1(e,n,a,l,d,h,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,p):n.prototype&&n.prototype.isPureReactComponent?!va(a,l)||!va(d,h):!0}function Oh(e,n,a){var l=!1,d=Nr,h=n.contextType;return typeof h=="object"&&h!==null?h=wn(h):(d=Qt(n)?Gr:Ot.current,l=n.contextTypes,h=(l=l!=null)?Di(e,d):Nr),n=new n(a,h),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=cs,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=h),n}function c1(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&cs.enqueueReplaceState(n,n.state,null)}function Vl(e,n,a,l){var d=e.stateNode;d.props=a,d.state=e.memoizedState,d.refs={},Ou(e);var h=n.contextType;typeof h=="object"&&h!==null?d.context=wn(h):(h=Qt(n)?Gr:Ot.current,d.context=Di(e,h)),d.state=e.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(Hl(e,n,h,a),d.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(n=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),n!==d.state&&cs.enqueueReplaceState(d,d.state,null),Yo(e,a,d,l),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function Pi(e,n){try{var a="",l=n;do a+=Af(l),l=l.return;while(l);var d=a}catch(h){d=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:n,stack:d,digest:null}}function ol(e,n,a){return{value:e,source:null,stack:a??null,digest:n??null}}function jl(e,n){try{console.error(n.value)}catch(a){setTimeout(function(){throw a})}}var Q2=typeof WeakMap=="function"?WeakMap:Map;function kh(e,n,a){a=Kn(-1,a),a.tag=3,a.payload={element:null};var l=n.value;return a.callback=function(){Ko||(Ko=!0,Jl=l),jl(e,n)},a}function Ph(e,n,a){a=Kn(-1,a),a.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var d=n.value;a.payload=function(){return l(d)},a.callback=function(){jl(e,n)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(a.callback=function(){jl(e,n),typeof l!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var p=n.stack;this.componentDidCatch(n.value,{componentStack:p!==null?p:""})}),a}function d1(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Q2;var d=new Set;l.set(n,d)}else d=l.get(n),d===void 0&&(d=new Set,l.set(n,d));d.has(a)||(d.add(a),e=lg.bind(null,e,n,a),n.then(e,e))}function h1(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function f1(e,n,a,l,d){return e.mode&1?(e.flags|=65536,e.lanes=d,e):(e===n?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(n=Kn(-1,1),n.tag=2,Sr(a,n,1))),a.lanes|=1),e)}var Z2=tr.ReactCurrentOwner,Gt=!1;function xt(e,n,a,l){n.child=e===null?uh(n,null,a,l):Oi(n,e.child,a,l)}function g1(e,n,a,l,d){a=a.render;var h=n.ref;return Ni(n,d),l=Bu(e,n,a,l,h,d),a=Fu(),e!==null&&!Gt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,er(e,n,d)):(Xe&&a&&Tu(n),n.flags|=1,xt(e,n,l,d),n.child)}function p1(e,n,a,l,d){if(e===null){var h=a.type;return typeof h=="function"&&!Qu(h)&&h.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(n.tag=15,n.type=h,xh(e,n,h,l,d)):(e=Ro(a.type,null,l,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!(e.lanes&d)){var p=h.memoizedProps;if(a=a.compare,a=a!==null?a:va,a(p,l)&&e.ref===n.ref)return er(e,n,d)}return n.flags|=1,e=Tr(h,l),e.ref=n.ref,e.return=n,n.child=e}function xh(e,n,a,l,d){if(e!==null){var h=e.memoizedProps;if(va(h,l)&&e.ref===n.ref)if(Gt=!1,n.pendingProps=l=h,(e.lanes&d)!==0)e.flags&131072&&(Gt=!0);else return n.lanes=e.lanes,er(e,n,d)}return Wl(e,n,a,l,d)}function Lh(e,n,a){var l=n.pendingProps,d=l.children,h=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Ai,$t),$t|=a;else{if(!(a&1073741824))return e=h!==null?h.baseLanes|a:a,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,ze(Ai,$t),$t|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=h!==null?h.baseLanes:a,ze(Ai,$t),$t|=l}else h!==null?(l=h.baseLanes|a,n.memoizedState=null):l=a,ze(Ai,$t),$t|=l;return xt(e,n,d,a),n.child}function Bh(e,n){var a=n.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(n.flags|=512,n.flags|=2097152)}function Wl(e,n,a,l,d){var h=Qt(a)?Gr:Ot.current;return h=Di(n,h),Ni(n,d),a=Bu(e,n,a,l,h,d),l=Fu(),e!==null&&!Gt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~d,er(e,n,d)):(Xe&&l&&Tu(n),n.flags|=1,xt(e,n,a,d),n.child)}function m1(e,n,a,l,d){if(Qt(a)){var h=!0;zo(n)}else h=!1;if(Ni(n,d),n.stateNode===null)vo(e,n),Oh(n,a,l),Vl(n,a,l,d),l=!0;else if(e===null){var p=n.stateNode,E=n.memoizedProps;p.props=E;var A=p.context,w=a.contextType;typeof w=="object"&&w!==null?w=wn(w):(w=Qt(a)?Gr:Ot.current,w=Di(n,w));var v=a.getDerivedStateFromProps,T=typeof v=="function"||typeof p.getSnapshotBeforeUpdate=="function";T||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==l||A!==w)&&c1(n,p,l,w),fr=!1;var k=n.memoizedState;p.state=k,Yo(n,l,p,d),A=n.memoizedState,E!==l||k!==A||Xt.current||fr?(typeof v=="function"&&(Hl(n,a,v,l),A=n.memoizedState),(E=fr||u1(n,a,E,l,k,A,w))?(T||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=A),p.props=l,p.state=A,p.context=w,l=E):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{p=n.stateNode,dh(e,n),E=n.memoizedProps,w=n.type===n.elementType?E:bn(n.type,E),p.props=w,T=n.pendingProps,k=p.context,A=a.contextType,typeof A=="object"&&A!==null?A=wn(A):(A=Qt(a)?Gr:Ot.current,A=Di(n,A));var z=a.getDerivedStateFromProps;(v=typeof z=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==T||k!==A)&&c1(n,p,l,A),fr=!1,k=n.memoizedState,p.state=k,Yo(n,l,p,d);var G=n.memoizedState;E!==T||k!==G||Xt.current||fr?(typeof z=="function"&&(Hl(n,a,z,l),G=n.memoizedState),(w=fr||u1(n,a,w,l,k,G,A)||!1)?(v||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,G,A),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,G,A)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),p.props=l,p.state=G,p.context=A,l=w):(typeof p.componentDidUpdate!="function"||E===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),l=!1)}return Yl(e,n,a,l,h,d)}function Yl(e,n,a,l,d,h){Bh(e,n);var p=(n.flags&128)!==0;if(!l&&!p)return d&&t1(n,a,!1),er(e,n,h);l=n.stateNode,Z2.current=n;var E=p&&typeof a.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&p?(n.child=Oi(n,e.child,null,h),n.child=Oi(n,null,E,h)):xt(e,n,E,h),n.memoizedState=l.state,d&&t1(n,a,!0),n.child}function Fh(e){var n=e.stateNode;n.pendingContext?e1(e,n.pendingContext,n.pendingContext!==n.context):n.context&&e1(e,n.context,!1),ku(e,n.containerInfo)}function w1(e,n,a,l,d){return _i(),Nu(d),n.flags|=256,xt(e,n,a,l),n.child}var Gl={dehydrated:null,treeContext:null,retryLane:0};function Xl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uh(e,n,a){var l=n.pendingProps,d=Ke.current,h=!1,p=(n.flags&128)!==0,E;if((E=p)||(E=e!==null&&e.memoizedState===null?!1:(d&2)!==0),E?(h=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),ze(Ke,d&1),e===null)return Ul(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(p=l.children,e=l.fallback,h?(l=n.mode,h=n.child,p={mode:"hidden",children:p},!(l&1)&&h!==null?(h.childLanes=0,h.pendingProps=p):h=fs(p,l,0,null),e=Yr(e,l,a,null),h.return=n,e.return=n,h.sibling=e,n.child=h,n.child.memoizedState=Xl(a),n.memoizedState=Gl,e):Hu(n,p));if(d=e.memoizedState,d!==null&&(E=d.dehydrated,E!==null))return K2(e,n,p,l,E,d,a);if(h){h=l.fallback,p=n.mode,d=e.child,E=d.sibling;var A={mode:"hidden",children:l.children};return!(p&1)&&n.child!==d?(l=n.child,l.childLanes=0,l.pendingProps=A,n.deletions=null):(l=Tr(d,A),l.subtreeFlags=d.subtreeFlags&14680064),E!==null?h=Tr(E,h):(h=Yr(h,p,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,p=e.child.memoizedState,p=p===null?Xl(a):{baseLanes:p.baseLanes|a,cachePool:null,transitions:p.transitions},h.memoizedState=p,h.childLanes=e.childLanes&~a,n.memoizedState=Gl,l}return h=e.child,e=h.sibling,l=Tr(h,{mode:"visible",children:l.children}),!(n.mode&1)&&(l.lanes=a),l.return=n,l.sibling=null,e!==null&&(a=n.deletions,a===null?(n.deletions=[e],n.flags|=16):a.push(e)),n.child=l,n.memoizedState=null,l}function Hu(e,n){return n=fs({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function go(e,n,a,l){return l!==null&&Nu(l),Oi(n,e.child,null,a),e=Hu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function K2(e,n,a,l,d,h,p){if(a)return n.flags&256?(n.flags&=-257,l=ol(Error(X(422))),go(e,n,p,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(h=l.fallback,d=n.mode,l=fs({mode:"visible",children:l.children},d,0,null),h=Yr(h,d,p,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,n.mode&1&&Oi(n,e.child,null,p),n.child.memoizedState=Xl(p),n.memoizedState=Gl,h);if(!(n.mode&1))return go(e,n,p,null);if(d.data==="$!"){if(l=d.nextSibling&&d.nextSibling.dataset,l)var E=l.dgst;return l=E,h=Error(X(419)),l=ol(h,l,void 0),go(e,n,p,l)}if(E=(p&e.childLanes)!==0,Gt||E){if(l=Et,l!==null){switch(p&-p){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(l.suspendedLanes|p)?0:d,d!==0&&d!==h.retryLane&&(h.retryLane=d,$n(e,d),Rn(l,e,d,-1))}return Xu(),l=ol(Error(X(421))),go(e,n,p,l)}return d.data==="$?"?(n.flags|=128,n.child=e.child,n=ug.bind(null,e),d._reactRetry=n,null):(e=h.treeContext,tn=Ar(d.nextSibling),nn=n,Xe=!0,Nn=null,e!==null&&(hn[fn++]=Xn,hn[fn++]=Qn,hn[fn++]=Xr,Xn=e.id,Qn=e.overflow,Xr=n),n=Hu(n,l.children),n.flags|=4096,n)}function C1(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),zl(e.return,n,a)}function sl(e,n,a,l,d){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=a,h.tailMode=d)}function zh(e,n,a){var l=n.pendingProps,d=l.revealOrder,h=l.tail;if(xt(e,n,l.children,a),l=Ke.current,l&2)l=l&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&C1(e,a,n);else if(e.tag===19)C1(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(ze(Ke,l),!(n.mode&1))n.memoizedState=null;else switch(d){case"forwards":for(a=n.child,d=null;a!==null;)e=a.alternate,e!==null&&Go(e)===null&&(d=a),a=a.sibling;a=d,a===null?(d=n.child,n.child=null):(d=a.sibling,a.sibling=null),sl(n,!1,d,a,h);break;case"backwards":for(a=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Go(e)===null){n.child=d;break}e=d.sibling,d.sibling=a,a=d,d=e}sl(n,!0,a,null,h);break;case"together":sl(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function vo(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function er(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Zr|=n.lanes,!(a&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(X(153));if(n.child!==null){for(e=n.child,a=Tr(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Tr(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function q2(e,n,a){switch(n.tag){case 3:Fh(n),_i();break;case 5:hh(n);break;case 1:Qt(n.type)&&zo(n);break;case 4:ku(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,d=n.memoizedProps.value;ze(jo,l._currentValue),l._currentValue=d;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(ze(Ke,Ke.current&1),n.flags|=128,null):a&n.child.childLanes?Uh(e,n,a):(ze(Ke,Ke.current&1),e=er(e,n,a),e!==null?e.sibling:null);ze(Ke,Ke.current&1);break;case 19:if(l=(a&n.childLanes)!==0,e.flags&128){if(l)return zh(e,n,a);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ze(Ke,Ke.current),l)break;return null;case 22:case 23:return n.lanes=0,Lh(e,n,a)}return er(e,n,a)}var Hh,Ql,Vh,jh;Hh=function(e,n){for(var a=n.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Ql=function(){};Vh=function(e,n,a,l){var d=e.memoizedProps;if(d!==l){e=n.stateNode,jr(jn.current);var h=null;switch(a){case"input":d=ml(e,d),l=ml(e,l),h=[];break;case"select":d=Je({},d,{value:void 0}),l=Je({},l,{value:void 0}),h=[];break;case"textarea":d=El(e,d),l=El(e,l),h=[];break;default:typeof d.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Fo)}Al(a,l);var p;a=null;for(w in d)if(!l.hasOwnProperty(w)&&d.hasOwnProperty(w)&&d[w]!=null)if(w==="style"){var E=d[w];for(p in E)E.hasOwnProperty(p)&&(a||(a={}),a[p]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(Ea.hasOwnProperty(w)?h||(h=[]):(h=h||[]).push(w,null));for(w in l){var A=l[w];if(E=d!=null?d[w]:void 0,l.hasOwnProperty(w)&&A!==E&&(A!=null||E!=null))if(w==="style")if(E){for(p in E)!E.hasOwnProperty(p)||A&&A.hasOwnProperty(p)||(a||(a={}),a[p]="");for(p in A)A.hasOwnProperty(p)&&E[p]!==A[p]&&(a||(a={}),a[p]=A[p])}else a||(h||(h=[]),h.push(w,a)),a=A;else w==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,E=E?E.__html:void 0,A!=null&&E!==A&&(h=h||[]).push(w,A)):w==="children"?typeof A!="string"&&typeof A!="number"||(h=h||[]).push(w,""+A):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(Ea.hasOwnProperty(w)?(A!=null&&w==="onScroll"&&Ve("scroll",e),h||E===A||(h=[])):(h=h||[]).push(w,A))}a&&(h=h||[]).push("style",a);var w=h;(n.updateQueue=w)&&(n.flags|=4)}};jh=function(e,n,a,l){a!==l&&(n.flags|=4)};function ia(e,n){if(!Xe)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Dt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var d=e.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&14680064,l|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function J2(e,n,a){var l=n.pendingProps;switch(vu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(n),null;case 1:return Qt(n.type)&&Uo(),Dt(n),null;case 3:return l=n.stateNode,ki(),We(Xt),We(Ot),xu(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(ho(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Nn!==null&&(tu(Nn),Nn=null))),Ql(e,n),Dt(n),null;case 5:Pu(n);var d=jr(_a.current);if(a=n.type,e!==null&&n.stateNode!=null)Vh(e,n,a,l,d),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(X(166));return Dt(n),null}if(e=jr(jn.current),ho(n)){l=n.stateNode,a=n.type;var h=n.memoizedProps;switch(l[Hn]=n,l[Ra]=h,e=(n.mode&1)!==0,a){case"dialog":Ve("cancel",l),Ve("close",l);break;case"iframe":case"object":case"embed":Ve("load",l);break;case"video":case"audio":for(d=0;d<ua.length;d++)Ve(ua[d],l);break;case"source":Ve("error",l);break;case"img":case"image":case"link":Ve("error",l),Ve("load",l);break;case"details":Ve("toggle",l);break;case"input":Nc(l,h),Ve("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!h.multiple},Ve("invalid",l);break;case"textarea":Rc(l,h),Ve("invalid",l)}Al(a,h),d=null;for(var p in h)if(h.hasOwnProperty(p)){var E=h[p];p==="children"?typeof E=="string"?l.textContent!==E&&(h.suppressHydrationWarning!==!0&&co(l.textContent,E,e),d=["children",E]):typeof E=="number"&&l.textContent!==""+E&&(h.suppressHydrationWarning!==!0&&co(l.textContent,E,e),d=["children",""+E]):Ea.hasOwnProperty(p)&&E!=null&&p==="onScroll"&&Ve("scroll",l)}switch(a){case"input":no(l),Mc(l,h,!0);break;case"textarea":no(l),Dc(l);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(l.onclick=Fo)}l=d,n.updateQueue=l,l!==null&&(n.flags|=4)}else{p=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wd(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=p.createElement(a,{is:l.is}):(e=p.createElement(a),a==="select"&&(p=e,l.multiple?p.multiple=!0:l.size&&(p.size=l.size))):e=p.createElementNS(e,a),e[Hn]=n,e[Ra]=l,Hh(e,n,!1,!1),n.stateNode=e;e:{switch(p=Sl(a,l),a){case"dialog":Ve("cancel",e),Ve("close",e),d=l;break;case"iframe":case"object":case"embed":Ve("load",e),d=l;break;case"video":case"audio":for(d=0;d<ua.length;d++)Ve(ua[d],e);d=l;break;case"source":Ve("error",e),d=l;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),d=l;break;case"details":Ve("toggle",e),d=l;break;case"input":Nc(e,l),d=ml(e,l),Ve("invalid",e);break;case"option":d=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},d=Je({},l,{value:void 0}),Ve("invalid",e);break;case"textarea":Rc(e,l),d=El(e,l),Ve("invalid",e);break;default:d=l}Al(a,d),E=d;for(h in E)if(E.hasOwnProperty(h)){var A=E[h];h==="style"?yd(e,A):h==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&Cd(e,A)):h==="children"?typeof A=="string"?(a!=="textarea"||A!=="")&&ya(e,A):typeof A=="number"&&ya(e,""+A):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Ea.hasOwnProperty(h)?A!=null&&h==="onScroll"&&Ve("scroll",e):A!=null&&du(e,h,A,p))}switch(a){case"input":no(e),Mc(e,l,!1);break;case"textarea":no(e),Dc(e);break;case"option":l.value!=null&&e.setAttribute("value",""+vr(l.value));break;case"select":e.multiple=!!l.multiple,h=l.value,h!=null?Ii(e,!!l.multiple,h,!1):l.defaultValue!=null&&Ii(e,!!l.multiple,l.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Fo)}switch(a){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Dt(n),null;case 6:if(e&&n.stateNode!=null)jh(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(X(166));if(a=jr(_a.current),jr(jn.current),ho(n)){if(l=n.stateNode,a=n.memoizedProps,l[Hn]=n,(h=l.nodeValue!==a)&&(e=nn,e!==null))switch(e.tag){case 3:co(l.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&co(l.nodeValue,a,(e.mode&1)!==0)}h&&(n.flags|=4)}else l=(a.nodeType===9?a:a.ownerDocument).createTextNode(l),l[Hn]=n,n.stateNode=l}return Dt(n),null;case 13:if(We(Ke),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xe&&tn!==null&&n.mode&1&&!(n.flags&128))sh(),_i(),n.flags|=98560,h=!1;else if(h=ho(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(X(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(X(317));h[Hn]=n}else _i(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Dt(n),h=!1}else Nn!==null&&(tu(Nn),Nn=null),h=!0;if(!h)return n.flags&65536?n:null}return n.flags&128?(n.lanes=a,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,n.mode&1&&(e===null||Ke.current&1?gt===0&&(gt=3):Xu())),n.updateQueue!==null&&(n.flags|=4),Dt(n),null);case 4:return ki(),Ql(e,n),e===null&&Na(n.stateNode.containerInfo),Dt(n),null;case 10:return Du(n.type._context),Dt(n),null;case 17:return Qt(n.type)&&Uo(),Dt(n),null;case 19:if(We(Ke),h=n.memoizedState,h===null)return Dt(n),null;if(l=(n.flags&128)!==0,p=h.rendering,p===null)if(l)ia(h,!1);else{if(gt!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(p=Go(e),p!==null){for(n.flags|=128,ia(h,!1),l=p.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=a,a=n.child;a!==null;)h=a,e=l,h.flags&=14680066,p=h.alternate,p===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=p.childLanes,h.lanes=p.lanes,h.child=p.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=p.memoizedProps,h.memoizedState=p.memoizedState,h.updateQueue=p.updateQueue,h.type=p.type,e=p.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return ze(Ke,Ke.current&1|2),n.child}e=e.sibling}h.tail!==null&&st()>xi&&(n.flags|=128,l=!0,ia(h,!1),n.lanes=4194304)}else{if(!l)if(e=Go(p),e!==null){if(n.flags|=128,l=!0,a=e.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),ia(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!Xe)return Dt(n),null}else 2*st()-h.renderingStartTime>xi&&a!==1073741824&&(n.flags|=128,l=!0,ia(h,!1),n.lanes=4194304);h.isBackwards?(p.sibling=n.child,n.child=p):(a=h.last,a!==null?a.sibling=p:n.child=p,h.last=p)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=st(),n.sibling=null,a=Ke.current,ze(Ke,l?a&1|2:a&1),n):(Dt(n),null);case 22:case 23:return Gu(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&n.mode&1?$t&1073741824&&(Dt(n),n.subtreeFlags&6&&(n.flags|=8192)):Dt(n),null;case 24:return null;case 25:return null}throw Error(X(156,n.tag))}function $2(e,n){switch(vu(n),n.tag){case 1:return Qt(n.type)&&Uo(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ki(),We(Xt),We(Ot),xu(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Pu(n),null;case 13:if(We(Ke),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(X(340));_i()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return We(Ke),null;case 4:return ki(),null;case 10:return Du(n.type._context),null;case 22:case 23:return Gu(),null;case 24:return null;default:return null}}var po=!1,_t=!1,eg=typeof WeakSet=="function"?WeakSet:Set,ie=null;function yi(e,n){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(l){it(e,n,l)}else a.current=null}function Wh(e,n,a){try{a()}catch(l){it(e,n,l)}}var E1=!1;function tg(e,n){if(Ol=xo,e=Qd(),bu(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var p=0,E=-1,A=-1,w=0,v=0,T=e,k=null;t:for(;;){for(var z;T!==a||d!==0&&T.nodeType!==3||(E=p+d),T!==h||l!==0&&T.nodeType!==3||(A=p+l),T.nodeType===3&&(p+=T.nodeValue.length),(z=T.firstChild)!==null;)k=T,T=z;for(;;){if(T===e)break t;if(k===a&&++w===d&&(E=p),k===h&&++v===l&&(A=p),(z=T.nextSibling)!==null)break;T=k,k=T.parentNode}T=z}a=E===-1||A===-1?null:{start:E,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(kl={focusedElem:e,selectionRange:a},xo=!1,ie=n;ie!==null;)if(n=ie,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ie=e;else for(;ie!==null;){n=ie;try{var G=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(G!==null){var V=G.memoizedProps,re=G.memoizedState,D=n.stateNode,N=D.getSnapshotBeforeUpdate(n.elementType===n.type?V:bn(n.type,V),re);D.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var R=n.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(U){it(n,n.return,U)}if(e=n.sibling,e!==null){e.return=n.return,ie=e;break}ie=n.return}return G=E1,E1=!1,G}function ma(e,n,a){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&e)===e){var h=d.destroy;d.destroy=void 0,h!==void 0&&Wh(n,a,h)}d=d.next}while(d!==l)}}function ds(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var l=a.create;a.destroy=l()}a=a.next}while(a!==n)}}function Zl(e){var n=e.ref;if(n!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof n=="function"?n(e):n.current=e}}function Yh(e){var n=e.alternate;n!==null&&(e.alternate=null,Yh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Hn],delete n[Ra],delete n[Ll],delete n[B2],delete n[F2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Gh(e){return e.tag===5||e.tag===3||e.tag===4}function y1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kl(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(e,n):a.insertBefore(e,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(e,a)):(n=a,n.appendChild(e)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Fo));else if(l!==4&&(e=e.child,e!==null))for(Kl(e,n,a),e=e.sibling;e!==null;)Kl(e,n,a),e=e.sibling}function ql(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(ql(e,n,a),e=e.sibling;e!==null;)ql(e,n,a),e=e.sibling}var bt=null,Tn=!1;function cr(e,n,a){for(a=a.child;a!==null;)Xh(e,n,a),a=a.sibling}function Xh(e,n,a){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(rs,a)}catch{}switch(a.tag){case 5:_t||yi(a,n);case 6:var l=bt,d=Tn;bt=null,cr(e,n,a),bt=l,Tn=d,bt!==null&&(Tn?(e=bt,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):bt.removeChild(a.stateNode));break;case 18:bt!==null&&(Tn?(e=bt,a=a.stateNode,e.nodeType===8?el(e.parentNode,a):e.nodeType===1&&el(e,a),ba(e)):el(bt,a.stateNode));break;case 4:l=bt,d=Tn,bt=a.stateNode.containerInfo,Tn=!0,cr(e,n,a),bt=l,Tn=d;break;case 0:case 11:case 14:case 15:if(!_t&&(l=a.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){d=l=l.next;do{var h=d,p=h.destroy;h=h.tag,p!==void 0&&(h&2||h&4)&&Wh(a,n,p),d=d.next}while(d!==l)}cr(e,n,a);break;case 1:if(!_t&&(yi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=a.memoizedProps,l.state=a.memoizedState,l.componentWillUnmount()}catch(E){it(a,n,E)}cr(e,n,a);break;case 21:cr(e,n,a);break;case 22:a.mode&1?(_t=(l=_t)||a.memoizedState!==null,cr(e,n,a),_t=l):cr(e,n,a);break;default:cr(e,n,a)}}function A1(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new eg),n.forEach(function(l){var d=cg.bind(null,e,l);a.has(l)||(a.add(l),l.then(d,d))})}}function In(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];try{var h=e,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 5:bt=E.stateNode,Tn=!1;break e;case 3:bt=E.stateNode.containerInfo,Tn=!0;break e;case 4:bt=E.stateNode.containerInfo,Tn=!0;break e}E=E.return}if(bt===null)throw Error(X(160));Xh(h,p,d),bt=null,Tn=!1;var A=d.alternate;A!==null&&(A.return=null),d.return=null}catch(w){it(d,n,w)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Qh(n,e),n=n.sibling}function Qh(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(In(n,e),Fn(e),l&4){try{ma(3,e,e.return),ds(3,e)}catch(V){it(e,e.return,V)}try{ma(5,e,e.return)}catch(V){it(e,e.return,V)}}break;case 1:In(n,e),Fn(e),l&512&&a!==null&&yi(a,a.return);break;case 5:if(In(n,e),Fn(e),l&512&&a!==null&&yi(a,a.return),e.flags&32){var d=e.stateNode;try{ya(d,"")}catch(V){it(e,e.return,V)}}if(l&4&&(d=e.stateNode,d!=null)){var h=e.memoizedProps,p=a!==null?a.memoizedProps:h,E=e.type,A=e.updateQueue;if(e.updateQueue=null,A!==null)try{E==="input"&&h.type==="radio"&&h.name!=null&&pd(d,h),Sl(E,p);var w=Sl(E,h);for(p=0;p<A.length;p+=2){var v=A[p],T=A[p+1];v==="style"?yd(d,T):v==="dangerouslySetInnerHTML"?Cd(d,T):v==="children"?ya(d,T):du(d,v,T,w)}switch(E){case"input":wl(d,h);break;case"textarea":md(d,h);break;case"select":var k=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!h.multiple;var z=h.value;z!=null?Ii(d,!!h.multiple,z,!1):k!==!!h.multiple&&(h.defaultValue!=null?Ii(d,!!h.multiple,h.defaultValue,!0):Ii(d,!!h.multiple,h.multiple?[]:"",!1))}d[Ra]=h}catch(V){it(e,e.return,V)}}break;case 6:if(In(n,e),Fn(e),l&4){if(e.stateNode===null)throw Error(X(162));d=e.stateNode,h=e.memoizedProps;try{d.nodeValue=h}catch(V){it(e,e.return,V)}}break;case 3:if(In(n,e),Fn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ba(n.containerInfo)}catch(V){it(e,e.return,V)}break;case 4:In(n,e),Fn(e);break;case 13:In(n,e),Fn(e),d=e.child,d.flags&8192&&(h=d.memoizedState!==null,d.stateNode.isHidden=h,!h||d.alternate!==null&&d.alternate.memoizedState!==null||(Wu=st())),l&4&&A1(e);break;case 22:if(v=a!==null&&a.memoizedState!==null,e.mode&1?(_t=(w=_t)||v,In(n,e),_t=w):In(n,e),Fn(e),l&8192){if(w=e.memoizedState!==null,(e.stateNode.isHidden=w)&&!v&&e.mode&1)for(ie=e,v=e.child;v!==null;){for(T=ie=v;ie!==null;){switch(k=ie,z=k.child,k.tag){case 0:case 11:case 14:case 15:ma(4,k,k.return);break;case 1:yi(k,k.return);var G=k.stateNode;if(typeof G.componentWillUnmount=="function"){l=k,a=k.return;try{n=l,G.props=n.memoizedProps,G.state=n.memoizedState,G.componentWillUnmount()}catch(V){it(l,a,V)}}break;case 5:yi(k,k.return);break;case 22:if(k.memoizedState!==null){I1(T);continue}}z!==null?(z.return=k,ie=z):I1(T)}v=v.sibling}e:for(v=null,T=e;;){if(T.tag===5){if(v===null){v=T;try{d=T.stateNode,w?(h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(E=T.stateNode,A=T.memoizedProps.style,p=A!=null&&A.hasOwnProperty("display")?A.display:null,E.style.display=Ed("display",p))}catch(V){it(e,e.return,V)}}}else if(T.tag===6){if(v===null)try{T.stateNode.nodeValue=w?"":T.memoizedProps}catch(V){it(e,e.return,V)}}else if((T.tag!==22&&T.tag!==23||T.memoizedState===null||T===e)&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===e)break e;for(;T.sibling===null;){if(T.return===null||T.return===e)break e;v===T&&(v=null),T=T.return}v===T&&(v=null),T.sibling.return=T.return,T=T.sibling}}break;case 19:In(n,e),Fn(e),l&4&&A1(e);break;case 21:break;default:In(n,e),Fn(e)}}function Fn(e){var n=e.flags;if(n&2){try{e:{for(var a=e.return;a!==null;){if(Gh(a)){var l=a;break e}a=a.return}throw Error(X(160))}switch(l.tag){case 5:var d=l.stateNode;l.flags&32&&(ya(d,""),l.flags&=-33);var h=y1(e);ql(e,h,d);break;case 3:case 4:var p=l.stateNode.containerInfo,E=y1(e);Kl(e,E,p);break;default:throw Error(X(161))}}catch(A){it(e,e.return,A)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ng(e,n,a){ie=e,Zh(e)}function Zh(e,n,a){for(var l=(e.mode&1)!==0;ie!==null;){var d=ie,h=d.child;if(d.tag===22&&l){var p=d.memoizedState!==null||po;if(!p){var E=d.alternate,A=E!==null&&E.memoizedState!==null||_t;E=po;var w=_t;if(po=p,(_t=A)&&!w)for(ie=d;ie!==null;)p=ie,A=p.child,p.tag===22&&p.memoizedState!==null?b1(d):A!==null?(A.return=p,ie=A):b1(d);for(;h!==null;)ie=h,Zh(h),h=h.sibling;ie=d,po=E,_t=w}S1(e)}else d.subtreeFlags&8772&&h!==null?(h.return=d,ie=h):S1(e)}}function S1(e){for(;ie!==null;){var n=ie;if(n.flags&8772){var a=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:_t||ds(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!_t)if(a===null)l.componentDidMount();else{var d=n.elementType===n.type?a.memoizedProps:bn(n.type,a.memoizedProps);l.componentDidUpdate(d,a.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var h=n.updateQueue;h!==null&&o1(n,h,l);break;case 3:var p=n.updateQueue;if(p!==null){if(a=null,n.child!==null)switch(n.child.tag){case 5:a=n.child.stateNode;break;case 1:a=n.child.stateNode}o1(n,p,a)}break;case 5:var E=n.stateNode;if(a===null&&n.flags&4){a=E;var A=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&a.focus();break;case"img":A.src&&(a.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var w=n.alternate;if(w!==null){var v=w.memoizedState;if(v!==null){var T=v.dehydrated;T!==null&&ba(T)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}_t||n.flags&512&&Zl(n)}catch(k){it(n,n.return,k)}}if(n===e){ie=null;break}if(a=n.sibling,a!==null){a.return=n.return,ie=a;break}ie=n.return}}function I1(e){for(;ie!==null;){var n=ie;if(n===e){ie=null;break}var a=n.sibling;if(a!==null){a.return=n.return,ie=a;break}ie=n.return}}function b1(e){for(;ie!==null;){var n=ie;try{switch(n.tag){case 0:case 11:case 15:var a=n.return;try{ds(4,n)}catch(A){it(n,a,A)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var d=n.return;try{l.componentDidMount()}catch(A){it(n,d,A)}}var h=n.return;try{Zl(n)}catch(A){it(n,h,A)}break;case 5:var p=n.return;try{Zl(n)}catch(A){it(n,p,A)}}}catch(A){it(n,n.return,A)}if(n===e){ie=null;break}var E=n.sibling;if(E!==null){E.return=n.return,ie=E;break}ie=n.return}}var rg=Math.ceil,Zo=tr.ReactCurrentDispatcher,Vu=tr.ReactCurrentOwner,mn=tr.ReactCurrentBatchConfig,ve=0,Et=null,ut=null,Tt=0,$t=0,Ai=Dr(0),gt=0,xa=null,Zr=0,hs=0,ju=0,wa=null,Yt=null,Wu=0,xi=1/0,Yn=null,Ko=!1,Jl=null,Ir=null,mo=!1,wr=null,qo=0,Ca=0,$l=null,No=-1,Mo=0;function Lt(){return ve&6?st():No!==-1?No:No=st()}function br(e){return e.mode&1?ve&2&&Tt!==0?Tt&-Tt:z2.transition!==null?(Mo===0&&(Mo=Od()),Mo):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:Ud(e.type)),e):1}function Rn(e,n,a,l){if(50<Ca)throw Ca=0,$l=null,Error(X(185));Ba(e,a,l),(!(ve&2)||e!==Et)&&(e===Et&&(!(ve&2)&&(hs|=a),gt===4&&pr(e,Tt)),Zt(e,l),a===1&&ve===0&&!(n.mode&1)&&(xi=st()+500,ls&&_r()))}function Zt(e,n){var a=e.callbackNode;zf(e,n);var l=Po(e,e===Et?Tt:0);if(l===0)a!==null&&kc(a),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(a!=null&&kc(a),n===1)e.tag===0?U2(T1.bind(null,e)):ih(T1.bind(null,e)),x2(function(){!(ve&6)&&_r()}),a=null;else{switch(kd(l)){case 1:a=mu;break;case 4:a=Dd;break;case 16:a=ko;break;case 536870912:a=_d;break;default:a=ko}a=r0(a,Kh.bind(null,e))}e.callbackPriority=n,e.callbackNode=a}}function Kh(e,n){if(No=-1,Mo=0,ve&6)throw Error(X(327));var a=e.callbackNode;if(Mi()&&e.callbackNode!==a)return null;var l=Po(e,e===Et?Tt:0);if(l===0)return null;if(l&30||l&e.expiredLanes||n)n=Jo(e,l);else{n=l;var d=ve;ve|=2;var h=Jh();(Et!==e||Tt!==n)&&(Yn=null,xi=st()+500,Wr(e,n));do try{og();break}catch(E){qh(e,E)}while(1);Ru(),Zo.current=h,ve=d,ut!==null?n=0:(Et=null,Tt=0,n=gt)}if(n!==0){if(n===2&&(d=Nl(e),d!==0&&(l=d,n=eu(e,d))),n===1)throw a=xa,Wr(e,0),pr(e,l),Zt(e,st()),a;if(n===6)pr(e,l);else{if(d=e.current.alternate,!(l&30)&&!ig(d)&&(n=Jo(e,l),n===2&&(h=Nl(e),h!==0&&(l=h,n=eu(e,h))),n===1))throw a=xa,Wr(e,0),pr(e,l),Zt(e,st()),a;switch(e.finishedWork=d,e.finishedLanes=l,n){case 0:case 1:throw Error(X(345));case 2:zr(e,Yt,Yn);break;case 3:if(pr(e,l),(l&130023424)===l&&(n=Wu+500-st(),10<n)){if(Po(e,0)!==0)break;if(d=e.suspendedLanes,(d&l)!==l){Lt(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=xl(zr.bind(null,e,Yt,Yn),n);break}zr(e,Yt,Yn);break;case 4:if(pr(e,l),(l&4194240)===l)break;for(n=e.eventTimes,d=-1;0<l;){var p=31-Mn(l);h=1<<p,p=n[p],p>d&&(d=p),l&=~h}if(l=d,l=st()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*rg(l/1960))-l,10<l){e.timeoutHandle=xl(zr.bind(null,e,Yt,Yn),l);break}zr(e,Yt,Yn);break;case 5:zr(e,Yt,Yn);break;default:throw Error(X(329))}}}return Zt(e,st()),e.callbackNode===a?Kh.bind(null,e):null}function eu(e,n){var a=wa;return e.current.memoizedState.isDehydrated&&(Wr(e,n).flags|=256),e=Jo(e,n),e!==2&&(n=Yt,Yt=a,n!==null&&tu(n)),e}function tu(e){Yt===null?Yt=e:Yt.push.apply(Yt,e)}function ig(e){for(var n=e;;){if(n.flags&16384){var a=n.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var l=0;l<a.length;l++){var d=a[l],h=d.getSnapshot;d=d.value;try{if(!Dn(h(),d))return!1}catch{return!1}}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function pr(e,n){for(n&=~ju,n&=~hs,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var a=31-Mn(n),l=1<<a;e[a]=-1,n&=~l}}function T1(e){if(ve&6)throw Error(X(327));Mi();var n=Po(e,0);if(!(n&1))return Zt(e,st()),null;var a=Jo(e,n);if(e.tag!==0&&a===2){var l=Nl(e);l!==0&&(n=l,a=eu(e,l))}if(a===1)throw a=xa,Wr(e,0),pr(e,n),Zt(e,st()),a;if(a===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,zr(e,Yt,Yn),Zt(e,st()),null}function Yu(e,n){var a=ve;ve|=1;try{return e(n)}finally{ve=a,ve===0&&(xi=st()+500,ls&&_r())}}function Kr(e){wr!==null&&wr.tag===0&&!(ve&6)&&Mi();var n=ve;ve|=1;var a=mn.transition,l=Oe;try{if(mn.transition=null,Oe=1,e)return e()}finally{Oe=l,mn.transition=a,ve=n,!(ve&6)&&_r()}}function Gu(){$t=Ai.current,We(Ai)}function Wr(e,n){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,P2(a)),ut!==null)for(a=ut.return;a!==null;){var l=a;switch(vu(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Uo();break;case 3:ki(),We(Xt),We(Ot),xu();break;case 5:Pu(l);break;case 4:ki();break;case 13:We(Ke);break;case 19:We(Ke);break;case 10:Du(l.type._context);break;case 22:case 23:Gu()}a=a.return}if(Et=e,ut=e=Tr(e.current,null),Tt=$t=n,gt=0,xa=null,ju=hs=Zr=0,Yt=wa=null,Vr!==null){for(n=0;n<Vr.length;n++)if(a=Vr[n],l=a.interleaved,l!==null){a.interleaved=null;var d=l.next,h=a.pending;if(h!==null){var p=h.next;h.next=d,l.next=p}a.pending=l}Vr=null}return e}function qh(e,n){do{var a=ut;try{if(Ru(),bo.current=Qo,Xo){for(var l=qe.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}Xo=!1}if(Qr=0,Ct=ft=qe=null,pa=!1,Oa=0,Vu.current=null,a===null||a.return===null){gt=1,xa=n,ut=null;break}e:{var h=e,p=a.return,E=a,A=n;if(n=Tt,E.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var w=A,v=E,T=v.tag;if(!(v.mode&1)&&(T===0||T===11||T===15)){var k=v.alternate;k?(v.updateQueue=k.updateQueue,v.memoizedState=k.memoizedState,v.lanes=k.lanes):(v.updateQueue=null,v.memoizedState=null)}var z=h1(p);if(z!==null){z.flags&=-257,f1(z,p,E,h,n),z.mode&1&&d1(h,w,n),n=z,A=w;var G=n.updateQueue;if(G===null){var V=new Set;V.add(A),n.updateQueue=V}else G.add(A);break e}else{if(!(n&1)){d1(h,w,n),Xu();break e}A=Error(X(426))}}else if(Xe&&E.mode&1){var re=h1(p);if(re!==null){!(re.flags&65536)&&(re.flags|=256),f1(re,p,E,h,n),Nu(Pi(A,E));break e}}h=A=Pi(A,E),gt!==4&&(gt=2),wa===null?wa=[h]:wa.push(h),h=p;do{switch(h.tag){case 3:h.flags|=65536,n&=-n,h.lanes|=n;var D=kh(h,A,n);a1(h,D);break e;case 1:E=A;var N=h.type,R=h.stateNode;if(!(h.flags&128)&&(typeof N.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Ir===null||!Ir.has(R)))){h.flags|=65536,n&=-n,h.lanes|=n;var U=Ph(h,E,n);a1(h,U);break e}}h=h.return}while(h!==null)}e0(a)}catch(ee){n=ee,ut===a&&a!==null&&(ut=a=a.return);continue}break}while(1)}function Jh(){var e=Zo.current;return Zo.current=Qo,e===null?Qo:e}function Xu(){(gt===0||gt===3||gt===2)&&(gt=4),Et===null||!(Zr&268435455)&&!(hs&268435455)||pr(Et,Tt)}function Jo(e,n){var a=ve;ve|=2;var l=Jh();(Et!==e||Tt!==n)&&(Yn=null,Wr(e,n));do try{ag();break}catch(d){qh(e,d)}while(1);if(Ru(),ve=a,Zo.current=l,ut!==null)throw Error(X(261));return Et=null,Tt=0,gt}function ag(){for(;ut!==null;)$h(ut)}function og(){for(;ut!==null&&!_f();)$h(ut)}function $h(e){var n=n0(e.alternate,e,$t);e.memoizedProps=e.pendingProps,n===null?e0(e):ut=n,Vu.current=null}function e0(e){var n=e;do{var a=n.alternate;if(e=n.return,n.flags&32768){if(a=$2(a,n),a!==null){a.flags&=32767,ut=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gt=6,ut=null;return}}else if(a=J2(a,n,$t),a!==null){ut=a;return}if(n=n.sibling,n!==null){ut=n;return}ut=n=e}while(n!==null);gt===0&&(gt=5)}function zr(e,n,a){var l=Oe,d=mn.transition;try{mn.transition=null,Oe=1,sg(e,n,a,l)}finally{mn.transition=d,Oe=l}return null}function sg(e,n,a,l){do Mi();while(wr!==null);if(ve&6)throw Error(X(327));a=e.finishedWork;var d=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var h=a.lanes|a.childLanes;if(Hf(e,h),e===Et&&(ut=Et=null,Tt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||mo||(mo=!0,r0(ko,function(){return Mi(),null})),h=(a.flags&15990)!==0,a.subtreeFlags&15990||h){h=mn.transition,mn.transition=null;var p=Oe;Oe=1;var E=ve;ve|=4,Vu.current=null,tg(e,a),Qh(a,e),N2(kl),xo=!!Ol,kl=Ol=null,e.current=a,ng(a),Of(),ve=E,Oe=p,mn.transition=h}else e.current=a;if(mo&&(mo=!1,wr=e,qo=d),h=e.pendingLanes,h===0&&(Ir=null),xf(a.stateNode),Zt(e,st()),n!==null)for(l=e.onRecoverableError,a=0;a<n.length;a++)d=n[a],l(d.value,{componentStack:d.stack,digest:d.digest});if(Ko)throw Ko=!1,e=Jl,Jl=null,e;return qo&1&&e.tag!==0&&Mi(),h=e.pendingLanes,h&1?e===$l?Ca++:(Ca=0,$l=e):Ca=0,_r(),null}function Mi(){if(wr!==null){var e=kd(qo),n=mn.transition,a=Oe;try{if(mn.transition=null,Oe=16>e?16:e,wr===null)var l=!1;else{if(e=wr,wr=null,qo=0,ve&6)throw Error(X(331));var d=ve;for(ve|=4,ie=e.current;ie!==null;){var h=ie,p=h.child;if(ie.flags&16){var E=h.deletions;if(E!==null){for(var A=0;A<E.length;A++){var w=E[A];for(ie=w;ie!==null;){var v=ie;switch(v.tag){case 0:case 11:case 15:ma(8,v,h)}var T=v.child;if(T!==null)T.return=v,ie=T;else for(;ie!==null;){v=ie;var k=v.sibling,z=v.return;if(Yh(v),v===w){ie=null;break}if(k!==null){k.return=z,ie=k;break}ie=z}}}var G=h.alternate;if(G!==null){var V=G.child;if(V!==null){G.child=null;do{var re=V.sibling;V.sibling=null,V=re}while(V!==null)}}ie=h}}if(h.subtreeFlags&2064&&p!==null)p.return=h,ie=p;else e:for(;ie!==null;){if(h=ie,h.flags&2048)switch(h.tag){case 0:case 11:case 15:ma(9,h,h.return)}var D=h.sibling;if(D!==null){D.return=h.return,ie=D;break e}ie=h.return}}var N=e.current;for(ie=N;ie!==null;){p=ie;var R=p.child;if(p.subtreeFlags&2064&&R!==null)R.return=p,ie=R;else e:for(p=N;ie!==null;){if(E=ie,E.flags&2048)try{switch(E.tag){case 0:case 11:case 15:ds(9,E)}}catch(ee){it(E,E.return,ee)}if(E===p){ie=null;break e}var U=E.sibling;if(U!==null){U.return=E.return,ie=U;break e}ie=E.return}}if(ve=d,_r(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(rs,e)}catch{}l=!0}return l}finally{Oe=a,mn.transition=n}}return!1}function v1(e,n,a){n=Pi(a,n),n=kh(e,n,1),e=Sr(e,n,1),n=Lt(),e!==null&&(Ba(e,1,n),Zt(e,n))}function it(e,n,a){if(e.tag===3)v1(e,e,a);else for(;n!==null;){if(n.tag===3){v1(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ir===null||!Ir.has(l))){e=Pi(a,e),e=Ph(n,e,1),n=Sr(n,e,1),e=Lt(),n!==null&&(Ba(n,1,e),Zt(n,e));break}}n=n.return}}function lg(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),n=Lt(),e.pingedLanes|=e.suspendedLanes&a,Et===e&&(Tt&a)===a&&(gt===4||gt===3&&(Tt&130023424)===Tt&&500>st()-Wu?Wr(e,0):ju|=a),Zt(e,n)}function t0(e,n){n===0&&(e.mode&1?(n=ao,ao<<=1,!(ao&130023424)&&(ao=4194304)):n=1);var a=Lt();e=$n(e,n),e!==null&&(Ba(e,n,a),Zt(e,a))}function ug(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),t0(e,a)}function cg(e,n){var a=0;switch(e.tag){case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(X(314))}l!==null&&l.delete(n),t0(e,a)}var n0;n0=function(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps||Xt.current)Gt=!0;else{if(!(e.lanes&a)&&!(n.flags&128))return Gt=!1,q2(e,n,a);Gt=!!(e.flags&131072)}else Gt=!1,Xe&&n.flags&1048576&&ah(n,Vo,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;vo(e,n),e=n.pendingProps;var d=Di(n,Ot.current);Ni(n,a),d=Bu(null,n,l,e,d,a);var h=Fu();return n.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Qt(l)?(h=!0,zo(n)):h=!1,n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Ou(n),d.updater=cs,n.stateNode=d,d._reactInternals=n,Vl(n,l,e,a),n=Yl(null,n,l,!0,h,a)):(n.tag=0,Xe&&h&&Tu(n),xt(null,n,d,a),n=n.child),n;case 16:l=n.elementType;e:{switch(vo(e,n),e=n.pendingProps,d=l._init,l=d(l._payload),n.type=l,d=n.tag=hg(l),e=bn(l,e),d){case 0:n=Wl(null,n,l,e,a);break e;case 1:n=m1(null,n,l,e,a);break e;case 11:n=g1(null,n,l,e,a);break e;case 14:n=p1(null,n,l,bn(l.type,e),a);break e}throw Error(X(306,l,""))}return n;case 0:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:bn(l,d),Wl(e,n,l,d,a);case 1:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:bn(l,d),m1(e,n,l,d,a);case 3:e:{if(Fh(n),e===null)throw Error(X(387));l=n.pendingProps,h=n.memoizedState,d=h.element,dh(e,n),Yo(n,l,null,a);var p=n.memoizedState;if(l=p.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){d=Pi(Error(X(423)),n),n=w1(e,n,l,a,d);break e}else if(l!==d){d=Pi(Error(X(424)),n),n=w1(e,n,l,a,d);break e}else for(tn=Ar(n.stateNode.containerInfo.firstChild),nn=n,Xe=!0,Nn=null,a=uh(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(_i(),l===d){n=er(e,n,a);break e}xt(e,n,l,a)}n=n.child}return n;case 5:return hh(n),e===null&&Ul(n),l=n.type,d=n.pendingProps,h=e!==null?e.memoizedProps:null,p=d.children,Pl(l,d)?p=null:h!==null&&Pl(l,h)&&(n.flags|=32),Bh(e,n),xt(e,n,p,a),n.child;case 6:return e===null&&Ul(n),null;case 13:return Uh(e,n,a);case 4:return ku(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Oi(n,null,l,a):xt(e,n,l,a),n.child;case 11:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:bn(l,d),g1(e,n,l,d,a);case 7:return xt(e,n,n.pendingProps,a),n.child;case 8:return xt(e,n,n.pendingProps.children,a),n.child;case 12:return xt(e,n,n.pendingProps.children,a),n.child;case 10:e:{if(l=n.type._context,d=n.pendingProps,h=n.memoizedProps,p=d.value,ze(jo,l._currentValue),l._currentValue=p,h!==null)if(Dn(h.value,p)){if(h.children===d.children&&!Xt.current){n=er(e,n,a);break e}}else for(h=n.child,h!==null&&(h.return=n);h!==null;){var E=h.dependencies;if(E!==null){p=h.child;for(var A=E.firstContext;A!==null;){if(A.context===l){if(h.tag===1){A=Kn(-1,a&-a),A.tag=2;var w=h.updateQueue;if(w!==null){w=w.shared;var v=w.pending;v===null?A.next=A:(A.next=v.next,v.next=A),w.pending=A}}h.lanes|=a,A=h.alternate,A!==null&&(A.lanes|=a),zl(h.return,a,n),E.lanes|=a;break}A=A.next}}else if(h.tag===10)p=h.type===n.type?null:h.child;else if(h.tag===18){if(p=h.return,p===null)throw Error(X(341));p.lanes|=a,E=p.alternate,E!==null&&(E.lanes|=a),zl(p,a,n),p=h.sibling}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===n){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}xt(e,n,d.children,a),n=n.child}return n;case 9:return d=n.type,l=n.pendingProps.children,Ni(n,a),d=wn(d),l=l(d),n.flags|=1,xt(e,n,l,a),n.child;case 14:return l=n.type,d=bn(l,n.pendingProps),d=bn(l.type,d),p1(e,n,l,d,a);case 15:return xh(e,n,n.type,n.pendingProps,a);case 17:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:bn(l,d),vo(e,n),n.tag=1,Qt(l)?(e=!0,zo(n)):e=!1,Ni(n,a),Oh(n,l,d),Vl(n,l,d,a),Yl(null,n,l,!0,e,a);case 19:return zh(e,n,a);case 22:return Lh(e,n,a)}throw Error(X(156,n.tag))};function r0(e,n){return Rd(e,n)}function dg(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,a,l){return new dg(e,n,a,l)}function Qu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hg(e){if(typeof e=="function")return Qu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fu)return 11;if(e===gu)return 14}return 2}function Tr(e,n){var a=e.alternate;return a===null?(a=pn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Ro(e,n,a,l,d,h){var p=2;if(l=e,typeof e=="function")Qu(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case di:return Yr(a.children,d,h,n);case hu:p=8,d|=8;break;case hl:return e=pn(12,a,n,d|2),e.elementType=hl,e.lanes=h,e;case fl:return e=pn(13,a,n,d),e.elementType=fl,e.lanes=h,e;case gl:return e=pn(19,a,n,d),e.elementType=gl,e.lanes=h,e;case hd:return fs(a,d,h,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cd:p=10;break e;case dd:p=9;break e;case fu:p=11;break e;case gu:p=14;break e;case hr:p=16,l=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return n=pn(p,a,n,d),n.elementType=e,n.type=l,n.lanes=h,n}function Yr(e,n,a,l){return e=pn(7,e,l,n),e.lanes=a,e}function fs(e,n,a,l){return e=pn(22,e,l,n),e.elementType=hd,e.lanes=a,e.stateNode={isHidden:!1},e}function ll(e,n,a){return e=pn(6,e,null,n),e.lanes=a,e}function ul(e,n,a){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function fg(e,n,a,l,d){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=js(0),this.expirationTimes=js(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=js(0),this.identifierPrefix=l,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Zu(e,n,a,l,d,h,p,E,A){return e=new fg(e,n,a,E,A),n===1?(n=1,h===!0&&(n|=8)):n=0,h=pn(3,null,null,n),e.current=h,h.stateNode=e,h.memoizedState={element:l,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ou(h),e}function gg(e,n,a){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ci,key:l==null?null:""+l,children:e,containerInfo:n,implementation:a}}function i0(e){if(!e)return Nr;e=e._reactInternals;e:{if(Jr(e)!==e||e.tag!==1)throw Error(X(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Qt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(X(171))}if(e.tag===1){var a=e.type;if(Qt(a))return rh(e,a,n)}return n}function a0(e,n,a,l,d,h,p,E,A){return e=Zu(a,l,!0,e,d,h,p,E,A),e.context=i0(null),a=e.current,l=Lt(),d=br(a),h=Kn(l,d),h.callback=n??null,Sr(a,h,d),e.current.lanes=d,Ba(e,d,l),Zt(e,l),e}function gs(e,n,a,l){var d=n.current,h=Lt(),p=br(d);return a=i0(a),n.context===null?n.context=a:n.pendingContext=a,n=Kn(h,p),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=Sr(d,n,p),e!==null&&(Rn(e,d,p,h),Io(e,d,p)),p}function $o(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function N1(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Ku(e,n){N1(e,n),(e=e.alternate)&&N1(e,n)}function pg(){return null}var o0=typeof reportError=="function"?reportError:function(e){console.error(e)};function qu(e){this._internalRoot=e}ps.prototype.render=qu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(X(409));gs(e,n,null,null)};ps.prototype.unmount=qu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Kr(function(){gs(null,e,null,null)}),n[Jn]=null}};function ps(e){this._internalRoot=e}ps.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ld();e={blockedOn:null,target:e,priority:n};for(var a=0;a<gr.length&&n!==0&&n<gr[a].priority;a++);gr.splice(a,0,e),a===0&&Fd(e)}};function Ju(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ms(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function M1(){}function mg(e,n,a,l,d){if(d){if(typeof l=="function"){var h=l;l=function(){var w=$o(p);h.call(w)}}var p=a0(n,l,e,0,null,!1,!1,"",M1);return e._reactRootContainer=p,e[Jn]=p.current,Na(e.nodeType===8?e.parentNode:e),Kr(),p}for(;d=e.lastChild;)e.removeChild(d);if(typeof l=="function"){var E=l;l=function(){var w=$o(A);E.call(w)}}var A=Zu(e,0,!1,null,null,!1,!1,"",M1);return e._reactRootContainer=A,e[Jn]=A.current,Na(e.nodeType===8?e.parentNode:e),Kr(function(){gs(n,A,a,l)}),A}function ws(e,n,a,l,d){var h=a._reactRootContainer;if(h){var p=h;if(typeof d=="function"){var E=d;d=function(){var A=$o(p);E.call(A)}}gs(n,p,e,d)}else p=mg(a,n,e,d,l);return $o(p)}Pd=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var a=la(n.pendingLanes);a!==0&&(wu(n,a|1),Zt(n,st()),!(ve&6)&&(xi=st()+500,_r()))}break;case 13:Kr(function(){var l=$n(e,1);if(l!==null){var d=Lt();Rn(l,e,1,d)}}),Ku(e,1)}};Cu=function(e){if(e.tag===13){var n=$n(e,134217728);if(n!==null){var a=Lt();Rn(n,e,134217728,a)}Ku(e,134217728)}};xd=function(e){if(e.tag===13){var n=br(e),a=$n(e,n);if(a!==null){var l=Lt();Rn(a,e,n,l)}Ku(e,n)}};Ld=function(){return Oe};Bd=function(e,n){var a=Oe;try{return Oe=e,n()}finally{Oe=a}};bl=function(e,n,a){switch(n){case"input":if(wl(e,a),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var d=ss(l);if(!d)throw Error(X(90));gd(l),wl(l,d)}}}break;case"textarea":md(e,a);break;case"select":n=a.value,n!=null&&Ii(e,!!a.multiple,n,!1)}};Id=Yu;bd=Kr;var wg={usingClientEntryPoint:!1,Events:[Ua,pi,ss,Ad,Sd,Yu]},aa={findFiberByHostInstance:Hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cg={bundleType:aa.bundleType,version:aa.version,rendererPackageName:aa.rendererPackageName,rendererConfig:aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Nd(e),e===null?null:e.stateNode},findFiberByHostInstance:aa.findFiberByHostInstance||pg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wo.isDisabled&&wo.supportsFiber)try{rs=wo.inject(Cg),Vn=wo}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wg;an.createPortal=function(e,n){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ju(n))throw Error(X(200));return gg(e,n,null,a)};an.createRoot=function(e,n){if(!Ju(e))throw Error(X(299));var a=!1,l="",d=o0;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=Zu(e,1,!1,null,null,a,!1,l,d),e[Jn]=n.current,Na(e.nodeType===8?e.parentNode:e),new qu(n)};an.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=Nd(n),e=e===null?null:e.stateNode,e};an.flushSync=function(e){return Kr(e)};an.hydrate=function(e,n,a){if(!ms(n))throw Error(X(200));return ws(null,e,n,!0,a)};an.hydrateRoot=function(e,n,a){if(!Ju(e))throw Error(X(405));var l=a!=null&&a.hydratedSources||null,d=!1,h="",p=o0;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(p=a.onRecoverableError)),n=a0(n,null,e,1,a??null,d,!1,h,p),e[Jn]=n.current,Na(e),l)for(e=0;e<l.length;e++)a=l[e],d=a._getVersion,d=d(a._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[a,d]:n.mutableSourceEagerHydrationData.push(a,d);return new ps(n)};an.render=function(e,n,a){if(!ms(n))throw Error(X(200));return ws(null,e,n,!1,a)};an.unmountComponentAtNode=function(e){if(!ms(e))throw Error(X(40));return e._reactRootContainer?(Kr(function(){ws(null,null,e,!1,function(){e._reactRootContainer=null,e[Jn]=null})}),!0):!1};an.unstable_batchedUpdates=Yu;an.unstable_renderSubtreeIntoContainer=function(e,n,a,l){if(!ms(a))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return ws(e,n,a,!1,l)};an.version="18.3.1-next-f1338f8080-20240426";function s0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s0)}catch(e){console.error(e)}}s0(),od.exports=an;var Eg=od.exports,R1=Eg;cl.createRoot=R1.createRoot,cl.hydrateRoot=R1.hydrateRoot;/**
* @license lucide-react v0.294.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/var yg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
* @license lucide-react v0.294.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ag=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),En=(e,n)=>{const a=gn.forwardRef(({color:l="currentColor",size:d=24,strokeWidth:h=2,absoluteStrokeWidth:p,className:E="",children:A,...w},v)=>gn.createElement("svg",{ref:v,...yg,width:d,height:d,stroke:l,strokeWidth:p?Number(h)*24/Number(d):h,className:["lucide",`lucide-${Ag(e)}`,E].join(" "),...w},[...n.map(([T,k])=>gn.createElement(T,k)),...Array.isArray(A)?A:[A]]));return a.displayName=`${e}`,a};/**
* @license lucide-react v0.294.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Sg=En("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
* @license lucide-react v0.294.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const D1=En("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
* @license lucide-react v0.294.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const _1=En("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
* @license lucide-react v0.294.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ig=En("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
* @license lucide-react v0.294.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const bg=En("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
* @license lucide-react v0.294.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const O1=En("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
* @license lucide-react v0.294.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Tg=En("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
* @license lucide-react v0.294.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const vg=En("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
* @license lucide-react v0.294.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ng=En("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
* @license lucide-react v0.294.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Mg=En("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
* @license lucide-react v0.294.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Rg=En("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
* @license lucide-react v0.294.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Dg=En("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function _g(){return H.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:H.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:H.jsxs("div",{className:"flex items-center justify-between h-16",children:[H.jsxs("div",{className:"flex items-center gap-3",children:[H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx(vg,{className:"h-8 w-8 text-letterpack-red"}),H.jsx(Ng,{className:"h-6 w-6 text-letterpack-blue"})]}),H.jsxs("div",{children:[H.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"レターパック追跡"}),H.jsx("p",{className:"text-sm text-gray-500",children:"バーコードスキャナー"})]})]}),H.jsx("div",{className:"flex items-center gap-4",children:H.jsx("div",{className:"hidden sm:block",children:H.jsx("span",{className:"text-sm text-gray-500",children:"v1.0.0"})})})]})})})}var $;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})($||($={}));var k1=new Map([[$.QR_CODE,"QR_CODE"],[$.AZTEC,"AZTEC"],[$.CODABAR,"CODABAR"],[$.CODE_39,"CODE_39"],[$.CODE_93,"CODE_93"],[$.CODE_128,"CODE_128"],[$.DATA_MATRIX,"DATA_MATRIX"],[$.MAXICODE,"MAXICODE"],[$.ITF,"ITF"],[$.EAN_13,"EAN_13"],[$.EAN_8,"EAN_8"],[$.PDF_417,"PDF_417"],[$.RSS_14,"RSS_14"],[$.RSS_EXPANDED,"RSS_EXPANDED"],[$.UPC_A,"UPC_A"],[$.UPC_E,"UPC_E"],[$.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),P1;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(P1||(P1={}));function Og(e){return Object.values($).includes(e)}var Mr;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Mr||(Mr={}));var vn=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Mr.SCAN_TYPE_CAMERA,Mr.SCAN_TYPE_FILE],e}(),l0=function(){function e(n,a){this.format=n,this.formatName=a}return e.prototype.toString=function(){return this.formatName},e.create=function(n){if(!k1.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new e(n,k1.get(n))},e}(),x1=function(){function e(){}return e.createFromText=function(n){var a={text:n};return{decodedText:n,result:a}},e.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},e}(),nu;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(nu||(nu={}));var u0=function(){function e(){}return e.createFrom=function(n){return{errorMessage:n,type:nu.UNKWOWN_ERROR}},e}(),c0=function(){function e(n){this.verbose=n}return e.prototype.log=function(n){this.verbose&&console.log(n)},e.prototype.warn=function(n){this.verbose&&console.warn(n)},e.prototype.logError=function(n,a){(this.verbose||a===!0)&&console.error(n)},e.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},e}();function zn(e){return typeof e>"u"||e===null}function kg(e,n,a){return e>a?a:e<n?n:e}var Si=function(){function e(){}return e.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},e.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),_e=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(n){return"Last Match: ".concat(n)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),L1=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),d0=function(){function e(){}return e.isMediaStreamConstraintsValid=function(n,a){if(typeof n!="object"){var l=typeof n;return a.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(l,"."),!0),!1}for(var d=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],h=new Set(d),p=Object.keys(n),E=0,A=p;E<A.length;E++){var w=A[E];if(h.has(w))return a.logError("".concat(w," is not supported videoConstaints."),!0),!1}return!0},e}(),ru={exports:{}};(function(e,n){(function(a,l){l(n)})(qi,function(a){function l(C){return C==null}var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,t){C.__proto__=t}||function(C,t){for(var r in t)t.hasOwnProperty(r)&&(C[r]=t[r])};function h(C,t){d(C,t);function r(){this.constructor=C}C.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function p(C,t){var r=Object.setPrototypeOf;r?r(C,t):C.__proto__=t}function E(C,t){t===void 0&&(t=C.constructor);var r=Error.captureStackTrace;r&&r(C,t)}var A=function(C){h(t,C);function t(r){var i=this.constructor,o=C.call(this,r)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1}),p(o,i.prototype),E(o),o}return t}(Error);class w extends A{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}w.kind="Exception";class v extends w{}v.kind="ArgumentException";class T extends w{}T.kind="IllegalArgumentException";class k{constructor(t){if(this.binarizer=t,t===null)throw new T("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,r){return this.binarizer.getBlackRow(t,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,r,i,o){const s=this.binarizer.getLuminanceSource().crop(t,r,i,o);return new k(this.binarizer.createBinarizer(s))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new k(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new k(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class z extends w{static getChecksumInstance(){return new z}}z.kind="ChecksumException";class G{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class V{static arraycopy(t,r,i,o,s){for(;s--;)i[o++]=t[r++]}static currentTimeMillis(){return Date.now()}}class re extends w{}re.kind="IndexOutOfBoundsException";class D extends re{constructor(t=void 0,r=void 0){super(r),this.index=t,this.message=r}}D.kind="ArrayIndexOutOfBoundsException";class N{static fill(t,r){for(let i=0,o=t.length;i<o;i++)t[i]=r}static fillWithin(t,r,i,o){N.rangeCheck(t.length,r,i);for(let s=r;s<i;s++)t[s]=o}static rangeCheck(t,r,i){if(r>i)throw new T("fromIndex("+r+") > toIndex("+i+")");if(r<0)throw new D(r);if(i>t)throw new D(i)}static asList(...t){return t}static create(t,r,i){return Array.from({length:t}).map(o=>Array.from({length:r}).fill(i))}static createInt32Array(t,r,i){return Array.from({length:t}).map(o=>Int32Array.from({length:r}).fill(i))}static equals(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(let i=0,o=t.length;i<o;i++)if(t[i]!==r[i])return!1;return!0}static hashCode(t){if(t===null)return 0;let r=1;for(const i of t)r=31*r+i;return r}static fillUint8Array(t,r){for(let i=0;i!==t.length;i++)t[i]=r}static copyOf(t,r){return t.slice(0,r)}static copyOfUint8Array(t,r){if(t.length<=r){const i=new Uint8Array(r);return i.set(t),i}return t.slice(0,r)}static copyOfRange(t,r,i){const o=i-r,s=new Int32Array(o);return V.arraycopy(t,r,s,0,o),s}static binarySearch(t,r,i){i===void 0&&(i=N.numberComparator);let o=0,s=t.length-1;for(;o<=s;){const u=s+o>>1,c=i(r,t[u]);if(c>0)o=u+1;else if(c<0)s=u-1;else return u}return-o-1}static numberComparator(t,r){return t-r}}class R{static numberOfTrailingZeros(t){let r;if(t===0)return 32;let i=31;return r=t<<16,r!==0&&(i-=16,t=r),r=t<<8,r!==0&&(i-=8,t=r),r=t<<4,r!==0&&(i-=4,t=r),r=t<<2,r!==0&&(i-=2,t=r),i-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,r){return Math.trunc(t/r)}static parseInt(t,r=void 0){return parseInt(t,r)}}R.MIN_VALUE_32_BITS=-2147483648,R.MAX_VALUE=Number.MAX_SAFE_INTEGER;class U{constructor(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=U.makeArray(t):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const r=U.makeArray(t);V.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const r=this.size;if(t>=r)return r;const i=this.bits;let o=Math.floor(t/32),s=i[o];s&=~((1<<(t&31))-1);const u=i.length;for(;s===0;){if(++o===u)return r;s=i[o]}const c=o*32+R.numberOfTrailingZeros(s);return c>r?r:c}getNextUnset(t){const r=this.size;if(t>=r)return r;const i=this.bits;let o=Math.floor(t/32),s=~i[o];s&=~((1<<(t&31))-1);const u=i.length;for(;s===0;){if(++o===u)return r;s=~i[o]}const c=o*32+R.numberOfTrailingZeros(s);return c>r?r:c}setBulk(t,r){this.bits[Math.floor(t/32)]=r}setRange(t,r){if(r<t||t<0||r>this.size)throw new T;if(r===t)return;r--;const i=Math.floor(t/32),o=Math.floor(r/32),s=this.bits;for(let u=i;u<=o;u++){const c=u>i?0:t&31,f=(2<<(u<o?31:r&31))-(1<<c);s[u]|=f}}clear(){const t=this.bits.length,r=this.bits;for(let i=0;i<t;i++)r[i]=0}isRange(t,r,i){if(r<t||t<0||r>this.size)throw new T;if(r===t)return!0;r--;const o=Math.floor(t/32),s=Math.floor(r/32),u=this.bits;for(let c=o;c<=s;c++){const f=c>o?0:t&31,g=(2<<(c<s?31:r&31))-(1<<f)&4294967295;if((u[c]&g)!==(i?g:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,r){if(r<0||r>32)throw new T("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let i=r;i>0;i--)this.appendBit((t>>i-1&1)===1)}appendBitArray(t){const r=t.size;this.ensureCapacity(this.size+r);for(let i=0;i<r;i++)this.appendBit(t.get(i))}xor(t){if(this.size!==t.size)throw new T("Sizes don't match");const r=this.bits;for(let i=0,o=r.length;i<o;i++)r[i]^=t.bits[i]}toBytes(t,r,i,o){for(let s=0;s<o;s++){let u=0;for(let c=0;c<8;c++)this.get(t)&&(u|=1<<7-c),t++;r[i+s]=u}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),i=r+1,o=this.bits;for(let s=0;s<i;s++){let u=o[s];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,t[r-s]=u}if(this.size!==i*32){const s=i*32-this.size;let u=t[0]>>>s;for(let c=1;c<i;c++){const f=t[c];u|=f<<32-s,t[c-1]=u,u=f>>>s}t[i-1]=u}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof U))return!1;const r=t;return this.size===r.size&&N.equals(this.bits,r.bits)}hashCode(){return 31*this.size+N.hashCode(this.bits)}toString(){let t="";for(let r=0,i=this.size;r<i;r++)r&7||(t+=" "),t+=this.get(r)?"X":".";return t}clone(){return new U(this.size,this.bits.slice())}}var ee;(function(C){C[C.OTHER=0]="OTHER",C[C.PURE_BARCODE=1]="PURE_BARCODE",C[C.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",C[C.TRY_HARDER=3]="TRY_HARDER",C[C.CHARACTER_SET=4]="CHARACTER_SET",C[C.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",C[C.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",C[C.ASSUME_GS1=7]="ASSUME_GS1",C[C.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",C[C.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",C[C.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ee||(ee={}));var K=ee;class B extends w{static getFormatInstance(){return new B}}B.kind="FormatException";var q;(function(C){C[C.Cp437=0]="Cp437",C[C.ISO8859_1=1]="ISO8859_1",C[C.ISO8859_2=2]="ISO8859_2",C[C.ISO8859_3=3]="ISO8859_3",C[C.ISO8859_4=4]="ISO8859_4",C[C.ISO8859_5=5]="ISO8859_5",C[C.ISO8859_6=6]="ISO8859_6",C[C.ISO8859_7=7]="ISO8859_7",C[C.ISO8859_8=8]="ISO8859_8",C[C.ISO8859_9=9]="ISO8859_9",C[C.ISO8859_10=10]="ISO8859_10",C[C.ISO8859_11=11]="ISO8859_11",C[C.ISO8859_13=12]="ISO8859_13",C[C.ISO8859_14=13]="ISO8859_14",C[C.ISO8859_15=14]="ISO8859_15",C[C.ISO8859_16=15]="ISO8859_16",C[C.SJIS=16]="SJIS",C[C.Cp1250=17]="Cp1250",C[C.Cp1251=18]="Cp1251",C[C.Cp1252=19]="Cp1252",C[C.Cp1256=20]="Cp1256",C[C.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",C[C.UTF8=22]="UTF8",C[C.ASCII=23]="ASCII",C[C.Big5=24]="Big5",C[C.GB18030=25]="GB18030",C[C.EUC_KR=26]="EUC_KR"})(q||(q={}));class j{constructor(t,r,i,...o){this.valueIdentifier=t,this.name=i,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,j.VALUE_IDENTIFIER_TO_ECI.set(t,this),j.NAME_TO_ECI.set(i,this);const s=this.values;for(let u=0,c=s.length;u!==c;u++){const f=s[u];j.VALUES_TO_ECI.set(f,this)}for(const u of o)j.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new B("incorect value");const r=j.VALUES_TO_ECI.get(t);if(r===void 0)throw new B("incorect value");return r}static getCharacterSetECIByName(t){const r=j.NAME_TO_ECI.get(t);if(r===void 0)throw new B("incorect value");return r}equals(t){if(!(t instanceof j))return!1;const r=t;return this.getName()===r.getName()}}j.VALUE_IDENTIFIER_TO_ECI=new Map,j.VALUES_TO_ECI=new Map,j.NAME_TO_ECI=new Map,j.Cp437=new j(q.Cp437,Int32Array.from([0,2]),"Cp437"),j.ISO8859_1=new j(q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),j.ISO8859_2=new j(q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),j.ISO8859_3=new j(q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),j.ISO8859_4=new j(q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),j.ISO8859_5=new j(q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),j.ISO8859_6=new j(q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),j.ISO8859_7=new j(q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),j.ISO8859_8=new j(q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),j.ISO8859_9=new j(q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),j.ISO8859_10=new j(q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),j.ISO8859_11=new j(q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),j.ISO8859_13=new j(q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),j.ISO8859_14=new j(q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),j.ISO8859_15=new j(q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),j.ISO8859_16=new j(q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),j.SJIS=new j(q.SJIS,20,"SJIS","Shift_JIS"),j.Cp1250=new j(q.Cp1250,21,"Cp1250","windows-1250"),j.Cp1251=new j(q.Cp1251,22,"Cp1251","windows-1251"),j.Cp1252=new j(q.Cp1252,23,"Cp1252","windows-1252"),j.Cp1256=new j(q.Cp1256,24,"Cp1256","windows-1256"),j.UnicodeBigUnmarked=new j(q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),j.UTF8=new j(q.UTF8,26,"UTF8","UTF-8"),j.ASCII=new j(q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),j.Big5=new j(q.Big5,28,"Big5"),j.GB18030=new j(q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),j.EUC_KR=new j(q.EUC_KR,30,"EUC_KR","EUC-KR");class pe extends w{}pe.kind="UnsupportedOperationException";class Be{static decode(t,r){const i=this.encodingName(r);return this.customDecoder?this.customDecoder(t,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(t,i):new TextDecoder(i).decode(t)}static shouldDecodeOnFallback(t){return!Be.isBrowser()&&t==="ISO-8859-1"}static encode(t,r){const i=this.encodingName(r);return this.customEncoder?this.customEncoder(t,i):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof j?t:j.getCharacterSetECIByName(t)}static decodeFallback(t,r){const i=this.encodingCharacterSet(r);if(Be.isDecodeFallbackSupported(i)){let o="";for(let s=0,u=t.length;s<u;s++){let c=t[s].toString(16);c.length<2&&(c="0"+c),o+="%"+c}return decodeURIComponent(o)}if(i.equals(j.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new pe(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(j.UTF8)||t.equals(j.ISO8859_1)||t.equals(j.ASCII)}static encodeFallback(t){const r=btoa(unescape(encodeURIComponent(t))).split(""),i=[];for(let o=0;o<r.length;o++)i.push(r[o].charCodeAt(0));return new Uint8Array(i)}}class ue{static castAsNonUtf8Char(t,r=null){const i=r?r.getName():this.ISO88591;return Be.decode(new Uint8Array([t]),i)}static guessEncoding(t,r){if(r!=null&&r.get(K.CHARACTER_SET)!==void 0)return r.get(K.CHARACTER_SET).toString();const i=t.length;let o=!0,s=!0,u=!0,c=0,f=0,g=0,m=0,y=0,S=0,b=0,M=0,_=0,P=0,L=0;const Z=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let Q=0;Q<i&&(o||s||u);Q++){const Y=t[Q]&255;u&&(c>0?Y&128?c--:u=!1:Y&128&&(Y&64?(c++,Y&32?(c++,Y&16?(c++,Y&8?u=!1:m++):g++):f++):u=!1)),o&&(Y>127&&Y<160?o=!1:Y>159&&(Y<192||Y===215||Y===247)&&L++),s&&(y>0?Y<64||Y===127||Y>252?s=!1:y--:Y===128||Y===160||Y>239?s=!1:Y>160&&Y<224?(S++,M=0,b++,b>_&&(_=b)):Y>127?(y++,b=0,M++,M>P&&(P=M)):(b=0,M=0))}return u&&c>0&&(u=!1),s&&y>0&&(s=!1),u&&(Z||f+g+m>0)?ue.UTF8:s&&(ue.ASSUME_SHIFT_JIS||_>=3||P>=3)?ue.SHIFT_JIS:o&&s?_===2&&S===2||L*10>=i?ue.SHIFT_JIS:ue.ISO88591:o?ue.ISO88591:s?ue.SHIFT_JIS:u?ue.UTF8:ue.PLATFORM_DEFAULT_ENCODING}static format(t,...r){let i=-1;function o(u,c,f,g,m,y){if(u==="%%")return"%";if(r[++i]===void 0)return;u=g?parseInt(g.substr(1)):void 0;let S=m?parseInt(m.substr(1)):void 0,b;switch(y){case"s":b=r[i];break;case"c":b=r[i][0];break;case"f":b=parseFloat(r[i]).toFixed(u);break;case"p":b=parseFloat(r[i]).toPrecision(u);break;case"e":b=parseFloat(r[i]).toExponential(u);break;case"x":b=parseInt(r[i]).toString(S||16);break;case"d":b=parseFloat(parseInt(r[i],S||10).toPrecision(u)).toFixed(0);break}b=typeof b=="object"?JSON.stringify(b):(+b).toString(S);let M=parseInt(f),_=f&&f[0]+""=="0"?"0":" ";for(;b.length<M;)b=c!==void 0?b+_:_+b;return b}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,o)}static getBytes(t,r){return Be.encode(t,r)}static getCharCode(t,r=0){return t.charCodeAt(r)}static getCharAt(t){return String.fromCharCode(t)}}ue.SHIFT_JIS=j.SJIS.getName(),ue.GB2312="GB2312",ue.ISO88591=j.ISO8859_1.getName(),ue.EUC_JP="EUC_JP",ue.UTF8=j.UTF8.getName(),ue.PLATFORM_DEFAULT_ENCODING=ue.UTF8,ue.ASSUME_SHIFT_JIS=!1;class Se{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=ue.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,r,i){for(let o=r;r<r+i;o++)this.append(t[o]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)}substring(t,r){return this.value.substring(t,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+r.length)}}class at{constructor(t,r,i,o){if(this.width=t,this.height=r,this.rowSize=i,this.bits=o,r==null&&(r=t),this.height=r,t<1||r<1)throw new T("Both dimensions must be greater than 0");i==null&&(i=Math.floor((t+31)/32)),this.rowSize=i,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const r=t.length,i=t[0].length,o=new at(i,r);for(let s=0;s<r;s++){const u=t[s];for(let c=0;c<i;c++)u[c]&&o.set(c,s)}return o}static parseFromString(t,r,i){if(t===null)throw new T("stringRepresentation cannot be null");const o=new Array(t.length);let s=0,u=0,c=-1,f=0,g=0;for(;g<t.length;)if(t.charAt(g)===`
`||t.charAt(g)==="\r"){if(s>u){if(c===-1)c=s-u;else if(s-u!==c)throw new T("row lengths do not match");u=s,f++}g++}else if(t.substring(g,g+r.length)===r)g+=r.length,o[s]=!0,s++;else if(t.substring(g,g+i.length)===i)g+=i.length,o[s]=!1,s++;else throw new T("illegal character encountered: "+t.substring(g));if(s>u){if(c===-1)c=s-u;else if(s-u!==c)throw new T("row lengths do not match");f++}const m=new at(c,f);for(let y=0;y<s;y++)o[y]&&m.set(Math.floor(y%c),Math.floor(y/c));return m}get(t,r){const i=r*this.rowSize+Math.floor(t/32);return(this.bits[i]>>>(t&31)&1)!==0}set(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]|=1<<(t&31)&4294967295}unset(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]&=~(1<<(t&31)&4294967295)}flip(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new T("input matrix dimensions do not match");const r=new U(Math.floor(this.width/32)+1),i=this.rowSize,o=this.bits;for(let s=0,u=this.height;s<u;s++){const c=s*i,f=t.getRow(s,r).getBitArray();for(let g=0;g<i;g++)o[c+g]^=f[g]}}clear(){const t=this.bits,r=t.length;for(let i=0;i<r;i++)t[i]=0}setRegion(t,r,i,o){if(r<0||t<0)throw new T("Left and top must be nonnegative");if(o<1||i<1)throw new T("Height and width must be at least 1");const s=t+i,u=r+o;if(u>this.height||s>this.width)throw new T("The region must fit inside the matrix");const c=this.rowSize,f=this.bits;for(let g=r;g<u;g++){const m=g*c;for(let y=t;y<s;y++)f[m+Math.floor(y/32)]|=1<<(y&31)&4294967295}}getRow(t,r){r==null||r.getSize()<this.width?r=new U(this.width):r.clear();const i=this.rowSize,o=this.bits,s=t*i;for(let u=0;u<i;u++)r.setBulk(u*32,o[s+u]);return r}setRow(t,r){V.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),r=this.getHeight();let i=new U(t),o=new U(t);for(let s=0,u=Math.floor((r+1)/2);s<u;s++)i=this.getRow(s,i),o=this.getRow(r-1-s,o),i.reverse(),o.reverse(),this.setRow(s,o),this.setRow(r-1-s,i)}getEnclosingRectangle(){const t=this.width,r=this.height,i=this.rowSize,o=this.bits;let s=t,u=r,c=-1,f=-1;for(let g=0;g<r;g++)for(let m=0;m<i;m++){const y=o[g*i+m];if(y!==0){if(g<u&&(u=g),g>f&&(f=g),m*32<s){let S=0;for(;!(y<<31-S&4294967295);)S++;m*32+S<s&&(s=m*32+S)}if(m*32+31>c){let S=31;for(;!(y>>>S);)S--;m*32+S>c&&(c=m*32+S)}}}return c<s||f<u?null:Int32Array.from([s,u,c-s+1,f-u+1])}getTopLeftOnBit(){const t=this.rowSize,r=this.bits;let i=0;for(;i<r.length&&r[i]===0;)i++;if(i===r.length)return null;const o=i/t;let s=i%t*32;const u=r[i];let c=0;for(;!(u<<31-c&4294967295);)c++;return s+=c,Int32Array.from([s,o])}getBottomRightOnBit(){const t=this.rowSize,r=this.bits;let i=r.length-1;for(;i>=0&&r[i]===0;)i--;if(i<0)return null;const o=Math.floor(i/t);let s=Math.floor(i%t)*32;const u=r[i];let c=31;for(;!(u>>>c);)c--;return s+=c,Int32Array.from([s,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof at))return!1;const r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&N.equals(this.bits,r.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+N.hashCode(this.bits),t}toString(t="X ",r="  ",i=`
`){return this.buildToString(t,r,i)}buildToString(t,r,i){let o=new Se;for(let s=0,u=this.height;s<u;s++){for(let c=0,f=this.width;c<f;c++)o.append(this.get(c,s)?t:r);o.append(i)}return o.toString()}clone(){return new at(this.width,this.height,this.rowSize,this.bits.slice())}}class F extends w{static getNotFoundInstance(){return new F}}F.kind="NotFoundException";class $e extends G{constructor(t){super(t),this.luminances=$e.EMPTY,this.buckets=new Int32Array($e.LUMINANCE_BUCKETS)}getBlackRow(t,r){const i=this.getLuminanceSource(),o=i.getWidth();r==null||r.getSize()<o?r=new U(o):r.clear(),this.initArrays(o);const s=i.getRow(t,this.luminances),u=this.buckets;for(let f=0;f<o;f++)u[(s[f]&255)>>$e.LUMINANCE_SHIFT]++;const c=$e.estimateBlackPoint(u);if(o<3)for(let f=0;f<o;f++)(s[f]&255)<c&&r.set(f);else{let f=s[0]&255,g=s[1]&255;for(let m=1;m<o-1;m++){const y=s[m+1]&255;(g*4-f-y)/2<c&&r.set(m),f=g,g=y}}return r}getBlackMatrix(){const t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight(),o=new at(r,i);this.initArrays(r);const s=this.buckets;for(let f=1;f<5;f++){const g=Math.floor(i*f/5),m=t.getRow(g,this.luminances),y=Math.floor(r*4/5);for(let S=Math.floor(r/5);S<y;S++){const b=m[S]&255;s[b>>$e.LUMINANCE_SHIFT]++}}const u=$e.estimateBlackPoint(s),c=t.getMatrix();for(let f=0;f<i;f++){const g=f*r;for(let m=0;m<r;m++)(c[g+m]&255)<u&&o.set(m,f)}return o}createBinarizer(t){return new $e(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const r=this.buckets;for(let i=0;i<$e.LUMINANCE_BUCKETS;i++)r[i]=0}static estimateBlackPoint(t){const r=t.length;let i=0,o=0,s=0;for(let m=0;m<r;m++)t[m]>s&&(o=m,s=t[m]),t[m]>i&&(i=t[m]);let u=0,c=0;for(let m=0;m<r;m++){const y=m-o,S=t[m]*y*y;S>c&&(u=m,c=S)}if(o>u){const m=o;o=u,u=m}if(u-o<=r/16)throw new F;let f=u-1,g=-1;for(let m=u-1;m>o;m--){const y=m-o,S=y*y*(u-m)*(i-t[m]);S>g&&(f=m,g=S)}return f<<$e.LUMINANCE_SHIFT}}$e.LUMINANCE_BITS=5,$e.LUMINANCE_SHIFT=8-$e.LUMINANCE_BITS,$e.LUMINANCE_BUCKETS=1<<$e.LUMINANCE_BITS,$e.EMPTY=Uint8ClampedArray.from([0]);class ge extends $e{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight();if(r>=ge.MINIMUM_DIMENSION&&i>=ge.MINIMUM_DIMENSION){const o=t.getMatrix();let s=r>>ge.BLOCK_SIZE_POWER;r&ge.BLOCK_SIZE_MASK&&s++;let u=i>>ge.BLOCK_SIZE_POWER;i&ge.BLOCK_SIZE_MASK&&u++;const c=ge.calculateBlackPoints(o,s,u,r,i),f=new at(r,i);ge.calculateThresholdForBlock(o,s,u,r,i,c,f),this.matrix=f}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new ge(t)}static calculateThresholdForBlock(t,r,i,o,s,u,c){const f=s-ge.BLOCK_SIZE,g=o-ge.BLOCK_SIZE;for(let m=0;m<i;m++){let y=m<<ge.BLOCK_SIZE_POWER;y>f&&(y=f);const S=ge.cap(m,2,i-3);for(let b=0;b<r;b++){let M=b<<ge.BLOCK_SIZE_POWER;M>g&&(M=g);const _=ge.cap(b,2,r-3);let P=0;for(let Z=-2;Z<=2;Z++){const Q=u[S+Z];P+=Q[_-2]+Q[_-1]+Q[_]+Q[_+1]+Q[_+2]}const L=P/25;ge.thresholdBlock(t,M,y,L,o,c)}}}static cap(t,r,i){return t<r?r:t>i?i:t}static thresholdBlock(t,r,i,o,s,u){for(let c=0,f=i*s+r;c<ge.BLOCK_SIZE;c++,f+=s)for(let g=0;g<ge.BLOCK_SIZE;g++)(t[f+g]&255)<=o&&u.set(r+g,i+c)}static calculateBlackPoints(t,r,i,o,s){const u=s-ge.BLOCK_SIZE,c=o-ge.BLOCK_SIZE,f=new Array(i);for(let g=0;g<i;g++){f[g]=new Int32Array(r);let m=g<<ge.BLOCK_SIZE_POWER;m>u&&(m=u);for(let y=0;y<r;y++){let S=y<<ge.BLOCK_SIZE_POWER;S>c&&(S=c);let b=0,M=255,_=0;for(let L=0,Z=m*o+S;L<ge.BLOCK_SIZE;L++,Z+=o){for(let Q=0;Q<ge.BLOCK_SIZE;Q++){const Y=t[Z+Q]&255;b+=Y,Y<M&&(M=Y),Y>_&&(_=Y)}if(_-M>ge.MIN_DYNAMIC_RANGE)for(L++,Z+=o;L<ge.BLOCK_SIZE;L++,Z+=o)for(let Q=0;Q<ge.BLOCK_SIZE;Q++)b+=t[Z+Q]&255}let P=b>>ge.BLOCK_SIZE_POWER*2;if(_-M<=ge.MIN_DYNAMIC_RANGE&&(P=M/2,g>0&&y>0)){const L=(f[g-1][y]+2*f[g][y-1]+f[g-1][y-1])/4;M<L&&(P=L)}f[g][y]=P}}return f}}ge.BLOCK_SIZE_POWER=3,ge.BLOCK_SIZE=1<<ge.BLOCK_SIZE_POWER,ge.BLOCK_SIZE_MASK=ge.BLOCK_SIZE-1,ge.MINIMUM_DIMENSION=ge.BLOCK_SIZE*5,ge.MIN_DYNAMIC_RANGE=24;class te{constructor(t,r){this.width=t,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,r,i,o){throw new pe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new pe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new pe("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let r=new Se;for(let i=0;i<this.height;i++){const o=this.getRow(i,t);for(let s=0;s<this.width;s++){const u=o[s]&255;let c;u<64?c="#":u<128?c="+":u<192?c=".":c=" ",r.append(c)}r.append(`
`)}return r.toString()}}class de extends te{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,r){const i=this.delegate.getRow(t,r),o=this.getWidth();for(let s=0;s<o;s++)i[s]=255-(i[s]&255);return i}getMatrix(){const t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r);for(let o=0;o<r;o++)i[o]=255-(t[o]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(t,r,i,o){return new de(this.delegate.crop(t,r,i,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new de(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new de(this.delegate.rotateCounterClockwise45())}}class fe extends te{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=fe.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const r=t.getContext("2d").getImageData(0,0,t.width,t.height);return fe.toGrayscaleBuffer(r.data,t.width,t.height)}static toGrayscaleBuffer(t,r,i){const o=new Uint8ClampedArray(r*i);for(let s=0,u=0,c=t.length;s<c;s+=4,u++){let f;if(t[s+3]===0)f=255;else{const g=t[s],m=t[s+1],y=t[s+2];f=306*g+601*m+117*y+512>>10}o[u]=f}return o}getRow(t,r){if(t<0||t>=this.getHeight())throw new T("Requested row is outside the image: "+t);const i=this.getWidth(),o=t*i;return r===null?r=this.buffer.slice(o,o+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(o,o+i))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,r,i,o){return super.crop(t,r,i,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const r=this.getTempCanvasElement(),i=r.getContext("2d"),o=t*fe.DEGREE_TO_RADIANS,s=this.canvas.width,u=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(o))*s+Math.abs(Math.sin(o))*u),f=Math.ceil(Math.abs(Math.sin(o))*s+Math.abs(Math.cos(o))*u);return r.width=c,r.height=f,i.translate(c/2,f/2),i.rotate(o),i.drawImage(this.canvas,s/-2,u/-2),this.buffer=fe.makeBufferFromCanvasImageData(r),this}invert(){return new de(this)}}fe.DEGREE_TO_RADIANS=Math.PI/180;class Ye{constructor(t,r,i){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ie=(globalThis||qi||self||window||void 0)&&(globalThis||qi||self||window||void 0).__awaiter||function(C,t,r,i){function o(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function c(m){try{g(i.next(m))}catch(y){u(y)}}function f(m){try{g(i.throw(m))}catch(y){u(y)}}function g(m){m.done?s(m.value):o(m.value).then(c,f)}g((i=i.apply(C,t||[])).next())})};class sn{constructor(t,r=500,i){this.reader=t,this.timeBetweenScansMillis=r,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return Ie(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const i of t){const o=i.kind==="video"?"videoinput":i.kind;if(o!=="videoinput")continue;const s=i.deviceId||i.id,u=i.label||`Video device ${r.length+1}`,c=i.groupId,f={deviceId:s,label:u,kind:o,groupId:c};r.push(f)}return r})}getVideoInputDevices(){return Ie(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(t=>new Ye(t.deviceId,t.label))})}findDeviceById(t){return Ie(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(i=>i.deviceId===t):null})}decodeFromInputVideoDevice(t,r){return Ie(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,r)})}decodeOnceFromVideoDevice(t,r){return Ie(this,void 0,void 0,function*(){this.reset();let i;t?i={deviceId:{exact:t}}:i={facingMode:"environment"};const o={video:i};return yield this.decodeOnceFromConstraints(o,r)})}decodeOnceFromConstraints(t,r){return Ie(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(i,r)})}decodeOnceFromStream(t,r){return Ie(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(t,r);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(t,r,i){return Ie(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,r,i)})}decodeFromVideoDevice(t,r,i){return Ie(this,void 0,void 0,function*(){let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const s={video:o};return yield this.decodeFromConstraints(s,r,i)})}decodeFromConstraints(t,r,i){return Ie(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(o,r,i)})}decodeFromStream(t,r,i){return Ie(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(t,r);return yield this.decodeContinuously(o,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,r){return Ie(this,void 0,void 0,function*(){const i=this.prepareVideoElement(r);return this.addVideoSource(i,t),this.videoElement=i,this.stream=t,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(t){return new Promise((r,i)=>this.playVideoOnLoad(t,()=>r()))}playVideoOnLoad(t,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return Ie(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,r){const i=document.getElementById(t);if(!i)throw new v(`element with id '${t}' not found`);if(i.nodeName.toLowerCase()!==r.toLowerCase())throw new v(`element with id '${t}' must be an ${r} element`);return i}decodeFromImage(t,r){if(!t&&!r)throw new v("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)}decodeFromVideo(t,r){if(!t&&!r)throw new v("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,r,i){if(t===void 0&&r===void 0)throw new v("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,i):this.decodeFromVideoElementContinuously(t,i)}decodeFromImageElement(t){if(!t)throw new v("An image element must be provided.");this.reset();const r=this.prepareImageElement(t);this.imageElement=r;let i;return this.isImageLoaded(r)?i=this.decodeOnce(r,!1,!0):i=this._decodeOnLoadImage(r),i}decodeFromVideoElement(t){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(t,r){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(i,r)}_decodeFromVideoElementSetup(t){if(!t)throw new v("A video element must be provided.");this.reset();const r=this.prepareVideoElement(t);return this.videoElement=r,r}decodeFromImageUrl(t){if(!t)throw new v("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const i=this._decodeOnLoadImage(r);return r.src=t,i}decodeFromVideoUrl(t){if(!t)throw new v("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),i=this.decodeFromVideoElement(r);return r.src=t,i}decodeFromVideoUrlContinuously(t,r){if(!t)throw new v("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(i,r);return i.src=t,o}_decodeOnLoadImage(t){return new Promise((r,i)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(r,i),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return Ie(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,r){return Ie(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,r)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r}prepareVideoElement(t){let r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(t,r=!0,i=!0){this._stopAsyncDecode=!1;const o=(s,u)=>{if(this._stopAsyncDecode){u(new F("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const c=this.decode(t);s(c)}catch(c){const f=r&&c instanceof F,g=(c instanceof z||c instanceof B)&&i;if(f||g)return setTimeout(o,this._timeBetweenDecodingAttempts,s,u);u(c)}};return new Promise((s,u)=>o(s,u))}decodeContinuously(t,r){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(t);r(o,null),setTimeout(i,this.timeBetweenScansMillis)}catch(o){r(null,o);const s=o instanceof z||o instanceof B,u=o instanceof F;(s||u)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(t){const r=this.createBinaryBitmap(t);return this.decodeBitmap(r)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,r,i){r||(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(t,r,i=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const r=this.getCaptureCanvas(t),i=new fe(r),o=new ge(i);return new k(o)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let i,o;return typeof t<"u"&&(t instanceof HTMLVideoElement?(i=t.videoWidth,o=t.videoHeight):t instanceof HTMLImageElement&&(i=t.naturalWidth||t.width,o=t.naturalHeight||t.height)),r.style.width=i+"px",r.style.height=o+"px",r.width=i,r.height=o,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Qe{constructor(t,r,i=r==null?0:8*r.length,o,s,u=V.currentTimeMillis()){this.text=t,this.rawBytes=r,this.numBits=i,this.resultPoints=o,this.format=s,this.timestamp=u,this.text=t,this.rawBytes=r,i==null?this.numBits=r==null?0:8*r.length:this.numBits=i,this.resultPoints=o,this.format=s,this.resultMetadata=null,u==null?this.timestamp=V.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){const i=new Array(r.length+t.length);V.arraycopy(r,0,i,0,r.length),V.arraycopy(t,0,i,r.length,t.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Or;(function(C){C[C.AZTEC=0]="AZTEC",C[C.CODABAR=1]="CODABAR",C[C.CODE_39=2]="CODE_39",C[C.CODE_93=3]="CODE_93",C[C.CODE_128=4]="CODE_128",C[C.DATA_MATRIX=5]="DATA_MATRIX",C[C.EAN_8=6]="EAN_8",C[C.EAN_13=7]="EAN_13",C[C.ITF=8]="ITF",C[C.MAXICODE=9]="MAXICODE",C[C.PDF_417=10]="PDF_417",C[C.QR_CODE=11]="QR_CODE",C[C.RSS_14=12]="RSS_14",C[C.RSS_EXPANDED=13]="RSS_EXPANDED",C[C.UPC_A=14]="UPC_A",C[C.UPC_E=15]="UPC_E",C[C.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Or||(Or={}));var oe=Or,nr;(function(C){C[C.OTHER=0]="OTHER",C[C.ORIENTATION=1]="ORIENTATION",C[C.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",C[C.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",C[C.ISSUE_NUMBER=4]="ISSUE_NUMBER",C[C.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",C[C.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",C[C.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",C[C.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",C[C.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",C[C.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(nr||(nr={}));var pt=nr;class Ui{constructor(t,r,i,o,s=-1,u=-1){this.rawBytes=t,this.text=r,this.byteSegments=i,this.ecLevel=o,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=u,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class zi{exp(t){return this.expTable[t]}log(t){if(t===0)throw new T;return this.logTable[t]}static addOrSubtract(t,r){return t^r}}class Ut{constructor(t,r){if(r.length===0)throw new T;this.field=t;const i=r.length;if(i>1&&r[0]===0){let o=1;for(;o<i&&r[o]===0;)o++;o===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-o),V.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const r=this.coefficients;let i;if(t===1){i=0;for(let u=0,c=r.length;u!==c;u++){const f=r[u];i=zi.addOrSubtract(i,f)}return i}i=r[0];const o=r.length,s=this.field;for(let u=1;u<o;u++)i=zi.addOrSubtract(s.multiply(t,i),r[u]);return i}addOrSubtract(t){if(!this.field.equals(t.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,i=t.coefficients;if(r.length>i.length){const u=r;r=i,i=u}let o=new Int32Array(i.length);const s=i.length-r.length;V.arraycopy(i,0,o,0,s);for(let u=s;u<i.length;u++)o[u]=zi.addOrSubtract(r[u-s],i[u]);return new Ut(this.field,o)}multiply(t){if(!this.field.equals(t.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const r=this.coefficients,i=r.length,o=t.coefficients,s=o.length,u=new Int32Array(i+s-1),c=this.field;for(let f=0;f<i;f++){const g=r[f];for(let m=0;m<s;m++)u[f+m]=zi.addOrSubtract(u[f+m],c.multiply(g,o[m]))}return new Ut(c,u)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const r=this.coefficients.length,i=this.field,o=new Int32Array(r),s=this.coefficients;for(let u=0;u<r;u++)o[u]=i.multiply(s[u],t);return new Ut(i,o)}multiplyByMonomial(t,r){if(t<0)throw new T;if(r===0)return this.field.getZero();const i=this.coefficients,o=i.length,s=new Int32Array(o+t),u=this.field;for(let c=0;c<o;c++)s[c]=u.multiply(i[c],r);return new Ut(u,s)}divide(t){if(!this.field.equals(t.field))throw new T("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new T("Divide by 0");const r=this.field;let i=r.getZero(),o=this;const s=t.getCoefficient(t.getDegree()),u=r.inverse(s);for(;o.getDegree()>=t.getDegree()&&!o.isZero();){const c=o.getDegree()-t.getDegree(),f=r.multiply(o.getCoefficient(o.getDegree()),u),g=t.multiplyByMonomial(c,f),m=r.buildMonomial(c,f);i=i.addOrSubtract(m),o=o.addOrSubtract(g)}return[i,o]}toString(){let t="";for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);if(i!==0){if(i<0?(t+=" - ",i=-i):t.length>0&&(t+=" + "),r===0||i!==1){const o=this.field.log(i);o===0?t+="1":o===1?t+="a":(t+="a^",t+=o)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t}}class Ha extends w{}Ha.kind="ArithmeticException";class Ne extends zi{constructor(t,r,i){super(),this.primitive=t,this.size=r,this.generatorBase=i;const o=new Int32Array(r);let s=1;for(let c=0;c<r;c++)o[c]=s,s*=2,s>=r&&(s^=t,s&=r-1);this.expTable=o;const u=new Int32Array(r);for(let c=0;c<r-1;c++)u[o[c]]=c;this.logTable=u,this.zero=new Ut(this,Int32Array.from([0])),this.one=new Ut(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new T;if(r===0)return this.zero;const i=new Int32Array(t+1);return i[0]=r,new Ut(this,i)}inverse(t){if(t===0)throw new Ha;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+R.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}Ne.AZTEC_DATA_12=new Ne(4201,4096,1),Ne.AZTEC_DATA_10=new Ne(1033,1024,1),Ne.AZTEC_DATA_6=new Ne(67,64,1),Ne.AZTEC_PARAM=new Ne(19,16,1),Ne.QR_CODE_FIELD_256=new Ne(285,256,0),Ne.DATA_MATRIX_FIELD_256=new Ne(301,256,1),Ne.AZTEC_DATA_8=Ne.DATA_MATRIX_FIELD_256,Ne.MAXICODE_FIELD_64=Ne.AZTEC_DATA_6;class $r extends w{}$r.kind="ReedSolomonException";class _n extends w{}_n.kind="IllegalStateException";class Hi{constructor(t){this.field=t}decode(t,r){const i=this.field,o=new Ut(i,t),s=new Int32Array(r);let u=!0;for(let b=0;b<r;b++){const M=o.evaluateAt(i.exp(b+i.getGeneratorBase()));s[s.length-1-b]=M,M!==0&&(u=!1)}if(u)return;const c=new Ut(i,s),f=this.runEuclideanAlgorithm(i.buildMonomial(r,1),c,r),g=f[0],m=f[1],y=this.findErrorLocations(g),S=this.findErrorMagnitudes(m,y);for(let b=0;b<y.length;b++){const M=t.length-1-i.log(y[b]);if(M<0)throw new $r("Bad error location");t[M]=Ne.addOrSubtract(t[M],S[b])}}runEuclideanAlgorithm(t,r,i){if(t.getDegree()<r.getDegree()){const b=t;t=r,r=b}const o=this.field;let s=t,u=r,c=o.getZero(),f=o.getOne();for(;u.getDegree()>=(i/2|0);){let b=s,M=c;if(s=u,c=f,s.isZero())throw new $r("r_{i-1} was zero");u=b;let _=o.getZero();const P=s.getCoefficient(s.getDegree()),L=o.inverse(P);for(;u.getDegree()>=s.getDegree()&&!u.isZero();){const Z=u.getDegree()-s.getDegree(),Q=o.multiply(u.getCoefficient(u.getDegree()),L);_=_.addOrSubtract(o.buildMonomial(Z,Q)),u=u.addOrSubtract(s.multiplyByMonomial(Z,Q))}if(f=_.multiply(c).addOrSubtract(M),u.getDegree()>=s.getDegree())throw new _n("Division algorithm failed to reduce polynomial?")}const g=f.getCoefficient(0);if(g===0)throw new $r("sigmaTilde(0) was zero");const m=o.inverse(g),y=f.multiplyScalar(m),S=u.multiplyScalar(m);return[y,S]}findErrorLocations(t){const r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);const i=new Int32Array(r);let o=0;const s=this.field;for(let u=1;u<s.getSize()&&o<r;u++)t.evaluateAt(u)===0&&(i[o]=s.inverse(u),o++);if(o!==r)throw new $r("Error locator degree does not match number of roots");return i}findErrorMagnitudes(t,r){const i=r.length,o=new Int32Array(i),s=this.field;for(let u=0;u<i;u++){const c=s.inverse(r[u]);let f=1;for(let g=0;g<i;g++)if(u!==g){const m=s.multiply(r[g],c),y=m&1?m&-2:m|1;f=s.multiply(f,y)}o[u]=s.multiply(t.evaluateAt(c),s.inverse(f)),s.getGeneratorBase()!==0&&(o[u]=s.multiply(o[u],c))}return o}}var yt;(function(C){C[C.UPPER=0]="UPPER",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.DIGIT=3]="DIGIT",C[C.PUNCT=4]="PUNCT",C[C.BINARY=5]="BINARY"})(yt||(yt={}));class Fe{decode(t){this.ddata=t;let r=t.getBits(),i=this.extractBits(r),o=this.correctBits(i),s=Fe.convertBoolArrayToByteArray(o),u=Fe.getEncodedData(o),c=new Ui(s,u,null,null);return c.setNumBits(o.length),c}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let r=t.length,i=yt.UPPER,o=yt.UPPER,s="",u=0;for(;u<r;)if(o===yt.BINARY){if(r-u<5)break;let c=Fe.readCode(t,u,5);if(u+=5,c===0){if(r-u<11)break;c=Fe.readCode(t,u,11)+31,u+=11}for(let f=0;f<c;f++){if(r-u<8){u=r;break}const g=Fe.readCode(t,u,8);s+=ue.castAsNonUtf8Char(g),u+=8}o=i}else{let c=o===yt.DIGIT?4:5;if(r-u<c)break;let f=Fe.readCode(t,u,c);u+=c;let g=Fe.getCharacter(o,f);g.startsWith("CTRL_")?(i=o,o=Fe.getTable(g.charAt(5)),g.charAt(6)==="L"&&(i=o)):(s+=g,o=i)}return s}static getTable(t){switch(t){case"L":return yt.LOWER;case"P":return yt.PUNCT;case"M":return yt.MIXED;case"D":return yt.DIGIT;case"B":return yt.BINARY;case"U":default:return yt.UPPER}}static getCharacter(t,r){switch(t){case yt.UPPER:return Fe.UPPER_TABLE[r];case yt.LOWER:return Fe.LOWER_TABLE[r];case yt.MIXED:return Fe.MIXED_TABLE[r];case yt.PUNCT:return Fe.PUNCT_TABLE[r];case yt.DIGIT:return Fe.DIGIT_TABLE[r];default:throw new _n("Bad table")}}correctBits(t){let r,i;this.ddata.getNbLayers()<=2?(i=6,r=Ne.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,r=Ne.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,r=Ne.AZTEC_DATA_10):(i=12,r=Ne.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),s=t.length/i;if(s<o)throw new B;let u=t.length%i,c=new Int32Array(s);for(let S=0;S<s;S++,u+=i)c[S]=Fe.readCode(t,u,i);try{new Hi(r).decode(c,s-o)}catch(S){throw new B(S)}let f=(1<<i)-1,g=0;for(let S=0;S<o;S++){let b=c[S];if(b===0||b===f)throw new B;(b===1||b===f-1)&&g++}let m=new Array(o*i-g),y=0;for(let S=0;S<o;S++){let b=c[S];if(b===1||b===f-1)m.fill(b>1,y,y+i-1),y+=i-1;else for(let M=i-1;M>=0;--M)m[y++]=(b&1<<M)!==0}return m}extractBits(t){let r=this.ddata.isCompact(),i=this.ddata.getNbLayers(),o=(r?11:14)+i*4,s=new Int32Array(o),u=new Array(this.totalBitsInLayer(i,r));if(r)for(let c=0;c<s.length;c++)s[c]=c;else{let c=o+1+2*R.truncDivision(R.truncDivision(o,2)-1,15),f=o/2,g=R.truncDivision(c,2);for(let m=0;m<f;m++){let y=m+R.truncDivision(m,15);s[f-m-1]=g-y-1,s[f+m]=g+y+1}}for(let c=0,f=0;c<i;c++){let g=(i-c)*4+(r?9:12),m=c*2,y=o-1-m;for(let S=0;S<g;S++){let b=S*2;for(let M=0;M<2;M++)u[f+b+M]=t.get(s[m+M],s[m+S]),u[f+2*g+b+M]=t.get(s[m+S],s[y-M]),u[f+4*g+b+M]=t.get(s[y-M],s[y-S]),u[f+6*g+b+M]=t.get(s[y-S],s[m+M])}f+=g*8}return u}static readCode(t,r,i){let o=0;for(let s=r;s<r+i;s++)o<<=1,t[s]&&(o|=1);return o}static readByte(t,r){let i=t.length-r;return i>=8?Fe.readCode(t,r,8):Fe.readCode(t,r,i)<<8-i}static convertBoolArrayToByteArray(t){let r=new Uint8Array((t.length+7)/8);for(let i=0;i<r.length;i++)r[i]=Fe.readByte(t,8*i);return r}totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}Fe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Fe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Fe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Fe.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Fe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class be{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,r,i,o){const s=t-i,u=r-o;return Math.sqrt(s*s+u*u)}static sum(t){let r=0;for(let i=0,o=t.length;i!==o;i++){const s=t[i];r+=s}return r}}class Va{static floatToIntBits(t){return t}}Va.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ae{constructor(t,r){this.x=t,this.y=r}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof ae){const r=t;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*Va.floatToIntBits(this.x)+Va.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const r=this.distance(t[0],t[1]),i=this.distance(t[1],t[2]),o=this.distance(t[0],t[2]);let s,u,c;if(i>=r&&i>=o?(u=t[0],s=t[1],c=t[2]):o>=i&&o>=r?(u=t[1],s=t[0],c=t[2]):(u=t[2],s=t[0],c=t[1]),this.crossProductZ(s,u,c)<0){const f=s;s=c,c=f}t[0]=s,t[1]=u,t[2]=c}static distance(t,r){return be.distance(t.x,t.y,r.x,r.y)}static crossProductZ(t,r,i){const o=r.x,s=r.y;return(i.x-o)*(t.y-s)-(i.y-s)*(t.x-o)}}class ja{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class tc extends ja{constructor(t,r,i,o,s){super(t,r),this.compact=i,this.nbDatablocks=o,this.nbLayers=s}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Wn{constructor(t,r,i,o){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=Wn.INIT_SIZE),i==null&&(i=t.getWidth()/2|0),o==null&&(o=t.getHeight()/2|0);const s=r/2|0;if(this.leftInit=i-s,this.rightInit=i+s,this.upInit=o-s,this.downInit=o+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new F}detect(){let t=this.leftInit,r=this.rightInit,i=this.upInit,o=this.downInit,s=!1,u=!0,c=!1,f=!1,g=!1,m=!1,y=!1;const S=this.width,b=this.height;for(;u;){u=!1;let M=!0;for(;(M||!f)&&r<S;)M=this.containsBlackPoint(i,o,r,!1),M?(r++,u=!0,f=!0):f||r++;if(r>=S){s=!0;break}let _=!0;for(;(_||!g)&&o<b;)_=this.containsBlackPoint(t,r,o,!0),_?(o++,u=!0,g=!0):g||o++;if(o>=b){s=!0;break}let P=!0;for(;(P||!m)&&t>=0;)P=this.containsBlackPoint(i,o,t,!1),P?(t--,u=!0,m=!0):m||t--;if(t<0){s=!0;break}let L=!0;for(;(L||!y)&&i>=0;)L=this.containsBlackPoint(t,r,i,!0),L?(i--,u=!0,y=!0):y||i--;if(i<0){s=!0;break}u&&(c=!0)}if(!s&&c){const M=r-t;let _=null;for(let Q=1;_===null&&Q<M;Q++)_=this.getBlackPointOnSegment(t,o-Q,t+Q,o);if(_==null)throw new F;let P=null;for(let Q=1;P===null&&Q<M;Q++)P=this.getBlackPointOnSegment(t,i+Q,t+Q,i);if(P==null)throw new F;let L=null;for(let Q=1;L===null&&Q<M;Q++)L=this.getBlackPointOnSegment(r,i+Q,r-Q,i);if(L==null)throw new F;let Z=null;for(let Q=1;Z===null&&Q<M;Q++)Z=this.getBlackPointOnSegment(r,o-Q,r-Q,o);if(Z==null)throw new F;return this.centerEdges(Z,_,L,P)}else throw new F}getBlackPointOnSegment(t,r,i,o){const s=be.round(be.distance(t,r,i,o)),u=(i-t)/s,c=(o-r)/s,f=this.image;for(let g=0;g<s;g++){const m=be.round(t+g*u),y=be.round(r+g*c);if(f.get(m,y))return new ae(m,y)}return null}centerEdges(t,r,i,o){const s=t.getX(),u=t.getY(),c=r.getX(),f=r.getY(),g=i.getX(),m=i.getY(),y=o.getX(),S=o.getY(),b=Wn.CORR;return s<this.width/2?[new ae(y-b,S+b),new ae(c+b,f+b),new ae(g-b,m-b),new ae(s+b,u-b)]:[new ae(y+b,S+b),new ae(c+b,f-b),new ae(g-b,m+b),new ae(s-b,u-b)]}containsBlackPoint(t,r,i,o){const s=this.image;if(o){for(let u=t;u<=r;u++)if(s.get(u,i))return!0}else for(let u=t;u<=r;u++)if(s.get(i,u))return!0;return!1}}Wn.INIT_SIZE=10,Wn.CORR=1;class Cs{static checkAndNudgePoints(t,r){const i=t.getWidth(),o=t.getHeight();let s=!0;for(let u=0;u<r.length&&s;u+=2){const c=Math.floor(r[u]),f=Math.floor(r[u+1]);if(c<-1||c>i||f<-1||f>o)throw new F;s=!1,c===-1?(r[u]=0,s=!0):c===i&&(r[u]=i-1,s=!0),f===-1?(r[u+1]=0,s=!0):f===o&&(r[u+1]=o-1,s=!0)}s=!0;for(let u=r.length-2;u>=0&&s;u-=2){const c=Math.floor(r[u]),f=Math.floor(r[u+1]);if(c<-1||c>i||f<-1||f>o)throw new F;s=!1,c===-1?(r[u]=0,s=!0):c===i&&(r[u]=i-1,s=!0),f===-1?(r[u+1]=0,s=!0):f===o&&(r[u+1]=o-1,s=!0)}}}class yn{constructor(t,r,i,o,s,u,c,f,g){this.a11=t,this.a21=r,this.a31=i,this.a12=o,this.a22=s,this.a32=u,this.a13=c,this.a23=f,this.a33=g}static quadrilateralToQuadrilateral(t,r,i,o,s,u,c,f,g,m,y,S,b,M,_,P){const L=yn.quadrilateralToSquare(t,r,i,o,s,u,c,f);return yn.squareToQuadrilateral(g,m,y,S,b,M,_,P).times(L)}transformPoints(t){const r=t.length,i=this.a11,o=this.a12,s=this.a13,u=this.a21,c=this.a22,f=this.a23,g=this.a31,m=this.a32,y=this.a33;for(let S=0;S<r;S+=2){const b=t[S],M=t[S+1],_=s*b+f*M+y;t[S]=(i*b+u*M+g)/_,t[S+1]=(o*b+c*M+m)/_}}transformPointsWithValues(t,r){const i=this.a11,o=this.a12,s=this.a13,u=this.a21,c=this.a22,f=this.a23,g=this.a31,m=this.a32,y=this.a33,S=t.length;for(let b=0;b<S;b++){const M=t[b],_=r[b],P=s*M+f*_+y;t[b]=(i*M+u*_+g)/P,r[b]=(o*M+c*_+m)/P}}static squareToQuadrilateral(t,r,i,o,s,u,c,f){const g=t-i+s-c,m=r-o+u-f;if(g===0&&m===0)return new yn(i-t,s-i,t,o-r,u-o,r,0,0,1);{const y=i-s,S=c-s,b=o-u,M=f-u,_=y*M-S*b,P=(g*M-S*m)/_,L=(y*m-g*b)/_;return new yn(i-t+P*i,c-t+L*c,t,o-r+P*o,f-r+L*f,r,P,L,1)}}static quadrilateralToSquare(t,r,i,o,s,u,c,f){return yn.squareToQuadrilateral(t,r,i,o,s,u,c,f).buildAdjoint()}buildAdjoint(){return new yn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new yn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class nc extends Cs{sampleGrid(t,r,i,o,s,u,c,f,g,m,y,S,b,M,_,P,L,Z,Q){const Y=yn.quadrilateralToQuadrilateral(o,s,u,c,f,g,m,y,S,b,M,_,P,L,Z,Q);return this.sampleGridWithTransform(t,r,i,Y)}sampleGridWithTransform(t,r,i,o){if(r<=0||i<=0)throw new F;const s=new at(r,i),u=new Float32Array(2*r);for(let c=0;c<i;c++){const f=u.length,g=c+.5;for(let m=0;m<f;m+=2)u[m]=m/2+.5,u[m+1]=g;o.transformPoints(u),Cs.checkAndNudgePoints(t,u);try{for(let m=0;m<f;m+=2)t.get(Math.floor(u[m]),Math.floor(u[m+1]))&&s.set(m/2,c)}catch{throw new F}}return s}}class rr{static setGridSampler(t){rr.gridSampler=t}static getInstance(){return rr.gridSampler}}rr.gridSampler=new nc;class kt{constructor(t,r){this.x=t,this.y=r}toResultPoint(){return new ae(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class rc{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let r=this.getMatrixCenter(),i=this.getBullsEyeCorners(r);if(t){let u=i[0];i[0]=i[2],i[2]=u}this.extractParameters(i);let o=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),s=this.getMatrixCornerPoints(i);return new tc(o,s,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new F;let r=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(i,r);let o=0;for(let u=0;u<4;u++){let c=i[(this.shift+u)%4];this.compact?(o<<=7,o+=c>>1&127):(o<<=10,o+=(c>>2&992)+(c>>1&31))}let s=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)}getRotation(t,r){let i=0;t.forEach((o,s,u)=>{let c=(o>>r-2<<1)+(o&1);i=(i<<3)+c}),i=((i&1)<<11)+(i>>1);for(let o=0;o<4;o++)if(R.bitCount(i^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new F}getCorrectedParameterData(t,r){let i,o;r?(i=7,o=2):(i=10,o=4);let s=i-o,u=new Int32Array(i);for(let f=i-1;f>=0;--f)u[f]=t&15,t>>=4;try{new Hi(Ne.AZTEC_PARAM).decode(u,s)}catch{throw new F}let c=0;for(let f=0;f<o;f++)c=(c<<4)+u[f];return c}getBullsEyeCorners(t){let r=t,i=t,o=t,s=t,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let y=this.getFirstDifferent(r,u,1,-1),S=this.getFirstDifferent(i,u,1,1),b=this.getFirstDifferent(o,u,-1,1),M=this.getFirstDifferent(s,u,-1,-1);if(this.nbCenterLayers>2){let _=this.distancePoint(M,y)*this.nbCenterLayers/(this.distancePoint(s,r)*(this.nbCenterLayers+2));if(_<.75||_>1.25||!this.isWhiteOrBlackRectangle(y,S,b,M))break}r=y,i=S,o=b,s=M,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new F;this.compact=this.nbCenterLayers===5;let c=new ae(r.getX()+.5,r.getY()-.5),f=new ae(i.getX()+.5,i.getY()+.5),g=new ae(o.getX()-.5,o.getY()+.5),m=new ae(s.getX()-.5,s.getY()-.5);return this.expandSquare([c,f,g,m],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,r,i,o;try{let c=new Wn(this.image).detect();t=c[0],r=c[1],i=c[2],o=c[3]}catch{let c=this.image.getWidth()/2,f=this.image.getHeight()/2;t=this.getFirstDifferent(new kt(c+7,f-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new kt(c+7,f+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new kt(c-7,f+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new kt(c-7,f-7),!1,-1,-1).toResultPoint()}let s=be.round((t.getX()+o.getX()+r.getX()+i.getX())/4),u=be.round((t.getY()+o.getY()+r.getY()+i.getY())/4);try{let c=new Wn(this.image,15,s,u).detect();t=c[0],r=c[1],i=c[2],o=c[3]}catch{t=this.getFirstDifferent(new kt(s+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new kt(s+7,u+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new kt(s-7,u+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new kt(s-7,u-7),!1,-1,-1).toResultPoint()}return s=be.round((t.getX()+o.getX()+r.getX()+i.getX())/4),u=be.round((t.getY()+o.getY()+r.getY()+i.getY())/4),new kt(s,u)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,r,i,o,s){let u=rr.getInstance(),c=this.getDimension(),f=c/2-this.nbCenterLayers,g=c/2+this.nbCenterLayers;return u.sampleGrid(t,c,c,f,f,g,f,g,g,f,g,r.getX(),r.getY(),i.getX(),i.getY(),o.getX(),o.getY(),s.getX(),s.getY())}sampleLine(t,r,i){let o=0,s=this.distanceResultPoint(t,r),u=s/i,c=t.getX(),f=t.getY(),g=u*(r.getX()-t.getX())/s,m=u*(r.getY()-t.getY())/s;for(let y=0;y<i;y++)this.image.get(be.round(c+y*g),be.round(f+y*m))&&(o|=1<<i-y-1);return o}isWhiteOrBlackRectangle(t,r,i,o){let s=3;t=new kt(t.getX()-s,t.getY()+s),r=new kt(r.getX()-s,r.getY()-s),i=new kt(i.getX()+s,i.getY()-s),o=new kt(o.getX()+s,o.getY()+s);let u=this.getColor(o,t);if(u===0)return!1;let c=this.getColor(t,r);return c!==u||(c=this.getColor(r,i),c!==u)?!1:(c=this.getColor(i,o),c===u)}getColor(t,r){let i=this.distancePoint(t,r),o=(r.getX()-t.getX())/i,s=(r.getY()-t.getY())/i,u=0,c=t.getX(),f=t.getY(),g=this.image.get(t.getX(),t.getY()),m=Math.ceil(i);for(let S=0;S<m;S++)c+=o,f+=s,this.image.get(be.round(c),be.round(f))!==g&&u++;let y=u/i;return y>.1&&y<.9?0:y<=.1===g?1:-1}getFirstDifferent(t,r,i,o){let s=t.getX()+i,u=t.getY()+o;for(;this.isValid(s,u)&&this.image.get(s,u)===r;)s+=i,u+=o;for(s-=i,u-=o;this.isValid(s,u)&&this.image.get(s,u)===r;)s+=i;for(s-=i;this.isValid(s,u)&&this.image.get(s,u)===r;)u+=o;return u-=o,new kt(s,u)}expandSquare(t,r,i){let o=i/(2*r),s=t[0].getX()-t[2].getX(),u=t[0].getY()-t[2].getY(),c=(t[0].getX()+t[2].getX())/2,f=(t[0].getY()+t[2].getY())/2,g=new ae(c+o*s,f+o*u),m=new ae(c-o*s,f-o*u);s=t[1].getX()-t[3].getX(),u=t[1].getY()-t[3].getY(),c=(t[1].getX()+t[3].getX())/2,f=(t[1].getY()+t[3].getY())/2;let y=new ae(c+o*s,f+o*u),S=new ae(c-o*s,f-o*u);return[g,y,m,S]}isValid(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(t){let r=be.round(t.getX()),i=be.round(t.getY());return this.isValid(r,i)}distancePoint(t,r){return be.distance(t.getX(),t.getY(),r.getX(),r.getY())}distanceResultPoint(t,r){return be.distance(t.getX(),t.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(R.truncDivision(this.nbLayers-4,8)+1)+15}}class Wa{decode(t,r=null){let i=null,o=new rc(t.getBlackMatrix()),s=null,u=null;try{let m=o.detectMirror(!1);s=m.getPoints(),this.reportFoundResultPoints(r,s),u=new Fe().decode(m)}catch(m){i=m}if(u==null)try{let m=o.detectMirror(!0);s=m.getPoints(),this.reportFoundResultPoints(r,s),u=new Fe().decode(m)}catch(m){throw i??m}let c=new Qe(u.getText(),u.getRawBytes(),u.getNumBits(),s,oe.AZTEC,V.currentTimeMillis()),f=u.getByteSegments();f!=null&&c.putMetadata(pt.BYTE_SEGMENTS,f);let g=u.getECLevel();return g!=null&&c.putMetadata(pt.ERROR_CORRECTION_LEVEL,g),c}reportFoundResultPoints(t,r){if(t!=null){let i=t.get(K.NEED_RESULT_POINT_CALLBACK);i!=null&&r.forEach((o,s,u)=>{i.foundPossibleResultPoint(o)})}}reset(){}}class p0 extends sn{constructor(t=500){super(new Wa,t)}}class lt{decode(t,r){try{return this.doDecode(t,r)}catch{if(r&&r.get(K.TRY_HARDER)===!0&&t.isRotateSupported()){const i=t.rotateCounterClockwise(),o=this.doDecode(i,r),s=o.getResultMetadata();let u=270;s!==null&&s.get(pt.ORIENTATION)===!0&&(u=u+s.get(pt.ORIENTATION)%360),o.putMetadata(pt.ORIENTATION,u);const c=o.getResultPoints();if(c!==null){const f=i.getHeight();for(let g=0;g<c.length;g++)c[g]=new ae(f-c[g].getY()-1,c[g].getX())}return o}else throw new F}}reset(){}doDecode(t,r){const i=t.getWidth(),o=t.getHeight();let s=new U(i);const u=r&&r.get(K.TRY_HARDER)===!0,c=Math.max(1,o>>(u?8:5));let f;u?f=o:f=15;const g=Math.trunc(o/2);for(let m=0;m<f;m++){const y=Math.trunc((m+1)/2),S=(m&1)===0,b=g+c*(S?y:-y);if(b<0||b>=o)break;try{s=t.getBlackRow(b,s)}catch{continue}for(let M=0;M<2;M++){if(M===1&&(s.reverse(),r&&r.get(K.NEED_RESULT_POINT_CALLBACK)===!0)){const _=new Map;r.forEach((P,L)=>_.set(L,P)),_.delete(K.NEED_RESULT_POINT_CALLBACK),r=_}try{const _=this.decodeRow(b,s,r);if(M===1){_.putMetadata(pt.ORIENTATION,180);const P=_.getResultPoints();P!==null&&(P[0]=new ae(i-P[0].getX()-1,P[0].getY()),P[1]=new ae(i-P[1].getX()-1,P[1].getY()))}return _}catch{}}}throw new F}static recordPattern(t,r,i){const o=i.length;for(let g=0;g<o;g++)i[g]=0;const s=t.getSize();if(r>=s)throw new F;let u=!t.get(r),c=0,f=r;for(;f<s;){if(t.get(f)!==u)i[c]++;else{if(++c===o)break;i[c]=1,u=!u}f++}if(!(c===o||c===o-1&&f===s))throw new F}static recordPatternInReverse(t,r,i){let o=i.length,s=t.get(r);for(;r>0&&o>=0;)t.get(--r)!==s&&(o--,s=!s);if(o>=0)throw new F;lt.recordPattern(t,r+1,i)}static patternMatchVariance(t,r,i){const o=t.length;let s=0,u=0;for(let g=0;g<o;g++)s+=t[g],u+=r[g];if(s<u)return Number.POSITIVE_INFINITY;const c=s/u;i*=c;let f=0;for(let g=0;g<o;g++){const m=t[g],y=r[g]*c,S=m>y?m-y:y-m;if(S>i)return Number.POSITIVE_INFINITY;f+=S}return f/s}}class J extends lt{static findStartPattern(t){const r=t.getSize(),i=t.getNextSet(0);let o=0,s=Int32Array.from([0,0,0,0,0,0]),u=i,c=!1;const f=6;for(let g=i;g<r;g++)if(t.get(g)!==c)s[o]++;else{if(o===f-1){let m=J.MAX_AVG_VARIANCE,y=-1;for(let S=J.CODE_START_A;S<=J.CODE_START_C;S++){const b=lt.patternMatchVariance(s,J.CODE_PATTERNS[S],J.MAX_INDIVIDUAL_VARIANCE);b<m&&(m=b,y=S)}if(y>=0&&t.isRange(Math.max(0,u-(g-u)/2),u,!1))return Int32Array.from([u,g,y]);u+=s[0]+s[1],s=s.slice(2,s.length-1),s[o-1]=0,s[o]=0,o--}else o++;s[o]=1,c=!c}throw new F}static decodeCode(t,r,i){lt.recordPattern(t,i,r);let o=J.MAX_AVG_VARIANCE,s=-1;for(let u=0;u<J.CODE_PATTERNS.length;u++){const c=J.CODE_PATTERNS[u],f=this.patternMatchVariance(r,c,J.MAX_INDIVIDUAL_VARIANCE);f<o&&(o=f,s=u)}if(s>=0)return s;throw new F}decodeRow(t,r,i){const o=i&&i.get(K.ASSUME_GS1)===!0,s=J.findStartPattern(r),u=s[2];let c=0;const f=new Uint8Array(20);f[c++]=u;let g;switch(u){case J.CODE_START_A:g=J.CODE_CODE_A;break;case J.CODE_START_B:g=J.CODE_CODE_B;break;case J.CODE_START_C:g=J.CODE_CODE_C;break;default:throw new B}let m=!1,y=!1,S="",b=s[0],M=s[1];const _=Int32Array.from([0,0,0,0,0,0]);let P=0,L=0,Z=u,Q=0,Y=!0,ye=!1,me=!1;for(;!m;){const li=y;switch(y=!1,P=L,L=J.decodeCode(r,_,M),f[c++]=L,L!==J.CODE_STOP&&(Y=!0),L!==J.CODE_STOP&&(Q++,Z+=Q*L),b=M,M+=_.reduce((W0,Y0)=>W0+Y0,0),L){case J.CODE_START_A:case J.CODE_START_B:case J.CODE_START_C:throw new B}switch(g){case J.CODE_CODE_A:if(L<64)me===ye?S+=String.fromCharCode(" ".charCodeAt(0)+L):S+=String.fromCharCode(" ".charCodeAt(0)+L+128),me=!1;else if(L<96)me===ye?S+=String.fromCharCode(L-64):S+=String.fromCharCode(L+64),me=!1;else switch(L!==J.CODE_STOP&&(Y=!1),L){case J.CODE_FNC_1:o&&(S.length===0?S+="]C1":S+=String.fromCharCode(29));break;case J.CODE_FNC_2:case J.CODE_FNC_3:break;case J.CODE_FNC_4_A:!ye&&me?(ye=!0,me=!1):ye&&me?(ye=!1,me=!1):me=!0;break;case J.CODE_SHIFT:y=!0,g=J.CODE_CODE_B;break;case J.CODE_CODE_B:g=J.CODE_CODE_B;break;case J.CODE_CODE_C:g=J.CODE_CODE_C;break;case J.CODE_STOP:m=!0;break}break;case J.CODE_CODE_B:if(L<96)me===ye?S+=String.fromCharCode(" ".charCodeAt(0)+L):S+=String.fromCharCode(" ".charCodeAt(0)+L+128),me=!1;else switch(L!==J.CODE_STOP&&(Y=!1),L){case J.CODE_FNC_1:o&&(S.length===0?S+="]C1":S+=String.fromCharCode(29));break;case J.CODE_FNC_2:case J.CODE_FNC_3:break;case J.CODE_FNC_4_B:!ye&&me?(ye=!0,me=!1):ye&&me?(ye=!1,me=!1):me=!0;break;case J.CODE_SHIFT:y=!0,g=J.CODE_CODE_A;break;case J.CODE_CODE_A:g=J.CODE_CODE_A;break;case J.CODE_CODE_C:g=J.CODE_CODE_C;break;case J.CODE_STOP:m=!0;break}break;case J.CODE_CODE_C:if(L<100)L<10&&(S+="0"),S+=L;else switch(L!==J.CODE_STOP&&(Y=!1),L){case J.CODE_FNC_1:o&&(S.length===0?S+="]C1":S+=String.fromCharCode(29));break;case J.CODE_CODE_A:g=J.CODE_CODE_A;break;case J.CODE_CODE_B:g=J.CODE_CODE_B;break;case J.CODE_STOP:m=!0;break}break}li&&(g=g===J.CODE_CODE_A?J.CODE_CODE_B:J.CODE_CODE_A)}const jt=M-b;if(M=r.getNextUnset(M),!r.isRange(M,Math.min(r.getSize(),M+(M-b)/2),!1))throw new F;if(Z-=Q*P,Z%103!==P)throw new z;const Sn=S.length;if(Sn===0)throw new F;Sn>0&&Y&&(g===J.CODE_CODE_C?S=S.substring(0,Sn-2):S=S.substring(0,Sn-1));const Wt=(s[1]+s[0])/2,Le=b+jt/2,It=f.length,Kt=new Uint8Array(It);for(let li=0;li<It;li++)Kt[li]=f[li];const si=[new ae(Wt,t),new ae(Le,t)];return new Qe(S,Kt,0,si,oe.CODE_128,new Date().getTime())}}J.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],J.MAX_AVG_VARIANCE=.25,J.MAX_INDIVIDUAL_VARIANCE=.7,J.CODE_SHIFT=98,J.CODE_CODE_C=99,J.CODE_CODE_B=100,J.CODE_CODE_A=101,J.CODE_FNC_1=102,J.CODE_FNC_2=97,J.CODE_FNC_3=96,J.CODE_FNC_4_A=101,J.CODE_FNC_4_B=100,J.CODE_START_A=103,J.CODE_START_B=104,J.CODE_START_C=105,J.CODE_STOP=106;class ct extends lt{constructor(t=!1,r=!1){super(),this.usingCheckDigit=t,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,r,i){let o=this.counters;o.fill(0),this.decodeRowResult="";let s=ct.findAsteriskPattern(r,o),u=r.getNextSet(s[1]),c=r.getSize(),f,g;do{ct.recordPattern(r,u,o);let _=ct.toNarrowWidePattern(o);if(_<0)throw new F;f=ct.patternToChar(_),this.decodeRowResult+=f,g=u;for(let P of o)u+=P;u=r.getNextSet(u)}while(f!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let m=0;for(let _ of o)m+=_;let y=u-g-m;if(u!==c&&y*2<m)throw new F;if(this.usingCheckDigit){let _=this.decodeRowResult.length-1,P=0;for(let L=0;L<_;L++)P+=ct.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(L));if(this.decodeRowResult.charAt(_)!==ct.ALPHABET_STRING.charAt(P%43))throw new z;this.decodeRowResult=this.decodeRowResult.substring(0,_)}if(this.decodeRowResult.length===0)throw new F;let S;this.extendedMode?S=ct.decodeExtended(this.decodeRowResult):S=this.decodeRowResult;let b=(s[1]+s[0])/2,M=g+m/2;return new Qe(S,null,0,[new ae(b,t),new ae(M,t)],oe.CODE_39,new Date().getTime())}static findAsteriskPattern(t,r){let i=t.getSize(),o=t.getNextSet(0),s=0,u=o,c=!1,f=r.length;for(let g=o;g<i;g++)if(t.get(g)!==c)r[s]++;else{if(s===f-1){if(this.toNarrowWidePattern(r)===ct.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((g-u)/2)),u,!1))return[u,g];u+=r[0]+r[1],r.copyWithin(0,2,2+s-1),r[s-1]=0,r[s]=0,s--}else s++;r[s]=1,c=!c}throw new F}static toNarrowWidePattern(t){let r=t.length,i=0,o;do{let s=2147483647;for(let f of t)f<s&&f>i&&(s=f);i=s,o=0;let u=0,c=0;for(let f=0;f<r;f++){let g=t[f];g>i&&(c|=1<<r-1-f,o++,u+=g)}if(o===3){for(let f=0;f<r&&o>0;f++){let g=t[f];if(g>i&&(o--,g*2>=u))return-1}return c}}while(o>3);return-1}static patternToChar(t){for(let r=0;r<ct.CHARACTER_ENCODINGS.length;r++)if(ct.CHARACTER_ENCODINGS[r]===t)return ct.ALPHABET_STRING.charAt(r);if(t===ct.ASTERISK_ENCODING)return"*";throw new F}static decodeExtended(t){let r=t.length,i="";for(let o=0;o<r;o++){let s=t.charAt(o);if(s==="+"||s==="$"||s==="%"||s==="/"){let u=t.charAt(o+1),c="\0";switch(s){case"+":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)+32);else throw new B;break;case"$":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)-64);else throw new B;break;case"%":if(u>="A"&&u<="E")c=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")c=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")c=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")c="\0";else if(u==="V")c="@";else if(u==="W")c="`";else if(u==="X"||u==="Y"||u==="Z")c="";else throw new B;break;case"/":if(u>="A"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")c=":";else throw new B;break}i+=c,o++}else i+=s}return i}}ct.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",ct.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],ct.ASTERISK_ENCODING=148;class Pe extends lt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,r,i){let o=this.decodeStart(r),s=this.decodeEnd(r),u=new Se;Pe.decodeMiddle(r,o[1],s[0],u);let c=u.toString(),f=null;i!=null&&(f=i.get(K.ALLOWED_LENGTHS)),f==null&&(f=Pe.DEFAULT_ALLOWED_LENGTHS);let g=c.length,m=!1,y=0;for(let b of f){if(g===b){m=!0;break}b>y&&(y=b)}if(!m&&g>y&&(m=!0),!m)throw new B;const S=[new ae(o[1],t),new ae(s[0],t)];return new Qe(c,null,0,S,oe.ITF,new Date().getTime())}static decodeMiddle(t,r,i,o){let s=new Int32Array(10),u=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),u.fill(0),c.fill(0);r<i;){lt.recordPattern(t,r,s);for(let g=0;g<5;g++){let m=2*g;u[g]=s[m],c[g]=s[m+1]}let f=Pe.decodeDigit(u);o.append(f.toString()),f=this.decodeDigit(c),o.append(f.toString()),s.forEach(function(g){r+=g})}}decodeStart(t){let r=Pe.skipWhiteSpace(t),i=Pe.findGuardPattern(t,r,Pe.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i}validateQuietZone(t,r){let i=this.narrowLineWidth*10;i=i<r?i:r;for(let o=r-1;i>0&&o>=0&&!t.get(o);o--)i--;if(i!==0)throw new F}static skipWhiteSpace(t){const r=t.getSize(),i=t.getNextSet(0);if(i===r)throw new F;return i}decodeEnd(t){t.reverse();try{let r=Pe.skipWhiteSpace(t),i;try{i=Pe.findGuardPattern(t,r,Pe.END_PATTERN_REVERSED[0])}catch(s){s instanceof F&&(i=Pe.findGuardPattern(t,r,Pe.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);let o=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-o,i}finally{t.reverse()}}static findGuardPattern(t,r,i){let o=i.length,s=new Int32Array(o),u=t.getSize(),c=!1,f=0,g=r;s.fill(0);for(let m=r;m<u;m++)if(t.get(m)!==c)s[f]++;else{if(f===o-1){if(lt.patternMatchVariance(s,i,Pe.MAX_INDIVIDUAL_VARIANCE)<Pe.MAX_AVG_VARIANCE)return[g,m];g+=s[0]+s[1],V.arraycopy(s,2,s,0,f-1),s[f-1]=0,s[f]=0,f--}else f++;s[f]=1,c=!c}throw new F}static decodeDigit(t){let r=Pe.MAX_AVG_VARIANCE,i=-1,o=Pe.PATTERNS.length;for(let s=0;s<o;s++){let u=Pe.PATTERNS[s],c=lt.patternMatchVariance(t,u,Pe.MAX_INDIVIDUAL_VARIANCE);c<r?(r=c,i=s):c===r&&(i=-1)}if(i>=0)return i%10;throw new F}}Pe.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Pe.MAX_AVG_VARIANCE=.38,Pe.MAX_INDIVIDUAL_VARIANCE=.5,Pe.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Pe.START_PATTERN=Int32Array.from([1,1,1,1]),Pe.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class et extends lt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let r=!1,i,o=0,s=Int32Array.from([0,0,0]);for(;!r;){s=Int32Array.from([0,0,0]),i=et.findGuardPattern(t,o,!1,this.START_END_PATTERN,s);let u=i[0];o=i[1];let c=u-(o-u);c>=0&&(r=t.isRange(c,u,!1))}return i}static checkChecksum(t){return et.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let i=parseInt(t.charAt(r-1),10);return et.getStandardUPCEANChecksum(t.substring(0,r-1))===i}static getStandardUPCEANChecksum(t){let r=t.length,i=0;for(let o=r-1;o>=0;o-=2){let s=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new B;i+=s}i*=3;for(let o=r-2;o>=0;o-=2){let s=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new B;i+=s}return(1e3-i)%10}static decodeEnd(t,r){return et.findGuardPattern(t,r,!1,et.START_END_PATTERN,new Int32Array(et.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,r,i,o){return this.findGuardPattern(t,r,i,o,new Int32Array(o.length))}static findGuardPattern(t,r,i,o,s){let u=t.getSize();r=i?t.getNextUnset(r):t.getNextSet(r);let c=0,f=r,g=o.length,m=i;for(let y=r;y<u;y++)if(t.get(y)!==m)s[c]++;else{if(c===g-1){if(lt.patternMatchVariance(s,o,et.MAX_INDIVIDUAL_VARIANCE)<et.MAX_AVG_VARIANCE)return Int32Array.from([f,y]);f+=s[0]+s[1];let S=s.slice(2,s.length-1);for(let b=0;b<c-1;b++)s[b]=S[b];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,m=!m}throw new F}static decodeDigit(t,r,i,o){this.recordPattern(t,i,r);let s=this.MAX_AVG_VARIANCE,u=-1,c=o.length;for(let f=0;f<c;f++){let g=o[f],m=lt.patternMatchVariance(r,g,et.MAX_INDIVIDUAL_VARIANCE);m<s&&(s=m,u=f)}if(u>=0)return u;throw new F}}et.MAX_AVG_VARIANCE=.48,et.MAX_INDIVIDUAL_VARIANCE=.7,et.START_END_PATTERN=Int32Array.from([1,1,1]),et.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),et.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),et.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Vi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,i){let o=this.decodeRowStringBuffer,s=this.decodeMiddle(r,i,o),u=o.toString(),c=Vi.parseExtensionString(u),f=[new ae((i[0]+i[1])/2,t),new ae(s,t)],g=new Qe(u,null,0,f,oe.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&g.putAllMetadata(c),g}decodeMiddle(t,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let s=t.getSize(),u=r[1],c=0;for(let g=0;g<5&&u<s;g++){let m=et.decodeDigit(t,o,u,et.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+m%10);for(let y of o)u+=y;m>=10&&(c|=1<<4-g),g!==4&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(i.length!==5)throw new F;let f=this.determineCheckDigit(c);if(Vi.extensionChecksum(i.toString())!==f)throw new F;return u}static extensionChecksum(t){let r=t.length,i=0;for(let o=r-2;o>=0;o-=2)i+=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0);i*=3;for(let o=r-1;o>=0;o-=2)i+=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0);return i*=3,i%10}determineCheckDigit(t){for(let r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new F}static parseExtensionString(t){if(t.length!==5)return null;let r=Vi.parseExtension5String(t);return r==null?null:new Map([[pt.SUGGESTED_PRICE,r]])}static parseExtension5String(t){let r;switch(t.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let i=parseInt(t.substring(1)),o=(i/100).toString(),s=i%100,u=s<10?"0"+s:s.toString();return r+o+"."+u}}class Es{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,i){let o=this.decodeRowStringBuffer,s=this.decodeMiddle(r,i,o),u=o.toString(),c=Es.parseExtensionString(u),f=[new ae((i[0]+i[1])/2,t),new ae(s,t)],g=new Qe(u,null,0,f,oe.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&g.putAllMetadata(c),g}decodeMiddle(t,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let s=t.getSize(),u=r[1],c=0;for(let f=0;f<2&&u<s;f++){let g=et.decodeDigit(t,o,u,et.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+g%10);for(let m of o)u+=m;g>=10&&(c|=1<<1-f),f!==1&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(i.length!==2)throw new F;if(parseInt(i.toString())%4!==c)throw new F;return u}static parseExtensionString(t){return t.length!==2?null:new Map([[pt.ISSUE_NUMBER,parseInt(t)]])}}class ic{static decodeRow(t,r,i){let o=et.findGuardPattern(r,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Vi().decodeRow(t,r,o)}catch{return new Es().decodeRow(t,r,o)}}}ic.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Me extends et{constructor(){super(),this.decodeRowStringBuffer="",Me.L_AND_G_PATTERNS=Me.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let r=Me.L_PATTERNS[t-10],i=new Int32Array(r.length);for(let o=0;o<r.length;o++)i[o]=r[r.length-o-1];Me.L_AND_G_PATTERNS[t]=i}}decodeRow(t,r,i){let o=Me.findStartGuardPattern(r),s=i==null?null:i.get(K.NEED_RESULT_POINT_CALLBACK);if(s!=null){const Y=new ae((o[0]+o[1])/2,t);s.foundPossibleResultPoint(Y)}let u=this.decodeMiddle(r,o,this.decodeRowStringBuffer),c=u.rowOffset,f=u.resultString;if(s!=null){const Y=new ae(c,t);s.foundPossibleResultPoint(Y)}let g=this.decodeEnd(r,c);if(s!=null){const Y=new ae((g[0]+g[1])/2,t);s.foundPossibleResultPoint(Y)}let m=g[1],y=m+(m-g[0]);if(y>=r.getSize()||!r.isRange(m,y,!1))throw new F;let S=f.toString();if(S.length<8)throw new B;if(!Me.checkChecksum(S))throw new z;let b=(o[1]+o[0])/2,M=(g[1]+g[0])/2,_=this.getBarcodeFormat(),P=[new ae(b,t),new ae(M,t)],L=new Qe(S,null,0,P,_,new Date().getTime()),Z=0;try{let Y=ic.decodeRow(t,r,g[1]);L.putMetadata(pt.UPC_EAN_EXTENSION,Y.getText()),L.putAllMetadata(Y.getResultMetadata()),L.addResultPoints(Y.getResultPoints()),Z=Y.getText().length}catch{}let Q=i==null?null:i.get(K.ALLOWED_EAN_EXTENSIONS);if(Q!=null){let Y=!1;for(let ye in Q)if(Z.toString()===ye){Y=!0;break}if(!Y)throw new F}return L}decodeEnd(t,r){return Me.findGuardPattern(t,r,!1,Me.START_END_PATTERN,new Int32Array(Me.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return Me.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let i=parseInt(t.charAt(r-1),10);return Me.getStandardUPCEANChecksum(t.substring(0,r-1))===i}static getStandardUPCEANChecksum(t){let r=t.length,i=0;for(let o=r-1;o>=0;o-=2){let s=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new B;i+=s}i*=3;for(let o=r-2;o>=0;o-=2){let s=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(s<0||s>9)throw new B;i+=s}return(1e3-i)%10}}class kr extends Me{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let s=t.getSize(),u=r[1],c=0;for(let f=0;f<6&&u<s;f++){let g=Me.decodeDigit(t,o,u,Me.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+g%10);for(let m of o)u+=m;g>=10&&(c|=1<<5-f)}i=kr.determineFirstDigit(i,c),u=Me.findGuardPattern(t,u,!0,Me.MIDDLE_PATTERN,new Int32Array(Me.MIDDLE_PATTERN.length).fill(0))[1];for(let f=0;f<6&&u<s;f++){let g=Me.decodeDigit(t,o,u,Me.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+g);for(let m of o)u+=m}return{rowOffset:u,resultString:i}}getBarcodeFormat(){return oe.EAN_13}static determineFirstDigit(t,r){for(let i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode("0".charCodeAt(0)+i)+t,t;throw new F}}kr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ac extends Me{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,i){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let s=t.getSize(),u=r[1];for(let c=0;c<4&&u<s;c++){let f=Me.decodeDigit(t,o,u,Me.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+f);for(let g of o)u+=g}u=Me.findGuardPattern(t,u,!0,Me.MIDDLE_PATTERN,new Int32Array(Me.MIDDLE_PATTERN.length).fill(0))[1];for(let c=0;c<4&&u<s;c++){let f=Me.decodeDigit(t,o,u,Me.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+f);for(let g of o)u+=g}return{rowOffset:u,resultString:i}}getBarcodeFormat(){return oe.EAN_8}}class oc extends Me{constructor(){super(...arguments),this.ean13Reader=new kr}getBarcodeFormat(){return oe.UPC_A}decode(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,i))}decodeMiddle(t,r,i){return this.ean13Reader.decodeMiddle(t,r,i)}maybeReturnResult(t){let r=t.getText();if(r.charAt(0)==="0"){let i=new Qe(r.substring(1),null,null,t.getResultPoints(),oe.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new F}reset(){this.ean13Reader.reset()}}class An extends Me{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,r,i){const o=this.decodeMiddleCounters.map(g=>g);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const s=t.getSize();let u=r[1],c=0;for(let g=0;g<6&&u<s;g++){const m=An.decodeDigit(t,o,u,An.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+m%10);for(let y of o)u+=y;m>=10&&(c|=1<<5-g)}let f=An.determineNumSysAndCheckDigit(i,c);return{rowOffset:u,resultString:f}}decodeEnd(t,r){return An.findGuardPatternWithoutCounters(t,r,!0,An.MIDDLE_END_PATTERN)}checkChecksum(t){return Me.checkChecksum(An.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,r){for(let i=0;i<=1;i++)for(let o=0;o<10;o++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){let s=String.fromCharCode("0".charCodeAt(0)+i),u=String.fromCharCode("0".charCodeAt(0)+o);return s+t+u}throw F.getNotFoundInstance()}getBarcodeFormat(){return oe.UPC_E}static convertUPCEtoUPCA(t){const r=t.slice(1,7).split("").map(s=>s.charCodeAt(0)),i=new Se;i.append(t.charAt(0));let o=r[5];switch(o){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(o),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(o);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()}}An.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),An.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ys extends lt{constructor(t){super();let r=t==null?null:t.get(K.POSSIBLE_FORMATS),i=[];l(r)?(i.push(new kr),i.push(new oc),i.push(new ac),i.push(new An)):(r.indexOf(oe.EAN_13)>-1&&i.push(new kr),r.indexOf(oe.UPC_A)>-1&&i.push(new oc),r.indexOf(oe.EAN_8)>-1&&i.push(new ac),r.indexOf(oe.UPC_E)>-1&&i.push(new An)),this.readers=i}decodeRow(t,r,i){for(let o of this.readers)try{const s=o.decodeRow(t,r,i),u=s.getBarcodeFormat()===oe.EAN_13&&s.getText().charAt(0)==="0",c=i==null?null:i.get(K.POSSIBLE_FORMATS),f=c==null||c.includes(oe.UPC_A);if(u&&f){const g=s.getRawBytes(),m=new Qe(s.getText().substring(1),g,g?g.length:null,s.getResultPoints(),oe.UPC_A);return m.putAllMetadata(s.getResultMetadata()),m}return s}catch{}throw new F}reset(){for(let t of this.readers)t.reset()}}class Nt extends lt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,r){for(let i=0;i<r.length;i++)if(lt.patternMatchVariance(t,r[i],Nt.MAX_INDIVIDUAL_VARIANCE)<Nt.MAX_AVG_VARIANCE)return i;throw new F}static count(t){return be.sum(new Int32Array(t))}static increment(t,r){let i=0,o=r[0];for(let s=1;s<t.length;s++)r[s]>o&&(o=r[s],i=s);t[i]++}static decrement(t,r){let i=0,o=r[0];for(let s=1;s<t.length;s++)r[s]<o&&(o=r[s],i=s);t[i]--}static isFinderPattern(t){let r=t[0]+t[1],i=r+t[2]+t[3],o=r/i;if(o>=Nt.MIN_FINDER_PATTERN_RATIO&&o<=Nt.MAX_FINDER_PATTERN_RATIO){let s=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let c of t)c>u&&(u=c),c<s&&(s=c);return u<10*s}return!1}}Nt.MAX_AVG_VARIANCE=.2,Nt.MAX_INDIVIDUAL_VARIANCE=.45,Nt.MIN_FINDER_PATTERN_RATIO=9.5/12,Nt.MAX_FINDER_PATTERN_RATIO=12.5/14;class ei{constructor(t,r){this.value=t,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof ei))return!1;const r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ya{constructor(t,r,i,o,s){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new ae(i,s)),this.resultPoints.push(new ae(o,s))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof Ya))return!1;const r=t;return this.value===r.value}hashCode(){return this.value}}class On{constructor(){}static getRSSvalue(t,r,i){let o=0;for(let f of t)o+=f;let s=0,u=0,c=t.length;for(let f=0;f<c-1;f++){let g;for(g=1,u|=1<<f;g<t[f];g++,u&=~(1<<f)){let m=On.combins(o-g-1,c-f-2);if(i&&u===0&&o-g-(c-f-1)>=c-f-1&&(m-=On.combins(o-g-(c-f),c-f-2)),c-f-1>1){let y=0;for(let S=o-g-(c-f-2);S>r;S--)y+=On.combins(o-g-S-1,c-f-3);m-=y*(c-1-f)}else o-g>r&&m--;s+=m}o-=g}return s}static combins(t,r){let i,o;t-r>r?(o=r,i=t-r):(o=t-r,i=r);let s=1,u=1;for(let c=t;c>i;c--)s*=c,u<=o&&(s/=u,u++);for(;u<=o;)s/=u,u++;return s}}class m0{static buildBitArray(t){let r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);let i=12*r,o=new U(i),s=0,u=t[0].getRightChar().getValue();for(let c=11;c>=0;--c)u&1<<c&&o.set(s),s++;for(let c=1;c<t.length;++c){let f=t[c],g=f.getLeftChar().getValue();for(let m=11;m>=0;--m)g&1<<m&&o.set(s),s++;if(f.getRightChar()!=null){let m=f.getRightChar().getValue();for(let y=11;y>=0;--y)m&1<<y&&o.set(s),s++}}return o}}class Pr{constructor(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class As{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class zt extends As{constructor(t,r){super(t),this.value=r}getValue(){return this.value}isFNC1(){return this.value===zt.FNC1}}zt.FNC1="$";class xr extends As{constructor(t,r,i){super(t),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class ln extends As{constructor(t,r,i){if(super(t),r<0||r>10||i<0||i>10)throw new B;this.firstDigit=r,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===ln.FNC1}isSecondDigitFNC1(){return this.secondDigit===ln.FNC1}isAnyFNC1(){return this.firstDigit===ln.FNC1||this.secondDigit===ln.FNC1}}ln.FNC1=10;class ne{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new F;let r=t.substring(0,2);for(let s of ne.TWO_DIGIT_DATA_LENGTH)if(s[0]===r)return s[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(2,s[2],t):ne.processFixedAI(2,s[1],t);if(t.length<3)throw new F;let i=t.substring(0,3);for(let s of ne.THREE_DIGIT_DATA_LENGTH)if(s[0]===i)return s[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(3,s[2],t):ne.processFixedAI(3,s[1],t);for(let s of ne.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(s[0]===i)return s[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(4,s[2],t):ne.processFixedAI(4,s[1],t);if(t.length<4)throw new F;let o=t.substring(0,4);for(let s of ne.FOUR_DIGIT_DATA_LENGTH)if(s[0]===o)return s[1]===ne.VARIABLE_LENGTH?ne.processVariableAI(4,s[2],t):ne.processFixedAI(4,s[1],t);throw new F}static processFixedAI(t,r,i){if(i.length<t)throw new F;let o=i.substring(0,t);if(i.length<t+r)throw new F;let s=i.substring(t,t+r),u=i.substring(t+r),c="("+o+")"+s,f=ne.parseFieldsInGeneralPurpose(u);return f==null?c:c+f}static processVariableAI(t,r,i){let o=i.substring(0,t),s;i.length<t+r?s=i.length:s=t+r;let u=i.substring(t,s),c=i.substring(s),f="("+o+")"+u,g=ne.parseFieldsInGeneralPurpose(c);return g==null?f:f+g}}ne.VARIABLE_LENGTH=[],ne.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ne.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ne.VARIABLE_LENGTH,20],["22",ne.VARIABLE_LENGTH,29],["30",ne.VARIABLE_LENGTH,8],["37",ne.VARIABLE_LENGTH,8],["90",ne.VARIABLE_LENGTH,30],["91",ne.VARIABLE_LENGTH,30],["92",ne.VARIABLE_LENGTH,30],["93",ne.VARIABLE_LENGTH,30],["94",ne.VARIABLE_LENGTH,30],["95",ne.VARIABLE_LENGTH,30],["96",ne.VARIABLE_LENGTH,30],["97",ne.VARIABLE_LENGTH,3],["98",ne.VARIABLE_LENGTH,30],["99",ne.VARIABLE_LENGTH,30]],ne.THREE_DIGIT_DATA_LENGTH=[["240",ne.VARIABLE_LENGTH,30],["241",ne.VARIABLE_LENGTH,30],["242",ne.VARIABLE_LENGTH,6],["250",ne.VARIABLE_LENGTH,30],["251",ne.VARIABLE_LENGTH,30],["253",ne.VARIABLE_LENGTH,17],["254",ne.VARIABLE_LENGTH,20],["400",ne.VARIABLE_LENGTH,30],["401",ne.VARIABLE_LENGTH,30],["402",17],["403",ne.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ne.VARIABLE_LENGTH,20],["421",ne.VARIABLE_LENGTH,15],["422",3],["423",ne.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ne.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ne.VARIABLE_LENGTH,15],["391",ne.VARIABLE_LENGTH,18],["392",ne.VARIABLE_LENGTH,15],["393",ne.VARIABLE_LENGTH,18],["703",ne.VARIABLE_LENGTH,30]],ne.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ne.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ne.VARIABLE_LENGTH,20],["8003",ne.VARIABLE_LENGTH,30],["8004",ne.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ne.VARIABLE_LENGTH,30],["8008",ne.VARIABLE_LENGTH,12],["8018",18],["8020",ne.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ne.VARIABLE_LENGTH,70],["8200",ne.VARIABLE_LENGTH,70]];class ti{constructor(t){this.buffer=new Se,this.information=t}decodeAllCodes(t,r){let i=r,o=null;do{let s=this.decodeGeneralPurposeField(i,o),u=ne.parseFieldsInGeneralPurpose(s.getNewString());if(u!=null&&t.append(u),s.isRemaining()?o=""+s.getRemainingValue():o=null,i===s.getNewPosition())break;i=s.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let s=this.extractNumericValueFromBitArray(t,4);return s===0?new ln(this.information.getSize(),ln.FNC1,ln.FNC1):new ln(this.information.getSize(),s-1,ln.FNC1)}let r=this.extractNumericValueFromBitArray(t,7),i=(r-8)/11,o=(r-8)%11;return new ln(t+7,i,o)}extractNumericValueFromBitArray(t,r){return ti.extractNumericValueFromBitArray(this.information,t,r)}static extractNumericValueFromBitArray(t,r,i){let o=0;for(let s=0;s<i;++s)t.get(r+s)&&(o|=1<<i-s-1);return o}decodeGeneralPurposeField(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new xr(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new xr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,r;do{let i=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished()),i===this.current.getPosition()&&!t)break}while(!t);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let r;return t.isSecondDigitFNC1()?r=new xr(this.current.getPosition(),this.buffer.toString()):r=new xr(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Pr(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let r=new xr(this.current.getPosition(),this.buffer.toString());return new Pr(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Pr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new xr(this.current.getPosition(),this.buffer.toString());return new Pr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Pr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new xr(this.current.getPosition(),this.buffer.toString());return new Pr(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Pr(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<116)return!0;if(t+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,8);return o>=232&&o<253}decodeIsoIec646(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new zt(t+5,zt.FNC1);if(r>=5&&r<15)return new zt(t+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<90)return new zt(t+7,""+(i+1));if(i>=90&&i<116)return new zt(t+7,""+(i+7));let o=this.extractNumericValueFromBitArray(t,8),s;switch(o){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new B}return new zt(t+8,s)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,6);return i>=16&&i<63}decodeAlphanumeric(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new zt(t+5,zt.FNC1);if(r>=5&&r<15)return new zt(t+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(t,6);if(i>=32&&i<58)return new zt(t+6,""+(i+33));let o;switch(i){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new _n("Decoding invalid alphanumeric value: "+i)}return new zt(t+6,o)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0}}class Ss{constructor(t){this.information=t,this.generalDecoder=new ti(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Ht extends Ss{constructor(t){super(t)}encodeCompressedGtin(t,r){t.append("(01)");let i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,i)}encodeCompressedGtinWithoutAI(t,r,i){for(let o=0;o<4;++o){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*o,10);s/100===0&&t.append("0"),s/10===0&&t.append("0"),t.append(s)}Ht.appendCheckDigit(t,i)}static appendCheckDigit(t,r){let i=0;for(let o=0;o<13;o++){let s=t.charAt(o+r).charCodeAt(0)-"0".charCodeAt(0);i+=o&1?s:3*s}i=10-i%10,i===10&&(i=0),t.append(i)}}Ht.GTIN_SIZE=40;class ni extends Ht{constructor(t){super(t)}parseInformation(){let t=new Se;t.append("(01)");let r=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(ni.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,ni.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,ni.HEADER_SIZE+44)}}ni.HEADER_SIZE=1+1+2;class Ga extends Ss{constructor(t){super(t)}parseInformation(){let t=new Se;return this.getGeneralDecoder().decodeAllCodes(t,Ga.HEADER_SIZE)}}Ga.HEADER_SIZE=2+1+2;class Xa extends Ht{constructor(t){super(t)}encodeCompressedWeight(t,r,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(t,o);let s=this.checkWeight(o),u=1e5;for(let c=0;c<5;++c)s/u===0&&t.append("0"),u/=10;t.append(s)}}class kn extends Xa{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=kn.HEADER_SIZE+Xa.GTIN_SIZE+kn.WEIGHT_SIZE)throw new F;let t=new Se;return this.encodeCompressedGtin(t,kn.HEADER_SIZE),this.encodeCompressedWeight(t,kn.HEADER_SIZE+Xa.GTIN_SIZE,kn.WEIGHT_SIZE),t.toString()}}kn.HEADER_SIZE=4+1,kn.WEIGHT_SIZE=15;class w0 extends kn{constructor(t){super(t)}addWeightCode(t,r){t.append("(3103)")}checkWeight(t){return t}}class C0 extends kn{constructor(t){super(t)}addWeightCode(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Pn extends Ht{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Pn.HEADER_SIZE+Ht.GTIN_SIZE)throw new F;let t=new Se;this.encodeCompressedGtin(t,Pn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Pn.HEADER_SIZE+Ht.GTIN_SIZE,Pn.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(Pn.HEADER_SIZE+Ht.GTIN_SIZE+Pn.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()}}Pn.HEADER_SIZE=5+1+2,Pn.LAST_DIGIT_SIZE=2;class Pt extends Ht{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Pt.HEADER_SIZE+Ht.GTIN_SIZE)throw new F;let t=new Se;this.encodeCompressedGtin(t,Pt.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Pt.HEADER_SIZE+Ht.GTIN_SIZE,Pt.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Pt.HEADER_SIZE+Ht.GTIN_SIZE+Pt.LAST_DIGIT_SIZE,Pt.FIRST_THREE_DIGITS_SIZE);i/100==0&&t.append("0"),i/10==0&&t.append("0"),t.append(i);let o=this.getGeneralDecoder().decodeGeneralPurposeField(Pt.HEADER_SIZE+Ht.GTIN_SIZE+Pt.LAST_DIGIT_SIZE+Pt.FIRST_THREE_DIGITS_SIZE,null);return t.append(o.getNewString()),t.toString()}}Pt.HEADER_SIZE=5+1+2,Pt.LAST_DIGIT_SIZE=2,Pt.FIRST_THREE_DIGITS_SIZE=10;class Ge extends Xa{constructor(t,r,i){super(t),this.dateCode=i,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=Ge.HEADER_SIZE+Ge.GTIN_SIZE+Ge.WEIGHT_SIZE+Ge.DATE_SIZE)throw new F;let t=new Se;return this.encodeCompressedGtin(t,Ge.HEADER_SIZE),this.encodeCompressedWeight(t,Ge.HEADER_SIZE+Ge.GTIN_SIZE,Ge.WEIGHT_SIZE),this.encodeCompressedDate(t,Ge.HEADER_SIZE+Ge.GTIN_SIZE+Ge.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,r){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,Ge.DATE_SIZE);if(i==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let o=i%32;i/=32;let s=i%12+1;i/=12;let u=i;u/10==0&&t.append("0"),t.append(u),s/10==0&&t.append("0"),t.append(s),o/10==0&&t.append("0"),t.append(o)}addWeightCode(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")}checkWeight(t){return t%1e5}}Ge.HEADER_SIZE=7+1,Ge.WEIGHT_SIZE=20,Ge.DATE_SIZE=16;function sc(C){try{if(C.get(1))return new ni(C);if(!C.get(2))return new Ga(C);switch(ti.extractNumericValueFromBitArray(C,1,4)){case 4:return new w0(C);case 5:return new C0(C)}switch(ti.extractNumericValueFromBitArray(C,1,5)){case 12:return new Pn(C);case 13:return new Pt(C)}switch(ti.extractNumericValueFromBitArray(C,1,7)){case 56:return new Ge(C,"310","11");case 57:return new Ge(C,"320","11");case 58:return new Ge(C,"310","13");case 59:return new Ge(C,"320","13");case 60:return new Ge(C,"310","15");case 61:return new Ge(C,"320","15");case 62:return new Ge(C,"310","17");case 63:return new Ge(C,"320","17")}}catch(t){throw console.log(t),new _n("unknown decoder: "+C)}}class ir{constructor(t,r,i,o){this.leftchar=t,this.rightchar=r,this.finderpattern=i,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,r){return t instanceof ir?ir.equalsOrNull(t.leftchar,r.leftchar)&&ir.equalsOrNull(t.rightchar,r.rightchar)&&ir.equalsOrNull(t.finderpattern,r.finderpattern):!1}static equalsOrNull(t,r){return t===null?r===null:ir.equals(t,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Is{constructor(t,r,i){this.pairs=t,this.rowNumber=r,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,r){return t instanceof Is?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1}checkEqualitity(t,r){if(!t||!r)return;let i;return t.forEach((o,s)=>{r.forEach(u=>{o.getLeftChar().getValue()===u.getLeftChar().getValue()&&o.getRightChar().getValue()===u.getRightChar().getValue()&&o.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(i=!0)})}),i}}class W extends Nt{constructor(t){super(...arguments),this.pairs=new Array(W.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,r,i){this.pairs.length=0,this.startFromEven=!1;try{return W.constructResult(this.decodeRow2pairs(t,r))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,W.constructResult(this.decodeRow2pairs(t,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,r){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(s){if(s instanceof F){if(!this.pairs.length)throw new F;i=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(t,!1),o){let s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new F}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return t&&(this.rows=this.rows.reverse()),r}checkRows(t,r){for(let i=r;i<this.rows.length;i++){let o=this.rows[i];this.pairs.length=0;for(let u of t)this.pairs.push(u.getPairs());if(this.pairs.push(o.getPairs()),!W.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let s=new Array(t);s.push(o);try{return this.checkRows(s,i+1)}catch(u){this.verbose&&console.log(u)}}throw new F}static isValidSequence(t){for(let r of W.FINDER_PATTERN_SEQUENCES){if(t.length>r.length)continue;let i=!0;for(let o=0;o<t.length;o++)if(t[o].getFinderPattern().getValue()!=r[o]){i=!1;break}if(i)return!0}return!1}storeRow(t,r){let i=0,o=!1,s=!1;for(;i<this.rows.length;){let u=this.rows[i];if(u.getRowNumber()>t){s=u.isEquivalent(this.pairs);break}o=u.isEquivalent(this.pairs),i++}s||o||W.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Is(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,r){for(let i of r)if(i.getPairs().length!==t.length){for(let o of i.getPairs())for(let s of t)if(ir.equals(o,s))break}}static isPartialRow(t,r){for(let i of r){let o=!0;for(let s of t){let u=!1;for(let c of i.getPairs())if(s.equals(c)){u=!0;break}if(!u){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(t){let r=m0.buildBitArray(t),i=sc(r).parseInformation(),o=t[0].getFinderPattern().getResultPoints(),s=t[t.length-1].getFinderPattern().getResultPoints(),u=[o[0],o[1],s[0],s[1]];return new Qe(i,null,null,u,oe.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),r=t.getLeftChar(),i=t.getRightChar();if(i==null)return!1;let o=i.getChecksumPortion(),s=2;for(let u=1;u<this.pairs.size();++u){let c=this.pairs.get(u);o+=c.getLeftChar().getChecksumPortion(),s++;let f=c.getRightChar();f!=null&&(o+=f.getChecksumPortion(),s++)}return o%=211,211*(s-4)+o==r.getValue()}static getNextSecondBar(t,r){let i;return t.get(r)?(i=t.getNextUnset(r),i=t.getNextSet(i)):(i=t.getNextSet(r),i=t.getNextUnset(i)),i}retrieveNextPair(t,r,i){let o=r.length%2==0;this.startFromEven&&(o=!o);let s,u=!0,c=-1;do this.findNextPair(t,r,c),s=this.parseFoundFinderPattern(t,i,o),s==null?c=W.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);let f=this.decodeDataCharacter(t,s,o,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new F;let g;try{g=this.decodeDataCharacter(t,s,o,!1)}catch(m){g=null,this.verbose&&console.log(m)}return new ir(f,g,s,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,r,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let s=t.getSize(),u;i>=0?u=i:this.isEmptyPair(r)?u=0:u=r[r.length-1].getFinderPattern().getStartEnd()[1];let c=r.length%2!=0;this.startFromEven&&(c=!c);let f=!1;for(;u<s&&(f=!t.get(u),!!f);)u++;let g=0,m=u;for(let y=u;y<s;y++)if(t.get(y)!=f)o[g]++;else{if(g==3){if(c&&W.reverseCounters(o),W.isFinderPattern(o)){this.startEnd[0]=m,this.startEnd[1]=y;return}c&&W.reverseCounters(o),m+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,g--}else g++;o[g]=1,f=!f}throw new F}static reverseCounters(t){let r=t.length;for(let i=0;i<r/2;++i){let o=t[i];t[i]=t[r-i-1],t[r-i-1]=o}}parseFoundFinderPattern(t,r,i){let o,s,u;if(i){let g=this.startEnd[0]-1;for(;g>=0&&!t.get(g);)g--;g++,o=this.startEnd[0]-g,s=g,u=this.startEnd[1]}else s=this.startEnd[0],u=t.getNextUnset(this.startEnd[1]+1),o=u-this.startEnd[1];let c=this.getDecodeFinderCounters();V.arraycopy(c,0,c,1,c.length-1),c[0]=o;let f;try{f=this.parseFinderValue(c,W.FINDER_PATTERNS)}catch{return null}return new Ya(f,[s,u],s,u,r)}decodeDataCharacter(t,r,i,o){let s=this.getDataCharacterCounters();for(let Le=0;Le<s.length;Le++)s[Le]=0;if(o)W.recordPatternInReverse(t,r.getStartEnd()[0],s);else{W.recordPattern(t,r.getStartEnd()[1],s);for(let Le=0,It=s.length-1;Le<It;Le++,It--){let Kt=s[Le];s[Le]=s[It],s[It]=Kt}}let u=17,c=be.sum(new Int32Array(s))/u,f=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(c-f)/f>.3)throw new F;let g=this.getOddCounts(),m=this.getEvenCounts(),y=this.getOddRoundingErrors(),S=this.getEvenRoundingErrors();for(let Le=0;Le<s.length;Le++){let It=1*s[Le]/c,Kt=It+.5;if(Kt<1){if(It<.3)throw new F;Kt=1}else if(Kt>8){if(It>8.7)throw new F;Kt=8}let si=Le/2;Le&1?(m[si]=Kt,S[si]=It-Kt):(g[si]=Kt,y[si]=It-Kt)}this.adjustOddEvenCounts(u);let b=4*r.getValue()+(i?0:2)+(o?0:1)-1,M=0,_=0;for(let Le=g.length-1;Le>=0;Le--){if(W.isNotA1left(r,i,o)){let It=W.WEIGHTS[b][2*Le];_+=g[Le]*It}M+=g[Le]}let P=0;for(let Le=m.length-1;Le>=0;Le--)if(W.isNotA1left(r,i,o)){let It=W.WEIGHTS[b][2*Le+1];P+=m[Le]*It}let L=_+P;if(M&1||M>13||M<4)throw new F;let Z=(13-M)/2,Q=W.SYMBOL_WIDEST[Z],Y=9-Q,ye=On.getRSSvalue(g,Q,!0),me=On.getRSSvalue(m,Y,!1),jt=W.EVEN_TOTAL_SUBSET[Z],Sn=W.GSUM[Z],Wt=ye*jt+me+Sn;return new ei(Wt,L)}static isNotA1left(t,r,i){return!(t.getValue()==0&&r&&i)}adjustOddEvenCounts(t){let r=be.sum(new Int32Array(this.getOddCounts())),i=be.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1;r>13?s=!0:r<4&&(o=!0);let u=!1,c=!1;i>13?c=!0:i<4&&(u=!0);let f=r+i-t,g=(r&1)==1,m=(i&1)==0;if(f==1)if(g){if(m)throw new F;s=!0}else{if(!m)throw new F;c=!0}else if(f==-1)if(g){if(m)throw new F;o=!0}else{if(!m)throw new F;u=!0}else if(f==0){if(g){if(!m)throw new F;r<i?(o=!0,c=!0):(s=!0,u=!0)}else if(m)throw new F}else throw new F;if(o){if(s)throw new F;W.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&W.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(c)throw new F;W.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&W.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}W.SYMBOL_WIDEST=[7,5,4,3,1],W.EVEN_TOTAL_SUBSET=[4,20,52,104,204],W.GSUM=[0,348,1388,2948,3988],W.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],W.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],W.FINDER_PAT_A=0,W.FINDER_PAT_B=1,W.FINDER_PAT_C=2,W.FINDER_PAT_D=3,W.FINDER_PAT_E=4,W.FINDER_PAT_F=5,W.FINDER_PATTERN_SEQUENCES=[[W.FINDER_PAT_A,W.FINDER_PAT_A],[W.FINDER_PAT_A,W.FINDER_PAT_B,W.FINDER_PAT_B],[W.FINDER_PAT_A,W.FINDER_PAT_C,W.FINDER_PAT_B,W.FINDER_PAT_D],[W.FINDER_PAT_A,W.FINDER_PAT_E,W.FINDER_PAT_B,W.FINDER_PAT_D,W.FINDER_PAT_C],[W.FINDER_PAT_A,W.FINDER_PAT_E,W.FINDER_PAT_B,W.FINDER_PAT_D,W.FINDER_PAT_D,W.FINDER_PAT_F],[W.FINDER_PAT_A,W.FINDER_PAT_E,W.FINDER_PAT_B,W.FINDER_PAT_D,W.FINDER_PAT_E,W.FINDER_PAT_F,W.FINDER_PAT_F],[W.FINDER_PAT_A,W.FINDER_PAT_A,W.FINDER_PAT_B,W.FINDER_PAT_B,W.FINDER_PAT_C,W.FINDER_PAT_C,W.FINDER_PAT_D,W.FINDER_PAT_D],[W.FINDER_PAT_A,W.FINDER_PAT_A,W.FINDER_PAT_B,W.FINDER_PAT_B,W.FINDER_PAT_C,W.FINDER_PAT_C,W.FINDER_PAT_D,W.FINDER_PAT_E,W.FINDER_PAT_E],[W.FINDER_PAT_A,W.FINDER_PAT_A,W.FINDER_PAT_B,W.FINDER_PAT_B,W.FINDER_PAT_C,W.FINDER_PAT_C,W.FINDER_PAT_D,W.FINDER_PAT_E,W.FINDER_PAT_F,W.FINDER_PAT_F],[W.FINDER_PAT_A,W.FINDER_PAT_A,W.FINDER_PAT_B,W.FINDER_PAT_B,W.FINDER_PAT_C,W.FINDER_PAT_D,W.FINDER_PAT_D,W.FINDER_PAT_E,W.FINDER_PAT_E,W.FINDER_PAT_F,W.FINDER_PAT_F]],W.MAX_PAIRS=11;class E0 extends ei{constructor(t,r,i){super(t,r),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class tt extends Nt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,r,i){const o=this.decodePair(r,!1,t,i);tt.addOrTally(this.possibleLeftPairs,o),r.reverse();let s=this.decodePair(r,!0,t,i);tt.addOrTally(this.possibleRightPairs,s),r.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let c of this.possibleRightPairs)if(c.getCount()>1&&tt.checkChecksum(u,c))return tt.constructResult(u,c)}throw new F}static addOrTally(t,r){if(r==null)return;let i=!1;for(let o of t)if(o.getValue()===r.getValue()){o.incrementCount(),i=!0;break}i||t.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,r){let i=4537077*t.getValue()+r.getValue(),o=new String(i).toString(),s=new Se;for(let g=13-o.length;g>0;g--)s.append("0");s.append(o);let u=0;for(let g=0;g<13;g++){let m=s.charAt(g).charCodeAt(0)-"0".charCodeAt(0);u+=g&1?m:3*m}u=10-u%10,u===10&&(u=0),s.append(u.toString());let c=t.getFinderPattern().getResultPoints(),f=r.getFinderPattern().getResultPoints();return new Qe(s.toString(),null,0,[c[0],c[1],f[0],f[1]],oe.RSS_14,new Date().getTime())}static checkChecksum(t,r){let i=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,o=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o}decodePair(t,r,i,o){try{let s=this.findFinderPattern(t,r),u=this.parseFoundFinderPattern(t,i,r,s),c=o==null?null:o.get(K.NEED_RESULT_POINT_CALLBACK);if(c!=null){let m=(s[0]+s[1])/2;r&&(m=t.getSize()-1-m),c.foundPossibleResultPoint(new ae(m,i))}let f=this.decodeDataCharacter(t,u,!0),g=this.decodeDataCharacter(t,u,!1);return new E0(1597*f.getValue()+g.getValue(),f.getChecksumPortion()+4*g.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(t,r,i){let o=this.getDataCharacterCounters();for(let P=0;P<o.length;P++)o[P]=0;if(i)lt.recordPatternInReverse(t,r.getStartEnd()[0],o);else{lt.recordPattern(t,r.getStartEnd()[1]+1,o);for(let P=0,L=o.length-1;P<L;P++,L--){let Z=o[P];o[P]=o[L],o[L]=Z}}let s=i?16:15,u=be.sum(new Int32Array(o))/s,c=this.getOddCounts(),f=this.getEvenCounts(),g=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors();for(let P=0;P<o.length;P++){let L=o[P]/u,Z=Math.floor(L+.5);Z<1?Z=1:Z>8&&(Z=8);let Q=Math.floor(P/2);P&1?(f[Q]=Z,m[Q]=L-Z):(c[Q]=Z,g[Q]=L-Z)}this.adjustOddEvenCounts(i,s);let y=0,S=0;for(let P=c.length-1;P>=0;P--)S*=9,S+=c[P],y+=c[P];let b=0,M=0;for(let P=f.length-1;P>=0;P--)b*=9,b+=f[P],M+=f[P];let _=S+3*b;if(i){if(y&1||y>12||y<4)throw new F;let P=(12-y)/2,L=tt.OUTSIDE_ODD_WIDEST[P],Z=9-L,Q=On.getRSSvalue(c,L,!1),Y=On.getRSSvalue(f,Z,!0),ye=tt.OUTSIDE_EVEN_TOTAL_SUBSET[P],me=tt.OUTSIDE_GSUM[P];return new ei(Q*ye+Y+me,_)}else{if(M&1||M>10||M<4)throw new F;let P=(10-M)/2,L=tt.INSIDE_ODD_WIDEST[P],Z=9-L,Q=On.getRSSvalue(c,L,!0),Y=On.getRSSvalue(f,Z,!1),ye=tt.INSIDE_ODD_TOTAL_SUBSET[P],me=tt.INSIDE_GSUM[P];return new ei(Y*ye+Q+me,_)}}findFinderPattern(t,r){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=t.getSize(),s=!1,u=0;for(;u<o&&(s=!t.get(u),r!==s);)u++;let c=0,f=u;for(let g=u;g<o;g++)if(t.get(g)!==s)i[c]++;else{if(c===3){if(Nt.isFinderPattern(i))return[f,g];f+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,s=!s}throw new F}parseFoundFinderPattern(t,r,i,o){let s=t.get(o[0]),u=o[0]-1;for(;u>=0&&s!==t.get(u);)u--;u++;const c=o[0]-u,f=this.getDecodeFinderCounters(),g=new Int32Array(f.length);V.arraycopy(f,0,g,1,f.length-1),g[0]=c;const m=this.parseFinderValue(g,tt.FINDER_PATTERNS);let y=u,S=o[1];return i&&(y=t.getSize()-1-y,S=t.getSize()-1-S),new Ya(m,[u,o[1]],y,S,r)}adjustOddEvenCounts(t,r){let i=be.sum(new Int32Array(this.getOddCounts())),o=be.sum(new Int32Array(this.getEvenCounts())),s=!1,u=!1,c=!1,f=!1;t?(i>12?u=!0:i<4&&(s=!0),o>12?f=!0:o<4&&(c=!0)):(i>11?u=!0:i<5&&(s=!0),o>10?f=!0:o<4&&(c=!0));let g=i+o-r,m=(i&1)===(t?1:0),y=(o&1)===1;if(g===1)if(m){if(y)throw new F;u=!0}else{if(!y)throw new F;f=!0}else if(g===-1)if(m){if(y)throw new F;s=!0}else{if(!y)throw new F;c=!0}else if(g===0){if(m){if(!y)throw new F;i<o?(s=!0,f=!0):(u=!0,c=!0)}else if(y)throw new F}else throw new F;if(s){if(u)throw new F;Nt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Nt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(f)throw new F;Nt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&Nt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}tt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],tt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],tt.OUTSIDE_GSUM=[0,161,961,2015,2715],tt.INSIDE_GSUM=[0,336,1036,1516],tt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],tt.INSIDE_ODD_WIDEST=[2,4,6,8],tt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ri extends lt{constructor(t,r){super(),this.readers=[],this.verbose=r===!0;const i=t?t.get(K.POSSIBLE_FORMATS):null,o=t&&t.get(K.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(oe.EAN_13)||i.includes(oe.UPC_A)||i.includes(oe.EAN_8)||i.includes(oe.UPC_E))&&this.readers.push(new ys(t)),i.includes(oe.CODE_39)&&this.readers.push(new ct(o)),i.includes(oe.CODE_128)&&this.readers.push(new J),i.includes(oe.ITF)&&this.readers.push(new Pe),i.includes(oe.RSS_14)&&this.readers.push(new tt),i.includes(oe.RSS_EXPANDED)&&this.readers.push(new W(this.verbose))):(this.readers.push(new ys(t)),this.readers.push(new ct),this.readers.push(new ys(t)),this.readers.push(new J),this.readers.push(new Pe),this.readers.push(new tt),this.readers.push(new W(this.verbose)))}decodeRow(t,r,i){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(t,r,i)}catch{}throw new F}reset(){this.readers.forEach(t=>t.reset())}}class y0 extends sn{constructor(t=500,r){super(new ri(r),t,r)}}class De{constructor(t,r,i){this.ecCodewords=t,this.ecBlocks=[r],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Re{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ae{constructor(t,r,i,o,s,u){this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=i,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=s,this.ecBlocks=u;let c=0;const f=u.getECCodewords(),g=u.getECBlocks();for(let m of g)c+=m.getCount()*(m.getDataCodewords()+f);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,r){if(t&1||r&1)throw new B;for(let i of Ae.VERSIONS)if(i.symbolSizeRows===t&&i.symbolSizeColumns===r)return i;throw new B}toString(){return""+this.versionNumber}static buildVersions(){return[new Ae(1,10,10,8,8,new De(5,new Re(1,3))),new Ae(2,12,12,10,10,new De(7,new Re(1,5))),new Ae(3,14,14,12,12,new De(10,new Re(1,8))),new Ae(4,16,16,14,14,new De(12,new Re(1,12))),new Ae(5,18,18,16,16,new De(14,new Re(1,18))),new Ae(6,20,20,18,18,new De(18,new Re(1,22))),new Ae(7,22,22,20,20,new De(20,new Re(1,30))),new Ae(8,24,24,22,22,new De(24,new Re(1,36))),new Ae(9,26,26,24,24,new De(28,new Re(1,44))),new Ae(10,32,32,14,14,new De(36,new Re(1,62))),new Ae(11,36,36,16,16,new De(42,new Re(1,86))),new Ae(12,40,40,18,18,new De(48,new Re(1,114))),new Ae(13,44,44,20,20,new De(56,new Re(1,144))),new Ae(14,48,48,22,22,new De(68,new Re(1,174))),new Ae(15,52,52,24,24,new De(42,new Re(2,102))),new Ae(16,64,64,14,14,new De(56,new Re(2,140))),new Ae(17,72,72,16,16,new De(36,new Re(4,92))),new Ae(18,80,80,18,18,new De(48,new Re(4,114))),new Ae(19,88,88,20,20,new De(56,new Re(4,144))),new Ae(20,96,96,22,22,new De(68,new Re(4,174))),new Ae(21,104,104,24,24,new De(56,new Re(6,136))),new Ae(22,120,120,18,18,new De(68,new Re(6,175))),new Ae(23,132,132,20,20,new De(62,new Re(8,163))),new Ae(24,144,144,22,22,new De(62,new Re(8,156),new Re(2,155))),new Ae(25,8,18,6,16,new De(7,new Re(1,5))),new Ae(26,8,32,6,14,new De(11,new Re(1,10))),new Ae(27,12,26,10,24,new De(14,new Re(1,16))),new Ae(28,12,36,10,16,new De(18,new Re(1,22))),new Ae(29,16,36,14,16,new De(24,new Re(1,32))),new Ae(30,16,48,14,22,new De(28,new Re(1,49)))]}}Ae.VERSIONS=Ae.buildVersions();class bs{constructor(t){const r=t.getHeight();if(r<8||r>144||r&1)throw new B;this.version=bs.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new at(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const r=t.getHeight(),i=t.getWidth();return Ae.getVersionForDimensions(r,i)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let r=0,i=4,o=0;const s=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let c=!1,f=!1,g=!1,m=!1;do if(i===s&&o===0&&!c)t[r++]=this.readCorner1(s,u)&255,i-=2,o+=2,c=!0;else if(i===s-2&&o===0&&u&3&&!f)t[r++]=this.readCorner2(s,u)&255,i-=2,o+=2,f=!0;else if(i===s+4&&o===2&&!(u&7)&&!g)t[r++]=this.readCorner3(s,u)&255,i-=2,o+=2,g=!0;else if(i===s-2&&o===0&&(u&7)===4&&!m)t[r++]=this.readCorner4(s,u)&255,i-=2,o+=2,m=!0;else{do i<s&&o>=0&&!this.readMappingMatrix.get(o,i)&&(t[r++]=this.readUtah(i,o,s,u)&255),i-=2,o+=2;while(i>=0&&o<u);i+=1,o+=3;do i>=0&&o<u&&!this.readMappingMatrix.get(o,i)&&(t[r++]=this.readUtah(i,o,s,u)&255),i+=2,o-=2;while(i<s&&o>=0);i+=3,o+=1}while(i<s||o<u);if(r!==this.version.getTotalCodewords())throw new B;return t}readModule(t,r,i,o){return t<0&&(t+=i,r+=4-(i+4&7)),r<0&&(r+=o,t+=4-(o+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)}readUtah(t,r,i,o){let s=0;return this.readModule(t-2,r-2,i,o)&&(s|=1),s<<=1,this.readModule(t-2,r-1,i,o)&&(s|=1),s<<=1,this.readModule(t-1,r-2,i,o)&&(s|=1),s<<=1,this.readModule(t-1,r-1,i,o)&&(s|=1),s<<=1,this.readModule(t-1,r,i,o)&&(s|=1),s<<=1,this.readModule(t,r-2,i,o)&&(s|=1),s<<=1,this.readModule(t,r-1,i,o)&&(s|=1),s<<=1,this.readModule(t,r,i,o)&&(s|=1),s}readCorner1(t,r){let i=0;return this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,1,t,r)&&(i|=1),i<<=1,this.readModule(t-1,2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(2,r-1,t,r)&&(i|=1),i<<=1,this.readModule(3,r-1,t,r)&&(i|=1),i}readCorner2(t,r){let i=0;return this.readModule(t-3,0,t,r)&&(i|=1),i<<=1,this.readModule(t-2,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(0,r-4,t,r)&&(i|=1),i<<=1,this.readModule(0,r-3,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i}readCorner3(t,r){let i=0;return this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(0,r-3,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-3,t,r)&&(i|=1),i<<=1,this.readModule(1,r-2,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i}readCorner4(t,r){let i=0;return this.readModule(t-3,0,t,r)&&(i|=1),i<<=1,this.readModule(t-2,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(2,r-1,t,r)&&(i|=1),i<<=1,this.readModule(3,r-1,t,r)&&(i|=1),i}extractDataRegion(t){const r=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new T("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),u=r/o|0,c=i/s|0,f=u*o,g=c*s,m=new at(g,f);for(let y=0;y<u;++y){const S=y*o;for(let b=0;b<c;++b){const M=b*s;for(let _=0;_<o;++_){const P=y*(o+2)+1+_,L=S+_;for(let Z=0;Z<s;++Z){const Q=b*(s+2)+1+Z;if(t.get(Q,P)){const Y=M+Z;m.set(Y,L)}}}}}return m}}class Ts{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r){const i=r.getECBlocks();let o=0;const s=i.getECBlocks();for(let M of s)o+=M.getCount();const u=new Array(o);let c=0;for(let M of s)for(let _=0;_<M.getCount();_++){const P=M.getDataCodewords(),L=i.getECCodewords()+P;u[c++]=new Ts(P,new Uint8Array(L))}const f=u[0].codewords.length-i.getECCodewords(),g=f-1;let m=0;for(let M=0;M<g;M++)for(let _=0;_<c;_++)u[_].codewords[M]=t[m++];const y=r.getVersionNumber()===24,S=y?8:c;for(let M=0;M<S;M++)u[M].codewords[f-1]=t[m++];const b=u[0].codewords.length;for(let M=f;M<b;M++)for(let _=0;_<c;_++){const P=y?(_+8)%c:_,L=y&&P>7?M-1:M;u[P].codewords[L]=t[m++]}if(m!==t.length)throw new T;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class vs{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new T(""+t);let r=0,i=this.bitOffset,o=this.byteOffset;const s=this.bytes;if(i>0){const u=8-i,c=t<u?t:u,f=u-c,g=255>>8-c<<f;r=(s[o]&g)>>f,t-=c,i+=c,i===8&&(i=0,o++)}if(t>0){for(;t>=8;)r=r<<8|s[o]&255,o++,t-=8;if(t>0){const u=8-t,c=255>>u<<u;r=r<<t|(s[o]&c)>>u,i+=t}}return this.bitOffset=i,this.byteOffset=o,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var dt;(function(C){C[C.PAD_ENCODE=0]="PAD_ENCODE",C[C.ASCII_ENCODE=1]="ASCII_ENCODE",C[C.C40_ENCODE=2]="C40_ENCODE",C[C.TEXT_ENCODE=3]="TEXT_ENCODE",C[C.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",C[C.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",C[C.BASE256_ENCODE=6]="BASE256_ENCODE"})(dt||(dt={}));class ar{static decode(t){const r=new vs(t),i=new Se,o=new Se,s=new Array;let u=dt.ASCII_ENCODE;do if(u===dt.ASCII_ENCODE)u=this.decodeAsciiSegment(r,i,o);else{switch(u){case dt.C40_ENCODE:this.decodeC40Segment(r,i);break;case dt.TEXT_ENCODE:this.decodeTextSegment(r,i);break;case dt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,i);break;case dt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,i);break;case dt.BASE256_ENCODE:this.decodeBase256Segment(r,i,s);break;default:throw new B}u=dt.ASCII_ENCODE}while(u!==dt.PAD_ENCODE&&r.available()>0);return o.length()>0&&i.append(o.toString()),new Ui(t,i.toString(),s.length===0?null:s,null)}static decodeAsciiSegment(t,r,i){let o=!1;do{let s=t.readBits(8);if(s===0)throw new B;if(s<=128)return o&&(s+=128),r.append(String.fromCharCode(s-1)),dt.ASCII_ENCODE;if(s===129)return dt.PAD_ENCODE;if(s<=229){const u=s-130;u<10&&r.append("0"),r.append(""+u)}else switch(s){case 230:return dt.C40_ENCODE;case 231:return dt.BASE256_ENCODE;case 232:r.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:o=!0;break;case 236:r.append("[)>05"),i.insert(0,"");break;case 237:r.append("[)>06"),i.insert(0,"");break;case 238:return dt.ANSIX12_ENCODE;case 239:return dt.TEXT_ENCODE;case 240:return dt.EDIFACT_ENCODE;case 241:break;default:if(s!==254||t.available()!==0)throw new B;break}}while(t.available()>0);return dt.ASCII_ENCODE}static decodeC40Segment(t,r){let i=!1;const o=[];let s=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),o);for(let c=0;c<3;c++){const f=o[c];switch(s){case 0:if(f<3)s=f+1;else if(f<this.C40_BASIC_SET_CHARS.length){const g=this.C40_BASIC_SET_CHARS[f];i?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):r.append(g)}else throw new B;break;case 1:i?(r.append(String.fromCharCode(f+128)),i=!1):r.append(String.fromCharCode(f)),s=0;break;case 2:if(f<this.C40_SHIFT2_SET_CHARS.length){const g=this.C40_SHIFT2_SET_CHARS[f];i?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):r.append(g)}else switch(f){case 27:r.append(String.fromCharCode(29));break;case 30:i=!0;break;default:throw new B}s=0;break;case 3:i?(r.append(String.fromCharCode(f+224)),i=!1):r.append(String.fromCharCode(f+96)),s=0;break;default:throw new B}}}while(t.available()>0)}static decodeTextSegment(t,r){let i=!1,o=[],s=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),o);for(let c=0;c<3;c++){const f=o[c];switch(s){case 0:if(f<3)s=f+1;else if(f<this.TEXT_BASIC_SET_CHARS.length){const g=this.TEXT_BASIC_SET_CHARS[f];i?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):r.append(g)}else throw new B;break;case 1:i?(r.append(String.fromCharCode(f+128)),i=!1):r.append(String.fromCharCode(f)),s=0;break;case 2:if(f<this.TEXT_SHIFT2_SET_CHARS.length){const g=this.TEXT_SHIFT2_SET_CHARS[f];i?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):r.append(g)}else switch(f){case 27:r.append(String.fromCharCode(29));break;case 30:i=!0;break;default:throw new B}s=0;break;case 3:if(f<this.TEXT_SHIFT3_SET_CHARS.length){const g=this.TEXT_SHIFT3_SET_CHARS[f];i?(r.append(String.fromCharCode(g.charCodeAt(0)+128)),i=!1):r.append(g),s=0}else throw new B;break;default:throw new B}}}while(t.available()>0)}static decodeAnsiX12Segment(t,r){const i=[];do{if(t.available()===8)return;const o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),i);for(let s=0;s<3;s++){const u=i[s];switch(u){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(u<14)r.append(String.fromCharCode(u+44));else if(u<40)r.append(String.fromCharCode(u+51));else throw new B;break}}}while(t.available()>0)}static parseTwoBytes(t,r,i){let o=(t<<8)+r-1,s=Math.floor(o/1600);i[0]=s,o-=s*1600,s=Math.floor(o/40),i[1]=s,i[2]=o-s*40}static decodeEdifactSegment(t,r){do{if(t.available()<=16)return;for(let i=0;i<4;i++){let o=t.readBits(6);if(o===31){const s=8-t.getBitOffset();s!==8&&t.readBits(s);return}o&32||(o|=64),r.append(String.fromCharCode(o))}}while(t.available()>0)}static decodeBase256Segment(t,r,i){let o=1+t.getByteOffset();const s=this.unrandomize255State(t.readBits(8),o++);let u;if(s===0?u=t.available()/8|0:s<250?u=s:u=250*(s-249)+this.unrandomize255State(t.readBits(8),o++),u<0)throw new B;const c=new Uint8Array(u);for(let f=0;f<u;f++){if(t.available()<8)throw new B;c[f]=this.unrandomize255State(t.readBits(8),o++)}i.push(c);try{r.append(Be.decode(c,ue.ISO88591))}catch(f){throw new _n("Platform does not support required encoding: "+f.message)}}static unrandomize255State(t,r){const i=149*r%255+1,o=t-i;return o>=0?o:o+256}}ar.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ar.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ar.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ar.TEXT_SHIFT2_SET_CHARS=ar.C40_SHIFT2_SET_CHARS,ar.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class A0{constructor(){this.rsDecoder=new Hi(Ne.DATA_MATRIX_FIELD_256)}decode(t){const r=new bs(t),i=r.getVersion(),o=r.readCodewords(),s=Ts.getDataBlocks(o,i);let u=0;for(let g of s)u+=g.getNumDataCodewords();const c=new Uint8Array(u),f=s.length;for(let g=0;g<f;g++){const m=s[g],y=m.getCodewords(),S=m.getNumDataCodewords();this.correctErrors(y,S);for(let b=0;b<S;b++)c[b*f+g]=y[b]}return ar.decode(c)}correctErrors(t,r){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-r)}catch{throw new z}for(let o=0;o<r;o++)t[o]=i[o]}}class ot{constructor(t){this.image=t,this.rectangleDetector=new Wn(this.image)}detect(){const t=this.rectangleDetector.detect();let r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new F;r=this.shiftToModuleCenter(r);const i=r[0],o=r[1],s=r[2],u=r[3];let c=this.transitionsBetween(i,u)+1,f=this.transitionsBetween(s,u)+1;(c&1)===1&&(c+=1),(f&1)===1&&(f+=1),4*c<7*f&&4*f<7*c&&(c=f=Math.max(c,f));let g=ot.sampleGrid(this.image,i,o,s,u,c,f);return new ja(g,[i,o,s,u])}static shiftPoint(t,r,i){let o=(r.getX()-t.getX())/(i+1),s=(r.getY()-t.getY())/(i+1);return new ae(t.getX()+o,t.getY()+s)}static moveAway(t,r,i){let o=t.getX(),s=t.getY();return o<r?o-=1:o+=1,s<i?s-=1:s+=1,new ae(o,s)}detectSolid1(t){let r=t[0],i=t[1],o=t[3],s=t[2],u=this.transitionsBetween(r,i),c=this.transitionsBetween(i,o),f=this.transitionsBetween(o,s),g=this.transitionsBetween(s,r),m=u,y=[s,r,i,o];return m>c&&(m=c,y[0]=r,y[1]=i,y[2]=o,y[3]=s),m>f&&(m=f,y[0]=i,y[1]=o,y[2]=s,y[3]=r),m>g&&(y[0]=o,y[1]=s,y[2]=r,y[3]=i),y}detectSolid2(t){let r=t[0],i=t[1],o=t[2],s=t[3],u=this.transitionsBetween(r,s),c=ot.shiftPoint(i,o,(u+1)*4),f=ot.shiftPoint(o,i,(u+1)*4),g=this.transitionsBetween(c,r),m=this.transitionsBetween(f,s);return g<m?(t[0]=r,t[1]=i,t[2]=o,t[3]=s):(t[0]=i,t[1]=o,t[2]=s,t[3]=r),t}correctTopRight(t){let r=t[0],i=t[1],o=t[2],s=t[3],u=this.transitionsBetween(r,s),c=this.transitionsBetween(i,s),f=ot.shiftPoint(r,i,(c+1)*4),g=ot.shiftPoint(o,i,(u+1)*4);u=this.transitionsBetween(f,s),c=this.transitionsBetween(g,s);let m=new ae(s.getX()+(o.getX()-i.getX())/(u+1),s.getY()+(o.getY()-i.getY())/(u+1)),y=new ae(s.getX()+(r.getX()-i.getX())/(c+1),s.getY()+(r.getY()-i.getY())/(c+1));if(!this.isValid(m))return this.isValid(y)?y:null;if(!this.isValid(y))return m;let S=this.transitionsBetween(f,m)+this.transitionsBetween(g,m),b=this.transitionsBetween(f,y)+this.transitionsBetween(g,y);return S>b?m:y}shiftToModuleCenter(t){let r=t[0],i=t[1],o=t[2],s=t[3],u=this.transitionsBetween(r,s)+1,c=this.transitionsBetween(o,s)+1,f=ot.shiftPoint(r,i,c*4),g=ot.shiftPoint(o,i,u*4);u=this.transitionsBetween(f,s)+1,c=this.transitionsBetween(g,s)+1,(u&1)===1&&(u+=1),(c&1)===1&&(c+=1);let m=(r.getX()+i.getX()+o.getX()+s.getX())/4,y=(r.getY()+i.getY()+o.getY()+s.getY())/4;r=ot.moveAway(r,m,y),i=ot.moveAway(i,m,y),o=ot.moveAway(o,m,y),s=ot.moveAway(s,m,y);let S,b;return f=ot.shiftPoint(r,i,c*4),f=ot.shiftPoint(f,s,u*4),S=ot.shiftPoint(i,r,c*4),S=ot.shiftPoint(S,o,u*4),g=ot.shiftPoint(o,s,c*4),g=ot.shiftPoint(g,i,u*4),b=ot.shiftPoint(s,o,c*4),b=ot.shiftPoint(b,r,u*4),[f,S,g,b]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,r,i,o,s,u,c){return rr.getInstance().sampleGrid(t,u,c,.5,.5,u-.5,.5,u-.5,c-.5,.5,c-.5,r.getX(),r.getY(),s.getX(),s.getY(),o.getX(),o.getY(),i.getX(),i.getY())}transitionsBetween(t,r){let i=Math.trunc(t.getX()),o=Math.trunc(t.getY()),s=Math.trunc(r.getX()),u=Math.trunc(r.getY()),c=Math.abs(u-o)>Math.abs(s-i);if(c){let _=i;i=o,o=_,_=s,s=u,u=_}let f=Math.abs(s-i),g=Math.abs(u-o),m=-f/2,y=o<u?1:-1,S=i<s?1:-1,b=0,M=this.image.get(c?o:i,c?i:o);for(let _=i,P=o;_!==s;_+=S){let L=this.image.get(c?P:_,c?_:P);if(L!==M&&(b++,M=L),m+=g,m>0){if(P===u)break;P+=y,m-=f}}return b}}class or{constructor(){this.decoder=new A0}decode(t,r=null){let i,o;if(r!=null&&r.has(K.PURE_BARCODE)){const g=or.extractPureBits(t.getBlackMatrix());i=this.decoder.decode(g),o=or.NO_POINTS}else{const g=new ot(t.getBlackMatrix()).detect();i=this.decoder.decode(g.getBits()),o=g.getPoints()}const s=i.getRawBytes(),u=new Qe(i.getText(),s,8*s.length,o,oe.DATA_MATRIX,V.currentTimeMillis()),c=i.getByteSegments();c!=null&&u.putMetadata(pt.BYTE_SEGMENTS,c);const f=i.getECLevel();return f!=null&&u.putMetadata(pt.ERROR_CORRECTION_LEVEL,f),u}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(r==null||i==null)throw new F;const o=this.moduleSize(r,t);let s=r[1];const u=i[1];let c=r[0];const f=(i[0]-c+1)/o,g=(u-s+1)/o;if(f<=0||g<=0)throw new F;const m=o/2;s+=m,c+=m;const y=new at(f,g);for(let S=0;S<g;S++){const b=s+S*o;for(let M=0;M<f;M++)t.get(c+M*o,b)&&y.set(M,S)}return y}static moduleSize(t,r){const i=r.getWidth();let o=t[0];const s=t[1];for(;o<i&&r.get(o,s);)o++;if(o===i)throw new F;const u=o-t[0];if(u===0)throw new F;return u}}or.NO_POINTS=[];class S0 extends sn{constructor(t=500){super(new or,t)}}var ii;(function(C){C[C.L=0]="L",C[C.M=1]="M",C[C.Q=2]="Q",C[C.H=3]="H"})(ii||(ii={}));class Ue{constructor(t,r,i){this.value=t,this.stringValue=r,this.bits=i,Ue.FOR_BITS.set(i,this),Ue.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return Ue.L;case"M":return Ue.M;case"Q":return Ue.Q;case"H":return Ue.H;default:throw new v(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof Ue))return!1;const r=t;return this.value===r.value}static forBits(t){if(t<0||t>=Ue.FOR_BITS.size)throw new T;return Ue.FOR_BITS.get(t)}}Ue.FOR_BITS=new Map,Ue.FOR_VALUE=new Map,Ue.L=new Ue(ii.L,"L",1),Ue.M=new Ue(ii.M,"M",0),Ue.Q=new Ue(ii.Q,"Q",3),Ue.H=new Ue(ii.H,"H",2);class Mt{constructor(t){this.errorCorrectionLevel=Ue.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,r){return R.bitCount(t^r)}static decodeFormatInformation(t,r){const i=Mt.doDecodeFormatInformation(t,r);return i!==null?i:Mt.doDecodeFormatInformation(t^Mt.FORMAT_INFO_MASK_QR,r^Mt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,r){let i=Number.MAX_SAFE_INTEGER,o=0;for(const s of Mt.FORMAT_INFO_DECODE_LOOKUP){const u=s[0];if(u===t||u===r)return new Mt(s[1]);let c=Mt.numBitsDiffering(t,u);c<i&&(o=s[1],i=c),t!==r&&(c=Mt.numBitsDiffering(r,u),c<i&&(o=s[1],i=c))}return i<=3?new Mt(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof Mt))return!1;const r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Mt.FORMAT_INFO_MASK_QR=21522,Mt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class O{constructor(t,...r){this.ecCodewordsPerBlock=t,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const r=this.ecBlocks;for(const i of r)t+=i.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class I{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class se{constructor(t,r,...i){this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=i;let o=0;const s=i[0].getECCodewordsPerBlock(),u=i[0].getECBlocks();for(const c of u)o+=c.getCount()*(c.getDataCodewords()+s);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new B;try{return this.getVersionForNumber((t-17)/4)}catch{throw new B}}static getVersionForNumber(t){if(t<1||t>40)throw new T;return se.VERSIONS[t-1]}static decodeVersionInformation(t){let r=Number.MAX_SAFE_INTEGER,i=0;for(let o=0;o<se.VERSION_DECODE_INFO.length;o++){const s=se.VERSION_DECODE_INFO[o];if(s===t)return se.getVersionForNumber(o+7);const u=Mt.numBitsDiffering(t,s);u<r&&(i=o+7,r=u)}return r<=3?se.getVersionForNumber(i):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),r=new at(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);const i=this.alignmentPatternCenters.length;for(let o=0;o<i;o++){const s=this.alignmentPatternCenters[o]-2;for(let u=0;u<i;u++)o===0&&(u===0||u===i-1)||o===i-1&&u===0||r.setRegion(this.alignmentPatternCenters[u]-2,s,5,5)}return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r}toString(){return""+this.versionNumber}}se.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),se.VERSIONS=[new se(1,new Int32Array(0),new O(7,new I(1,19)),new O(10,new I(1,16)),new O(13,new I(1,13)),new O(17,new I(1,9))),new se(2,Int32Array.from([6,18]),new O(10,new I(1,34)),new O(16,new I(1,28)),new O(22,new I(1,22)),new O(28,new I(1,16))),new se(3,Int32Array.from([6,22]),new O(15,new I(1,55)),new O(26,new I(1,44)),new O(18,new I(2,17)),new O(22,new I(2,13))),new se(4,Int32Array.from([6,26]),new O(20,new I(1,80)),new O(18,new I(2,32)),new O(26,new I(2,24)),new O(16,new I(4,9))),new se(5,Int32Array.from([6,30]),new O(26,new I(1,108)),new O(24,new I(2,43)),new O(18,new I(2,15),new I(2,16)),new O(22,new I(2,11),new I(2,12))),new se(6,Int32Array.from([6,34]),new O(18,new I(2,68)),new O(16,new I(4,27)),new O(24,new I(4,19)),new O(28,new I(4,15))),new se(7,Int32Array.from([6,22,38]),new O(20,new I(2,78)),new O(18,new I(4,31)),new O(18,new I(2,14),new I(4,15)),new O(26,new I(4,13),new I(1,14))),new se(8,Int32Array.from([6,24,42]),new O(24,new I(2,97)),new O(22,new I(2,38),new I(2,39)),new O(22,new I(4,18),new I(2,19)),new O(26,new I(4,14),new I(2,15))),new se(9,Int32Array.from([6,26,46]),new O(30,new I(2,116)),new O(22,new I(3,36),new I(2,37)),new O(20,new I(4,16),new I(4,17)),new O(24,new I(4,12),new I(4,13))),new se(10,Int32Array.from([6,28,50]),new O(18,new I(2,68),new I(2,69)),new O(26,new I(4,43),new I(1,44)),new O(24,new I(6,19),new I(2,20)),new O(28,new I(6,15),new I(2,16))),new se(11,Int32Array.from([6,30,54]),new O(20,new I(4,81)),new O(30,new I(1,50),new I(4,51)),new O(28,new I(4,22),new I(4,23)),new O(24,new I(3,12),new I(8,13))),new se(12,Int32Array.from([6,32,58]),new O(24,new I(2,92),new I(2,93)),new O(22,new I(6,36),new I(2,37)),new O(26,new I(4,20),new I(6,21)),new O(28,new I(7,14),new I(4,15))),new se(13,Int32Array.from([6,34,62]),new O(26,new I(4,107)),new O(22,new I(8,37),new I(1,38)),new O(24,new I(8,20),new I(4,21)),new O(22,new I(12,11),new I(4,12))),new se(14,Int32Array.from([6,26,46,66]),new O(30,new I(3,115),new I(1,116)),new O(24,new I(4,40),new I(5,41)),new O(20,new I(11,16),new I(5,17)),new O(24,new I(11,12),new I(5,13))),new se(15,Int32Array.from([6,26,48,70]),new O(22,new I(5,87),new I(1,88)),new O(24,new I(5,41),new I(5,42)),new O(30,new I(5,24),new I(7,25)),new O(24,new I(11,12),new I(7,13))),new se(16,Int32Array.from([6,26,50,74]),new O(24,new I(5,98),new I(1,99)),new O(28,new I(7,45),new I(3,46)),new O(24,new I(15,19),new I(2,20)),new O(30,new I(3,15),new I(13,16))),new se(17,Int32Array.from([6,30,54,78]),new O(28,new I(1,107),new I(5,108)),new O(28,new I(10,46),new I(1,47)),new O(28,new I(1,22),new I(15,23)),new O(28,new I(2,14),new I(17,15))),new se(18,Int32Array.from([6,30,56,82]),new O(30,new I(5,120),new I(1,121)),new O(26,new I(9,43),new I(4,44)),new O(28,new I(17,22),new I(1,23)),new O(28,new I(2,14),new I(19,15))),new se(19,Int32Array.from([6,30,58,86]),new O(28,new I(3,113),new I(4,114)),new O(26,new I(3,44),new I(11,45)),new O(26,new I(17,21),new I(4,22)),new O(26,new I(9,13),new I(16,14))),new se(20,Int32Array.from([6,34,62,90]),new O(28,new I(3,107),new I(5,108)),new O(26,new I(3,41),new I(13,42)),new O(30,new I(15,24),new I(5,25)),new O(28,new I(15,15),new I(10,16))),new se(21,Int32Array.from([6,28,50,72,94]),new O(28,new I(4,116),new I(4,117)),new O(26,new I(17,42)),new O(28,new I(17,22),new I(6,23)),new O(30,new I(19,16),new I(6,17))),new se(22,Int32Array.from([6,26,50,74,98]),new O(28,new I(2,111),new I(7,112)),new O(28,new I(17,46)),new O(30,new I(7,24),new I(16,25)),new O(24,new I(34,13))),new se(23,Int32Array.from([6,30,54,78,102]),new O(30,new I(4,121),new I(5,122)),new O(28,new I(4,47),new I(14,48)),new O(30,new I(11,24),new I(14,25)),new O(30,new I(16,15),new I(14,16))),new se(24,Int32Array.from([6,28,54,80,106]),new O(30,new I(6,117),new I(4,118)),new O(28,new I(6,45),new I(14,46)),new O(30,new I(11,24),new I(16,25)),new O(30,new I(30,16),new I(2,17))),new se(25,Int32Array.from([6,32,58,84,110]),new O(26,new I(8,106),new I(4,107)),new O(28,new I(8,47),new I(13,48)),new O(30,new I(7,24),new I(22,25)),new O(30,new I(22,15),new I(13,16))),new se(26,Int32Array.from([6,30,58,86,114]),new O(28,new I(10,114),new I(2,115)),new O(28,new I(19,46),new I(4,47)),new O(28,new I(28,22),new I(6,23)),new O(30,new I(33,16),new I(4,17))),new se(27,Int32Array.from([6,34,62,90,118]),new O(30,new I(8,122),new I(4,123)),new O(28,new I(22,45),new I(3,46)),new O(30,new I(8,23),new I(26,24)),new O(30,new I(12,15),new I(28,16))),new se(28,Int32Array.from([6,26,50,74,98,122]),new O(30,new I(3,117),new I(10,118)),new O(28,new I(3,45),new I(23,46)),new O(30,new I(4,24),new I(31,25)),new O(30,new I(11,15),new I(31,16))),new se(29,Int32Array.from([6,30,54,78,102,126]),new O(30,new I(7,116),new I(7,117)),new O(28,new I(21,45),new I(7,46)),new O(30,new I(1,23),new I(37,24)),new O(30,new I(19,15),new I(26,16))),new se(30,Int32Array.from([6,26,52,78,104,130]),new O(30,new I(5,115),new I(10,116)),new O(28,new I(19,47),new I(10,48)),new O(30,new I(15,24),new I(25,25)),new O(30,new I(23,15),new I(25,16))),new se(31,Int32Array.from([6,30,56,82,108,134]),new O(30,new I(13,115),new I(3,116)),new O(28,new I(2,46),new I(29,47)),new O(30,new I(42,24),new I(1,25)),new O(30,new I(23,15),new I(28,16))),new se(32,Int32Array.from([6,34,60,86,112,138]),new O(30,new I(17,115)),new O(28,new I(10,46),new I(23,47)),new O(30,new I(10,24),new I(35,25)),new O(30,new I(19,15),new I(35,16))),new se(33,Int32Array.from([6,30,58,86,114,142]),new O(30,new I(17,115),new I(1,116)),new O(28,new I(14,46),new I(21,47)),new O(30,new I(29,24),new I(19,25)),new O(30,new I(11,15),new I(46,16))),new se(34,Int32Array.from([6,34,62,90,118,146]),new O(30,new I(13,115),new I(6,116)),new O(28,new I(14,46),new I(23,47)),new O(30,new I(44,24),new I(7,25)),new O(30,new I(59,16),new I(1,17))),new se(35,Int32Array.from([6,30,54,78,102,126,150]),new O(30,new I(12,121),new I(7,122)),new O(28,new I(12,47),new I(26,48)),new O(30,new I(39,24),new I(14,25)),new O(30,new I(22,15),new I(41,16))),new se(36,Int32Array.from([6,24,50,76,102,128,154]),new O(30,new I(6,121),new I(14,122)),new O(28,new I(6,47),new I(34,48)),new O(30,new I(46,24),new I(10,25)),new O(30,new I(2,15),new I(64,16))),new se(37,Int32Array.from([6,28,54,80,106,132,158]),new O(30,new I(17,122),new I(4,123)),new O(28,new I(29,46),new I(14,47)),new O(30,new I(49,24),new I(10,25)),new O(30,new I(24,15),new I(46,16))),new se(38,Int32Array.from([6,32,58,84,110,136,162]),new O(30,new I(4,122),new I(18,123)),new O(28,new I(13,46),new I(32,47)),new O(30,new I(48,24),new I(14,25)),new O(30,new I(42,15),new I(32,16))),new se(39,Int32Array.from([6,26,54,82,110,138,166]),new O(30,new I(20,117),new I(4,118)),new O(28,new I(40,47),new I(7,48)),new O(30,new I(43,24),new I(22,25)),new O(30,new I(10,15),new I(67,16))),new se(40,Int32Array.from([6,30,58,86,114,142,170]),new O(30,new I(19,118),new I(6,119)),new O(28,new I(18,47),new I(31,48)),new O(30,new I(34,24),new I(34,25)),new O(30,new I(20,15),new I(61,16)))];var mt;(function(C){C[C.DATA_MASK_000=0]="DATA_MASK_000",C[C.DATA_MASK_001=1]="DATA_MASK_001",C[C.DATA_MASK_010=2]="DATA_MASK_010",C[C.DATA_MASK_011=3]="DATA_MASK_011",C[C.DATA_MASK_100=4]="DATA_MASK_100",C[C.DATA_MASK_101=5]="DATA_MASK_101",C[C.DATA_MASK_110=6]="DATA_MASK_110",C[C.DATA_MASK_111=7]="DATA_MASK_111"})(mt||(mt={}));class un{constructor(t,r){this.value=t,this.isMasked=r}unmaskBitMatrix(t,r){for(let i=0;i<r;i++)for(let o=0;o<r;o++)this.isMasked(i,o)&&t.flip(o,i)}}un.values=new Map([[mt.DATA_MASK_000,new un(mt.DATA_MASK_000,(C,t)=>(C+t&1)===0)],[mt.DATA_MASK_001,new un(mt.DATA_MASK_001,(C,t)=>(C&1)===0)],[mt.DATA_MASK_010,new un(mt.DATA_MASK_010,(C,t)=>t%3===0)],[mt.DATA_MASK_011,new un(mt.DATA_MASK_011,(C,t)=>(C+t)%3===0)],[mt.DATA_MASK_100,new un(mt.DATA_MASK_100,(C,t)=>(Math.floor(C/2)+Math.floor(t/3)&1)===0)],[mt.DATA_MASK_101,new un(mt.DATA_MASK_101,(C,t)=>C*t%6===0)],[mt.DATA_MASK_110,new un(mt.DATA_MASK_110,(C,t)=>C*t%6<3)],[mt.DATA_MASK_111,new un(mt.DATA_MASK_111,(C,t)=>(C+t+C*t%3&1)===0)]]);class I0{constructor(t){const r=t.getHeight();if(r<21||(r&3)!==1)throw new B;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let s=0;s<6;s++)t=this.copyBit(s,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let s=5;s>=0;s--)t=this.copyBit(8,s,t);const r=this.bitMatrix.getHeight();let i=0;const o=r-7;for(let s=r-1;s>=o;s--)i=this.copyBit(8,s,i);for(let s=r-8;s<r;s++)i=this.copyBit(s,8,i);if(this.parsedFormatInfo=Mt.decodeFormatInformation(t,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new B}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return se.getVersionForNumber(r);let i=0;const o=t-11;for(let u=5;u>=0;u--)for(let c=t-9;c>=o;c--)i=this.copyBit(c,u,i);let s=se.decodeVersionInformation(i);if(s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;i=0;for(let u=5;u>=0;u--)for(let c=t-9;c>=o;c--)i=this.copyBit(u,c,i);if(s=se.decodeVersionInformation(i),s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;throw new B}copyBit(t,r,i){return(this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r))?i<<1|1:i<<1}readCodewords(){const t=this.readFormatInformation(),r=this.readVersion(),i=un.values.get(t.getDataMask()),o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o);const s=r.buildFunctionPattern();let u=!0;const c=new Uint8Array(r.getTotalCodewords());let f=0,g=0,m=0;for(let y=o-1;y>0;y-=2){y===6&&y--;for(let S=0;S<o;S++){const b=u?o-1-S:S;for(let M=0;M<2;M++)s.get(y-M,b)||(m++,g<<=1,this.bitMatrix.get(y-M,b)&&(g|=1),m===8&&(c[f++]=g,m=0,g=0))}u=!u}if(f!==r.getTotalCodewords())throw new B;return c}remask(){if(this.parsedFormatInfo===null)return;const t=un.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let r=0,i=t.getWidth();r<i;r++)for(let o=r+1,s=t.getHeight();o<s;o++)t.get(r,o)!==t.get(o,r)&&(t.flip(o,r),t.flip(r,o))}}class Ns{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r,i){if(t.length!==r.getTotalCodewords())throw new T;const o=r.getECBlocksForLevel(i);let s=0;const u=o.getECBlocks();for(const M of u)s+=M.getCount();const c=new Array(s);let f=0;for(const M of u)for(let _=0;_<M.getCount();_++){const P=M.getDataCodewords(),L=o.getECCodewordsPerBlock()+P;c[f++]=new Ns(P,new Uint8Array(L))}const g=c[0].codewords.length;let m=c.length-1;for(;m>=0&&c[m].codewords.length!==g;)m--;m++;const y=g-o.getECCodewordsPerBlock();let S=0;for(let M=0;M<y;M++)for(let _=0;_<f;_++)c[_].codewords[M]=t[S++];for(let M=m;M<f;M++)c[M].codewords[y]=t[S++];const b=c[0].codewords.length;for(let M=y;M<b;M++)for(let _=0;_<f;_++){const P=_<m?M:M+1;c[_].codewords[P]=t[S++]}return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var cn;(function(C){C[C.TERMINATOR=0]="TERMINATOR",C[C.NUMERIC=1]="NUMERIC",C[C.ALPHANUMERIC=2]="ALPHANUMERIC",C[C.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",C[C.BYTE=4]="BYTE",C[C.ECI=5]="ECI",C[C.KANJI=6]="KANJI",C[C.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",C[C.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",C[C.HANZI=9]="HANZI"})(cn||(cn={}));class le{constructor(t,r,i,o){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=i,this.bits=o,le.FOR_BITS.set(o,this),le.FOR_VALUE.set(t,this)}static forBits(t){const r=le.FOR_BITS.get(t);if(r===void 0)throw new T;return r}getCharacterCountBits(t){const r=t.getVersionNumber();let i;return r<=9?i=0:r<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof le))return!1;const r=t;return this.value===r.value}toString(){return this.stringValue}}le.FOR_BITS=new Map,le.FOR_VALUE=new Map,le.TERMINATOR=new le(cn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),le.NUMERIC=new le(cn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),le.ALPHANUMERIC=new le(cn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),le.STRUCTURED_APPEND=new le(cn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),le.BYTE=new le(cn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),le.ECI=new le(cn.ECI,"ECI",Int32Array.from([0,0,0]),7),le.KANJI=new le(cn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),le.FNC1_FIRST_POSITION=new le(cn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),le.FNC1_SECOND_POSITION=new le(cn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),le.HANZI=new le(cn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ze{static decode(t,r,i,o){const s=new vs(t);let u=new Se;const c=new Array;let f=-1,g=-1;try{let m=null,y=!1,S;do{if(s.available()<4)S=le.TERMINATOR;else{const b=s.readBits(4);S=le.forBits(b)}switch(S){case le.TERMINATOR:break;case le.FNC1_FIRST_POSITION:case le.FNC1_SECOND_POSITION:y=!0;break;case le.STRUCTURED_APPEND:if(s.available()<16)throw new B;f=s.readBits(8),g=s.readBits(8);break;case le.ECI:const b=Ze.parseECIValue(s);if(m=j.getCharacterSetECIByValue(b),m===null)throw new B;break;case le.HANZI:const M=s.readBits(4),_=s.readBits(S.getCharacterCountBits(r));M===Ze.GB2312_SUBSET&&Ze.decodeHanziSegment(s,u,_);break;default:const P=s.readBits(S.getCharacterCountBits(r));switch(S){case le.NUMERIC:Ze.decodeNumericSegment(s,u,P);break;case le.ALPHANUMERIC:Ze.decodeAlphanumericSegment(s,u,P,y);break;case le.BYTE:Ze.decodeByteSegment(s,u,P,m,c,o);break;case le.KANJI:Ze.decodeKanjiSegment(s,u,P);break;default:throw new B}break}}while(S!==le.TERMINATOR)}catch{throw new B}return new Ui(t,u.toString(),c.length===0?null:c,i===null?null:i.toString(),f,g)}static decodeHanziSegment(t,r,i){if(i*13>t.available())throw new B;const o=new Uint8Array(2*i);let s=0;for(;i>0;){const u=t.readBits(13);let c=u/96<<8&4294967295|u%96;c<959?c+=41377:c+=42657,o[s]=c>>8&255,o[s+1]=c&255,s+=2,i--}try{r.append(Be.decode(o,ue.GB2312))}catch(u){throw new B(u)}}static decodeKanjiSegment(t,r,i){if(i*13>t.available())throw new B;const o=new Uint8Array(2*i);let s=0;for(;i>0;){const u=t.readBits(13);let c=u/192<<8&4294967295|u%192;c<7936?c+=33088:c+=49472,o[s]=c>>8,o[s+1]=c,s+=2,i--}try{r.append(Be.decode(o,ue.SHIFT_JIS))}catch(u){throw new B(u)}}static decodeByteSegment(t,r,i,o,s,u){if(8*i>t.available())throw new B;const c=new Uint8Array(i);for(let g=0;g<i;g++)c[g]=t.readBits(8);let f;o===null?f=ue.guessEncoding(c,u):f=o.getName();try{r.append(Be.decode(c,f))}catch(g){throw new B(g)}s.push(c)}static toAlphaNumericChar(t){if(t>=Ze.ALPHANUMERIC_CHARS.length)throw new B;return Ze.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,r,i,o){const s=r.length();for(;i>1;){if(t.available()<11)throw new B;const u=t.readBits(11);r.append(Ze.toAlphaNumericChar(Math.floor(u/45))),r.append(Ze.toAlphaNumericChar(u%45)),i-=2}if(i===1){if(t.available()<6)throw new B;r.append(Ze.toAlphaNumericChar(t.readBits(6)))}if(o)for(let u=s;u<r.length();u++)r.charAt(u)==="%"&&(u<r.length()-1&&r.charAt(u+1)==="%"?r.deleteCharAt(u+1):r.setCharAt(u,String.fromCharCode(29)))}static decodeNumericSegment(t,r,i){for(;i>=3;){if(t.available()<10)throw new B;const o=t.readBits(10);if(o>=1e3)throw new B;r.append(Ze.toAlphaNumericChar(Math.floor(o/100))),r.append(Ze.toAlphaNumericChar(Math.floor(o/10)%10)),r.append(Ze.toAlphaNumericChar(o%10)),i-=3}if(i===2){if(t.available()<7)throw new B;const o=t.readBits(7);if(o>=100)throw new B;r.append(Ze.toAlphaNumericChar(Math.floor(o/10))),r.append(Ze.toAlphaNumericChar(o%10))}else if(i===1){if(t.available()<4)throw new B;const o=t.readBits(4);if(o>=10)throw new B;r.append(Ze.toAlphaNumericChar(o))}}static parseECIValue(t){const r=t.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const i=t.readBits(8);return(r&63)<<8&4294967295|i}if((r&224)===192){const i=t.readBits(16);return(r&31)<<16&4294967295|i}throw new B}}Ze.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ze.GB2312_SUBSET=1;class lc{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const r=t[0];t[0]=t[2],t[2]=r}}class b0{constructor(){this.rsDecoder=new Hi(Ne.QR_CODE_FIELD_256)}decodeBooleanArray(t,r){return this.decodeBitMatrix(at.parseFromBooleanArray(t),r)}decodeBitMatrix(t,r){const i=new I0(t);let o=null;try{return this.decodeBitMatrixParser(i,r)}catch(s){o=s}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const s=this.decodeBitMatrixParser(i,r);return s.setOther(new lc(!0)),s}catch(s){throw o!==null?o:s}}decodeBitMatrixParser(t,r){const i=t.readVersion(),o=t.readFormatInformation().getErrorCorrectionLevel(),s=t.readCodewords(),u=Ns.getDataBlocks(s,i,o);let c=0;for(const m of u)c+=m.getNumDataCodewords();const f=new Uint8Array(c);let g=0;for(const m of u){const y=m.getCodewords(),S=m.getNumDataCodewords();this.correctErrors(y,S);for(let b=0;b<S;b++)f[g++]=y[b]}return Ze.decode(f,i,o,r)}correctErrors(t,r){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-r)}catch{throw new z}for(let o=0;o<r;o++)t[o]=i[o]}}class Ms extends ae{constructor(t,r,i){super(t,r),this.estimatedModuleSize=i}aboutEquals(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,i){const o=(this.getX()+r)/2,s=(this.getY()+t)/2,u=(this.estimatedModuleSize+i)/2;return new Ms(o,s,u)}}class Qa{constructor(t,r,i,o,s,u,c){this.image=t,this.startX=r,this.startY=i,this.width=o,this.height=s,this.moduleSize=u,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,r=this.height,i=this.width,o=t+i,s=this.startY+r/2,u=new Int32Array(3),c=this.image;for(let f=0;f<r;f++){const g=s+(f&1?-Math.floor((f+1)/2):Math.floor((f+1)/2));u[0]=0,u[1]=0,u[2]=0;let m=t;for(;m<o&&!c.get(m,g);)m++;let y=0;for(;m<o;){if(c.get(m,g))if(y===1)u[1]++;else if(y===2){if(this.foundPatternCross(u)){const S=this.handlePossibleCenter(u,g,m);if(S!==null)return S}u[0]=u[2],u[1]=1,u[2]=0,y=1}else u[++y]++;else y===1&&y++,u[y]++;m++}if(this.foundPatternCross(u)){const S=this.handlePossibleCenter(u,g,o);if(S!==null)return S}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new F}static centerFromEnd(t,r){return r-t[2]-t[1]/2}foundPatternCross(t){const r=this.moduleSize,i=r/2;for(let o=0;o<3;o++)if(Math.abs(r-t[o])>=i)return!1;return!0}crossCheckVertical(t,r,i,o){const s=this.image,u=s.getHeight(),c=this.crossCheckStateCount;c[0]=0,c[1]=0,c[2]=0;let f=t;for(;f>=0&&s.get(r,f)&&c[1]<=i;)c[1]++,f--;if(f<0||c[1]>i)return NaN;for(;f>=0&&!s.get(r,f)&&c[0]<=i;)c[0]++,f--;if(c[0]>i)return NaN;for(f=t+1;f<u&&s.get(r,f)&&c[1]<=i;)c[1]++,f++;if(f===u||c[1]>i)return NaN;for(;f<u&&!s.get(r,f)&&c[2]<=i;)c[2]++,f++;if(c[2]>i)return NaN;const g=c[0]+c[1]+c[2];return 5*Math.abs(g-o)>=2*o?NaN:this.foundPatternCross(c)?Qa.centerFromEnd(c,f):NaN}handlePossibleCenter(t,r,i){const o=t[0]+t[1]+t[2],s=Qa.centerFromEnd(t,i),u=this.crossCheckVertical(r,s,2*t[1],o);if(!isNaN(u)){const c=(t[0]+t[1]+t[2])/3;for(const g of this.possibleCenters)if(g.aboutEquals(c,u,s))return g.combineEstimate(u,s,c);const f=new Ms(s,u,c);this.possibleCenters.push(f),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(f)}return null}}class Rs extends ae{constructor(t,r,i,o){super(t,r),this.estimatedModuleSize=i,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,r,i){const o=this.count+1,s=(this.count*this.getX()+r)/o,u=(this.count*this.getY()+t)/o,c=(this.count*this.estimatedModuleSize+i)/o;return new Rs(s,u,c,o)}}class T0{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class wt{constructor(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const r=t!=null&&t.get(K.TRY_HARDER)!==void 0,i=t!=null&&t.get(K.PURE_BARCODE)!==void 0,o=this.image,s=o.getHeight(),u=o.getWidth();let c=Math.floor(3*s/(4*wt.MAX_MODULES));(c<wt.MIN_SKIP||r)&&(c=wt.MIN_SKIP);let f=!1;const g=new Int32Array(5);for(let y=c-1;y<s&&!f;y+=c){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;let S=0;for(let b=0;b<u;b++)if(o.get(b,y))(S&1)===1&&S++,g[S]++;else if(S&1)g[S]++;else if(S===4)if(wt.foundPatternCross(g)){if(this.handlePossibleCenter(g,y,b,i)===!0)if(c=2,this.hasSkipped===!0)f=this.haveMultiplyConfirmedCenters();else{const M=this.findRowSkip();M>g[2]&&(y+=M-g[2]-c,b=u-1)}else{g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,S=3;continue}S=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,S=3;else g[++S]++;wt.foundPatternCross(g)&&this.handlePossibleCenter(g,y,u,i)===!0&&(c=g[0],this.hasSkipped&&(f=this.haveMultiplyConfirmedCenters()))}const m=this.selectBestPatterns();return ae.orderBestPatterns(m),new T0(m)}static centerFromEnd(t,r){return r-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let r=0;for(let s=0;s<5;s++){const u=t[s];if(u===0)return!1;r+=u}if(r<7)return!1;const i=r/7,o=i/2;return Math.abs(i-t[0])<o&&Math.abs(i-t[1])<o&&Math.abs(3*i-t[2])<3*o&&Math.abs(i-t[3])<o&&Math.abs(i-t[4])<o}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,r,i,o){const s=this.getCrossCheckStateCount();let u=0;const c=this.image;for(;t>=u&&r>=u&&c.get(r-u,t-u);)s[2]++,u++;if(t<u||r<u)return!1;for(;t>=u&&r>=u&&!c.get(r-u,t-u)&&s[1]<=i;)s[1]++,u++;if(t<u||r<u||s[1]>i)return!1;for(;t>=u&&r>=u&&c.get(r-u,t-u)&&s[0]<=i;)s[0]++,u++;if(s[0]>i)return!1;const f=c.getHeight(),g=c.getWidth();for(u=1;t+u<f&&r+u<g&&c.get(r+u,t+u);)s[2]++,u++;if(t+u>=f||r+u>=g)return!1;for(;t+u<f&&r+u<g&&!c.get(r+u,t+u)&&s[3]<i;)s[3]++,u++;if(t+u>=f||r+u>=g||s[3]>=i)return!1;for(;t+u<f&&r+u<g&&c.get(r+u,t+u)&&s[4]<i;)s[4]++,u++;if(s[4]>=i)return!1;const m=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(m-o)<2*o&&wt.foundPatternCross(s)}crossCheckVertical(t,r,i,o){const s=this.image,u=s.getHeight(),c=this.getCrossCheckStateCount();let f=t;for(;f>=0&&s.get(r,f);)c[2]++,f--;if(f<0)return NaN;for(;f>=0&&!s.get(r,f)&&c[1]<=i;)c[1]++,f--;if(f<0||c[1]>i)return NaN;for(;f>=0&&s.get(r,f)&&c[0]<=i;)c[0]++,f--;if(c[0]>i)return NaN;for(f=t+1;f<u&&s.get(r,f);)c[2]++,f++;if(f===u)return NaN;for(;f<u&&!s.get(r,f)&&c[3]<i;)c[3]++,f++;if(f===u||c[3]>=i)return NaN;for(;f<u&&s.get(r,f)&&c[4]<i;)c[4]++,f++;if(c[4]>=i)return NaN;const g=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(g-o)>=2*o?NaN:wt.foundPatternCross(c)?wt.centerFromEnd(c,f):NaN}crossCheckHorizontal(t,r,i,o){const s=this.image,u=s.getWidth(),c=this.getCrossCheckStateCount();let f=t;for(;f>=0&&s.get(f,r);)c[2]++,f--;if(f<0)return NaN;for(;f>=0&&!s.get(f,r)&&c[1]<=i;)c[1]++,f--;if(f<0||c[1]>i)return NaN;for(;f>=0&&s.get(f,r)&&c[0]<=i;)c[0]++,f--;if(c[0]>i)return NaN;for(f=t+1;f<u&&s.get(f,r);)c[2]++,f++;if(f===u)return NaN;for(;f<u&&!s.get(f,r)&&c[3]<i;)c[3]++,f++;if(f===u||c[3]>=i)return NaN;for(;f<u&&s.get(f,r)&&c[4]<i;)c[4]++,f++;if(c[4]>=i)return NaN;const g=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(g-o)>=o?NaN:wt.foundPatternCross(c)?wt.centerFromEnd(c,f):NaN}handlePossibleCenter(t,r,i,o){const s=t[0]+t[1]+t[2]+t[3]+t[4];let u=wt.centerFromEnd(t,i),c=this.crossCheckVertical(r,Math.floor(u),t[2],s);if(!isNaN(c)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(c),t[2],s),!isNaN(u)&&(!o||this.crossCheckDiagonal(Math.floor(c),Math.floor(u),t[2],s)))){const f=s/7;let g=!1;const m=this.possibleCenters;for(let y=0,S=m.length;y<S;y++){const b=m[y];if(b.aboutEquals(f,c,u)){m[y]=b.combineEstimate(c,u,f),g=!0;break}}if(!g){const y=new Rs(u,c,f);m.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let t=null;for(const r of this.possibleCenters)if(r.getCount()>=wt.CENTER_QUORUM)if(t==null)t=r;else return this.hasSkipped=!0,Math.floor((Math.abs(t.getX()-r.getX())-Math.abs(t.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,r=0;const i=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=wt.CENTER_QUORUM&&(t++,r+=u.getEstimatedModuleSize());if(t<3)return!1;const o=r/i;let s=0;for(const u of this.possibleCenters)s+=Math.abs(u.getEstimatedModuleSize()-o);return s<=.05*r}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new F;const r=this.possibleCenters;let i;if(t>3){let o=0,s=0;for(const f of this.possibleCenters){const g=f.getEstimatedModuleSize();o+=g,s+=g*g}i=o/t;let u=Math.sqrt(s/t-i*i);r.sort((f,g)=>{const m=Math.abs(g.getEstimatedModuleSize()-i),y=Math.abs(f.getEstimatedModuleSize()-i);return m<y?-1:m>y?1:0});const c=Math.max(.2*i,u);for(let f=0;f<r.length&&r.length>3;f++){const g=r[f];Math.abs(g.getEstimatedModuleSize()-i)>c&&(r.splice(f,1),f--)}}if(r.length>3){let o=0;for(const s of r)o+=s.getEstimatedModuleSize();i=o/r.length,r.sort((s,u)=>{if(u.getCount()===s.getCount()){const c=Math.abs(u.getEstimatedModuleSize()-i),f=Math.abs(s.getEstimatedModuleSize()-i);return c<f?1:c>f?-1:0}else return u.getCount()-s.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}wt.CENTER_QUORUM=2,wt.MIN_SKIP=3,wt.MAX_MODULES=57;class ji{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(K.NEED_RESULT_POINT_CALLBACK);const r=new wt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(r)}processFinderPatternInfo(t){const r=t.getTopLeft(),i=t.getTopRight(),o=t.getBottomLeft(),s=this.calculateModuleSize(r,i,o);if(s<1)throw new F("No pattern found in proccess finder.");const u=ji.computeDimension(r,i,o,s),c=se.getProvisionalVersionForDimension(u),f=c.getDimensionForVersion()-7;let g=null;if(c.getAlignmentPatternCenters().length>0){const b=i.getX()-r.getX()+o.getX(),M=i.getY()-r.getY()+o.getY(),_=1-3/f,P=Math.floor(r.getX()+_*(b-r.getX())),L=Math.floor(r.getY()+_*(M-r.getY()));for(let Z=4;Z<=16;Z<<=1)try{g=this.findAlignmentInRegion(s,P,L,Z);break}catch(Q){if(!(Q instanceof F))throw Q}}const m=ji.createTransform(r,i,o,g,u),y=ji.sampleGrid(this.image,m,u);let S;return g===null?S=[o,r,i]:S=[o,r,i,g],new ja(y,S)}static createTransform(t,r,i,o,s){const u=s-3.5;let c,f,g,m;return o!==null?(c=o.getX(),f=o.getY(),g=u-3,m=g):(c=r.getX()-t.getX()+i.getX(),f=r.getY()-t.getY()+i.getY(),g=u,m=u),yn.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,g,m,3.5,u,t.getX(),t.getY(),r.getX(),r.getY(),c,f,i.getX(),i.getY())}static sampleGrid(t,r,i){return rr.getInstance().sampleGridWithTransform(t,i,i,r)}static computeDimension(t,r,i,o){const s=be.round(ae.distance(t,r)/o),u=be.round(ae.distance(t,i)/o);let c=Math.floor((s+u)/2)+7;switch(c&3){case 0:c++;break;case 2:c--;break;case 3:throw new F("Dimensions could be not found.")}return c}calculateModuleSize(t,r,i){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,i))/2}calculateModuleSizeOneWay(t,r){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(i)?o/7:isNaN(o)?i/7:(i+o)/14}sizeOfBlackWhiteBlackRunBothWays(t,r,i,o){let s=this.sizeOfBlackWhiteBlackRun(t,r,i,o),u=1,c=t-(i-t);c<0?(u=t/(t-c),c=0):c>=this.image.getWidth()&&(u=(this.image.getWidth()-1-t)/(c-t),c=this.image.getWidth()-1);let f=Math.floor(r-(o-r)*u);return u=1,f<0?(u=r/(r-f),f=0):f>=this.image.getHeight()&&(u=(this.image.getHeight()-1-r)/(f-r),f=this.image.getHeight()-1),c=Math.floor(t+(c-t)*u),s+=this.sizeOfBlackWhiteBlackRun(t,r,c,f),s-1}sizeOfBlackWhiteBlackRun(t,r,i,o){const s=Math.abs(o-r)>Math.abs(i-t);if(s){let b=t;t=r,r=b,b=i,i=o,o=b}const u=Math.abs(i-t),c=Math.abs(o-r);let f=-u/2;const g=t<i?1:-1,m=r<o?1:-1;let y=0;const S=i+g;for(let b=t,M=r;b!==S;b+=g){const _=s?M:b,P=s?b:M;if(y===1===this.image.get(_,P)){if(y===2)return be.distance(b,M,t,r);y++}if(f+=c,f>0){if(M===o)break;M+=m,f-=u}}return y===2?be.distance(i+g,o,t,r):NaN}findAlignmentInRegion(t,r,i,o){const s=Math.floor(o*t),u=Math.max(0,r-s),c=Math.min(this.image.getWidth()-1,r+s);if(c-u<t*3)throw new F("Alignment top exceeds estimated module size.");const f=Math.max(0,i-s),g=Math.min(this.image.getHeight()-1,i+s);if(g-f<t*3)throw new F("Alignment bottom exceeds estimated module size.");return new Qa(this.image,u,f,c-u,g-f,t,this.resultPointCallback).find()}}class sr{constructor(){this.decoder=new b0}getDecoder(){return this.decoder}decode(t,r){let i,o;if(r!=null&&r.get(K.PURE_BARCODE)!==void 0){const f=sr.extractPureBits(t.getBlackMatrix());i=this.decoder.decodeBitMatrix(f,r),o=sr.NO_POINTS}else{const f=new ji(t.getBlackMatrix()).detect(r);i=this.decoder.decodeBitMatrix(f.getBits(),r),o=f.getPoints()}i.getOther()instanceof lc&&i.getOther().applyMirroredCorrection(o);const s=new Qe(i.getText(),i.getRawBytes(),void 0,o,oe.QR_CODE,void 0),u=i.getByteSegments();u!==null&&s.putMetadata(pt.BYTE_SEGMENTS,u);const c=i.getECLevel();return c!==null&&s.putMetadata(pt.ERROR_CORRECTION_LEVEL,c),i.hasStructuredAppend()&&(s.putMetadata(pt.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),s.putMetadata(pt.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),s}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(r===null||i===null)throw new F;const o=this.moduleSize(r,t);let s=r[1],u=i[1],c=r[0],f=i[0];if(c>=f||s>=u)throw new F;if(u-s!==f-c&&(f=c+(u-s),f>=t.getWidth()))throw new F;const g=Math.round((f-c+1)/o),m=Math.round((u-s+1)/o);if(g<=0||m<=0)throw new F;if(m!==g)throw new F;const y=Math.floor(o/2);s+=y,c+=y;const S=c+Math.floor((g-1)*o)-f;if(S>0){if(S>y)throw new F;c-=S}const b=s+Math.floor((m-1)*o)-u;if(b>0){if(b>y)throw new F;s-=b}const M=new at(g,m);for(let _=0;_<m;_++){const P=s+Math.floor(_*o);for(let L=0;L<g;L++)t.get(c+Math.floor(L*o),P)&&M.set(L,_)}return M}static moduleSize(t,r){const i=r.getHeight(),o=r.getWidth();let s=t[0],u=t[1],c=!0,f=0;for(;s<o&&u<i;){if(c!==r.get(s,u)){if(++f===5)break;c=!c}s++,u++}if(s===o||u===i)throw new F;return(s-t[0])/7}}sr.NO_POINTS=new Array;class he{PDF417Common(){}static getBitCountSum(t){return be.sum(t)}static toIntArray(t){if(t==null||!t.length)return he.EMPTY_INT_ARRAY;const r=new Int32Array(t.length);let i=0;for(const o of t)r[i++]=o;return r}static getCodeword(t){const r=N.binarySearch(he.SYMBOL_TABLE,t&262143);return r<0?-1:(he.CODEWORD_TABLE[r]-1)%he.NUMBER_OF_CODEWORDS}}he.NUMBER_OF_CODEWORDS=929,he.MAX_CODEWORDS_IN_BARCODE=he.NUMBER_OF_CODEWORDS-1,he.MIN_ROWS_IN_BARCODE=3,he.MAX_ROWS_IN_BARCODE=90,he.MODULES_IN_CODEWORD=17,he.MODULES_IN_STOP_PATTERN=18,he.BARS_IN_MODULE=8,he.EMPTY_INT_ARRAY=new Int32Array([]),he.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),he.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class v0{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class we{static detectMultiple(t,r,i){let o=t.getBlackMatrix(),s=we.detect(i,o);return s.length||(o=o.clone(),o.rotate180(),s=we.detect(i,o)),new v0(o,s)}static detect(t,r){const i=new Array;let o=0,s=0,u=!1;for(;o<r.getHeight();){const c=we.findVertices(r,o,s);if(c[0]==null&&c[3]==null){if(!u)break;u=!1,s=0;for(const f of i)f[1]!=null&&(o=Math.trunc(Math.max(o,f[1].getY()))),f[3]!=null&&(o=Math.max(o,Math.trunc(f[3].getY())));o+=we.ROW_STEP;continue}if(u=!0,i.push(c),!t)break;c[2]!=null?(s=Math.trunc(c[2].getX()),o=Math.trunc(c[2].getY())):(s=Math.trunc(c[4].getX()),o=Math.trunc(c[4].getY()))}return i}static findVertices(t,r,i){const o=t.getHeight(),s=t.getWidth(),u=new Array(8);return we.copyToResult(u,we.findRowsWithPattern(t,o,s,r,i,we.START_PATTERN),we.INDEXES_START_PATTERN),u[4]!=null&&(i=Math.trunc(u[4].getX()),r=Math.trunc(u[4].getY())),we.copyToResult(u,we.findRowsWithPattern(t,o,s,r,i,we.STOP_PATTERN),we.INDEXES_STOP_PATTERN),u}static copyToResult(t,r,i){for(let o=0;o<i.length;o++)t[i[o]]=r[o]}static findRowsWithPattern(t,r,i,o,s,u){const c=new Array(4);let f=!1;const g=new Int32Array(u.length);for(;o<r;o+=we.ROW_STEP){let y=we.findGuardPattern(t,s,o,i,!1,u,g);if(y!=null){for(;o>0;){const S=we.findGuardPattern(t,s,--o,i,!1,u,g);if(S!=null)y=S;else{o++;break}}c[0]=new ae(y[0],o),c[1]=new ae(y[1],o),f=!0;break}}let m=o+1;if(f){let y=0,S=Int32Array.from([Math.trunc(c[0].getX()),Math.trunc(c[1].getX())]);for(;m<r;m++){const b=we.findGuardPattern(t,S[0],m,i,!1,u,g);if(b!=null&&Math.abs(S[0]-b[0])<we.MAX_PATTERN_DRIFT&&Math.abs(S[1]-b[1])<we.MAX_PATTERN_DRIFT)S=b,y=0;else{if(y>we.SKIPPED_ROW_COUNT_MAX)break;y++}}m-=y+1,c[2]=new ae(S[0],m),c[3]=new ae(S[1],m)}return m-o<we.BARCODE_MIN_HEIGHT&&N.fill(c,null),c}static findGuardPattern(t,r,i,o,s,u,c){N.fillWithin(c,0,c.length,0);let f=r,g=0;for(;t.get(f,i)&&f>0&&g++<we.MAX_PIXEL_DRIFT;)f--;let m=f,y=0,S=u.length;for(let b=s;m<o;m++)if(t.get(m,i)!==b)c[y]++;else{if(y===S-1){if(we.patternMatchVariance(c,u,we.MAX_INDIVIDUAL_VARIANCE)<we.MAX_AVG_VARIANCE)return new Int32Array([f,m]);f+=c[0]+c[1],V.arraycopy(c,2,c,0,y-1),c[y-1]=0,c[y]=0,y--}else y++;c[y]=1,b=!b}return y===S-1&&we.patternMatchVariance(c,u,we.MAX_INDIVIDUAL_VARIANCE)<we.MAX_AVG_VARIANCE?new Int32Array([f,m-1]):null}static patternMatchVariance(t,r,i){let o=t.length,s=0,u=0;for(let g=0;g<o;g++)s+=t[g],u+=r[g];if(s<u)return 1/0;let c=s/u;i*=c;let f=0;for(let g=0;g<o;g++){let m=t[g],y=r[g]*c,S=m>y?m-y:y-m;if(S>i)return 1/0;f+=S}return f/s}}we.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),we.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),we.MAX_AVG_VARIANCE=.42,we.MAX_INDIVIDUAL_VARIANCE=.8,we.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),we.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),we.MAX_PIXEL_DRIFT=3,we.MAX_PATTERN_DRIFT=5,we.SKIPPED_ROW_COUNT_MAX=25,we.ROW_STEP=5,we.BARCODE_MIN_HEIGHT=10;class At{constructor(t,r){if(r.length===0)throw new T;this.field=t;let i=r.length;if(i>1&&r[0]===0){let o=1;for(;o<i&&r[o]===0;)o++;o===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-o),V.arraycopy(r,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let o=0;for(let s of this.coefficients)o=this.field.add(o,s);return o}let r=this.coefficients[0],i=this.coefficients.length;for(let o=1;o<i;o++)r=this.field.add(this.field.multiply(t,r),this.coefficients[o]);return r}add(t){if(!this.field.equals(t.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,i=t.coefficients;if(r.length>i.length){let u=r;r=i,i=u}let o=new Int32Array(i.length),s=i.length-r.length;V.arraycopy(i,0,o,0,s);for(let u=s;u<i.length;u++)o[u]=this.field.add(r[u-s],i[u]);return new At(this.field,o)}subtract(t){if(!this.field.equals(t.field))throw new T("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof At?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new At(this.field,new Int32Array([0]));let r=this.coefficients,i=r.length,o=t.coefficients,s=o.length,u=new Int32Array(i+s-1);for(let c=0;c<i;c++){let f=r[c];for(let g=0;g<s;g++)u[c+g]=this.field.add(u[c+g],this.field.multiply(f,o[g]))}return new At(this.field,u)}negative(){let t=this.coefficients.length,r=new Int32Array(t);for(let i=0;i<t;i++)r[i]=this.field.subtract(0,this.coefficients[i]);return new At(this.field,r)}multiplyScalar(t){if(t===0)return new At(this.field,new Int32Array([0]));if(t===1)return this;let r=this.coefficients.length,i=new Int32Array(r);for(let o=0;o<r;o++)i[o]=this.field.multiply(this.coefficients[o],t);return new At(this.field,i)}multiplyByMonomial(t,r){if(t<0)throw new T;if(r===0)return new At(this.field,new Int32Array([0]));let i=this.coefficients.length,o=new Int32Array(i+t);for(let s=0;s<i;s++)o[s]=this.field.multiply(this.coefficients[s],r);return new At(this.field,o)}toString(){let t=new Se;for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);i!==0&&(i<0?(t.append(" - "),i=-i):t.length()>0&&t.append(" + "),(r===0||i!==1)&&t.append(i),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()}}class N0{add(t,r){return(t+r)%this.modulus}subtract(t,r){return(this.modulus+t-r)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new T;return this.logTable[t]}inverse(t){if(t===0)throw new Ha;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Ds extends N0{constructor(t,r){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let i=1;for(let o=0;o<t;o++)this.expTable[o]=i,i=i*r%t;for(let o=0;o<t-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new At(this,new Int32Array([0])),this.one=new At(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new T;if(r===0)return this.zero;let i=new Int32Array(t+1);return i[0]=r,new At(this,i)}}Ds.PDF417_GF=new Ds(he.NUMBER_OF_CODEWORDS,3);class uc{constructor(){this.field=Ds.PDF417_GF}decode(t,r,i){let o=new At(this.field,t),s=new Int32Array(r),u=!1;for(let M=r;M>0;M--){let _=o.evaluateAt(this.field.exp(M));s[r-M]=_,_!==0&&(u=!0)}if(!u)return 0;let c=this.field.getOne();if(i!=null)for(const M of i){let _=this.field.exp(t.length-1-M),P=new At(this.field,new Int32Array([this.field.subtract(0,_),1]));c=c.multiply(P)}let f=new At(this.field,s),g=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),f,r),m=g[0],y=g[1],S=this.findErrorLocations(m),b=this.findErrorMagnitudes(y,m,S);for(let M=0;M<S.length;M++){let _=t.length-1-this.field.log(S[M]);if(_<0)throw z.getChecksumInstance();t[_]=this.field.subtract(t[_],b[M])}return S.length}runEuclideanAlgorithm(t,r,i){if(t.getDegree()<r.getDegree()){let S=t;t=r,r=S}let o=t,s=r,u=this.field.getZero(),c=this.field.getOne();for(;s.getDegree()>=Math.round(i/2);){let S=o,b=u;if(o=s,u=c,o.isZero())throw z.getChecksumInstance();s=S;let M=this.field.getZero(),_=o.getCoefficient(o.getDegree()),P=this.field.inverse(_);for(;s.getDegree()>=o.getDegree()&&!s.isZero();){let L=s.getDegree()-o.getDegree(),Z=this.field.multiply(s.getCoefficient(s.getDegree()),P);M=M.add(this.field.buildMonomial(L,Z)),s=s.subtract(o.multiplyByMonomial(L,Z))}c=M.multiply(u).subtract(b).negative()}let f=c.getCoefficient(0);if(f===0)throw z.getChecksumInstance();let g=this.field.inverse(f),m=c.multiply(g),y=s.multiply(g);return[m,y]}findErrorLocations(t){let r=t.getDegree(),i=new Int32Array(r),o=0;for(let s=1;s<this.field.getSize()&&o<r;s++)t.evaluateAt(s)===0&&(i[o]=this.field.inverse(s),o++);if(o!==r)throw z.getChecksumInstance();return i}findErrorMagnitudes(t,r,i){let o=r.getDegree(),s=new Int32Array(o);for(let g=1;g<=o;g++)s[o-g]=this.field.multiply(g,r.getCoefficient(g));let u=new At(this.field,s),c=i.length,f=new Int32Array(c);for(let g=0;g<c;g++){let m=this.field.inverse(i[g]),y=this.field.subtract(0,t.evaluateAt(m)),S=this.field.inverse(u.evaluateAt(m));f[g]=this.field.multiply(y,S)}return f}}class Lr{constructor(t,r,i,o,s){t instanceof Lr?this.constructor_2(t):this.constructor_1(t,r,i,o,s)}constructor_1(t,r,i,o,s){const u=r==null||i==null,c=o==null||s==null;if(u&&c)throw new F;u?(r=new ae(0,o.getY()),i=new ae(0,s.getY())):c&&(o=new ae(t.getWidth()-1,r.getY()),s=new ae(t.getWidth()-1,i.getY())),this.image=t,this.topLeft=r,this.bottomLeft=i,this.topRight=o,this.bottomRight=s,this.minX=Math.trunc(Math.min(r.getX(),i.getX())),this.maxX=Math.trunc(Math.max(o.getX(),s.getX())),this.minY=Math.trunc(Math.min(r.getY(),o.getY())),this.maxY=Math.trunc(Math.max(i.getY(),s.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,r){return t==null?r:r==null?t:new Lr(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(t,r,i){let o=this.topLeft,s=this.bottomLeft,u=this.topRight,c=this.bottomRight;if(t>0){let f=i?this.topLeft:this.topRight,g=Math.trunc(f.getY()-t);g<0&&(g=0);let m=new ae(f.getX(),g);i?o=m:u=m}if(r>0){let f=i?this.bottomLeft:this.bottomRight,g=Math.trunc(f.getY()+r);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let m=new ae(f.getX(),g);i?s=m:c=m}return new Lr(this.image,o,s,u,c)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class M0{constructor(t,r,i,o){this.columnCount=t,this.errorCorrectionLevel=o,this.rowCountUpperPart=r,this.rowCountLowerPart=i,this.rowCount=r+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Wi{constructor(){this.buffer=""}static form(t,r){let i=-1;function o(u,c,f,g,m,y){if(u==="%%")return"%";if(r[++i]===void 0)return;u=g?parseInt(g.substr(1)):void 0;let S=m?parseInt(m.substr(1)):void 0,b;switch(y){case"s":b=r[i];break;case"c":b=r[i][0];break;case"f":b=parseFloat(r[i]).toFixed(u);break;case"p":b=parseFloat(r[i]).toPrecision(u);break;case"e":b=parseFloat(r[i]).toExponential(u);break;case"x":b=parseInt(r[i]).toString(S||16);break;case"d":b=parseFloat(parseInt(r[i],S||10).toPrecision(u)).toFixed(0);break}b=typeof b=="object"?JSON.stringify(b):(+b).toString(S);let M=parseInt(f),_=f&&f[0]+""=="0"?"0":" ";for(;b.length<M;)b=c!==void 0?b+_:_+b;return b}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,o)}format(t,...r){this.buffer+=Wi.form(t,r)}toString(){return this.buffer}}class Yi{constructor(t){this.boundingBox=new Lr(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let r=this.getCodeword(t);if(r!=null)return r;for(let i=1;i<Yi.MAX_NEARBY_DISTANCE;i++){let o=this.imageRowToCodewordIndex(t)-i;if(o>=0&&(r=this.codewords[o],r!=null)||(o=this.imageRowToCodewordIndex(t)+i,o<this.codewords.length&&(r=this.codewords[o],r!=null)))return r}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Wi;let r=0;for(const i of this.codewords){if(i==null){t.format("%3d:    |   %n",r++);continue}t.format("%3d: %3d|%3d%n",r++,i.getRowNumber(),i.getValue())}return t.toString()}}Yi.MAX_NEARBY_DISTANCE=5;class Gi{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)}getValue(){let t=-1,r=new Array;for(const[i,o]of this.values.entries()){const s={getKey:()=>i,getValue:()=>o};s.getValue()>t?(t=s.getValue(),r=[],r.push(s.getKey())):s.getValue()===t&&r.push(s.getKey())}return he.toIntArray(r)}getConfidence(t){return this.values.get(t)}}class cc extends Yi{constructor(t,r){super(t),this._isLeft=r}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),s=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),f=-1,g=1,m=0;for(let y=u;y<c;y++){if(r[y]==null)continue;let S=r[y],b=S.getRowNumber()-f;if(b===0)m++;else if(b===1)g=Math.max(g,m),m=1,f=S.getRowNumber();else if(b<0||S.getRowNumber()>=t.getRowCount()||b>y)r[y]=null;else{let M;g>2?M=(g-2)*b:M=b;let _=M>=y;for(let P=1;P<=M&&!_;P++)_=r[y-P]!=null;_?r[y]=null:(f=S.getRowNumber(),m=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let r=new Int32Array(t.getRowCount());for(let i of this.getCodewords())if(i!=null){let o=i.getRowNumber();if(o>=r.length)continue;r[o]++}return r}adjustIncompleteIndicatorColumnRowNumbers(t){let r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),o=this._isLeft?r.getBottomLeft():r.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),c=this.getCodewords(),f=-1;for(let g=s;g<u;g++){if(c[g]==null)continue;let m=c[g];m.setRowNumberAsRowIndicatorColumn();let y=m.getRowNumber()-f;y===0||(y===1?f=m.getRowNumber():m.getRowNumber()>=t.getRowCount()?c[g]=null:f=m.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),r=new Gi,i=new Gi,o=new Gi,s=new Gi;for(let c of t){if(c==null)continue;c.setRowNumberAsRowIndicatorColumn();let f=c.getValue()%30,g=c.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:i.setValue(f*3+1);break;case 1:s.setValue(f/3),o.setValue(f%3);break;case 2:r.setValue(f+1);break}}if(r.getValue().length===0||i.getValue().length===0||o.getValue().length===0||s.getValue().length===0||r.getValue()[0]<1||i.getValue()[0]+o.getValue()[0]<he.MIN_ROWS_IN_BARCODE||i.getValue()[0]+o.getValue()[0]>he.MAX_ROWS_IN_BARCODE)return null;let u=new M0(r.getValue()[0],i.getValue()[0],o.getValue()[0],s.getValue()[0]);return this.removeIncorrectCodewords(t,u),u}removeIncorrectCodewords(t,r){for(let i=0;i<t.length;i++){let o=t[i];if(t[i]==null)continue;let s=o.getValue()%30,u=o.getRowNumber();if(u>r.getRowCount()){t[i]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:s*3+1!==r.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(s/3)!==r.getErrorCorrectionLevel()||s%3!==r.getRowCountLowerPart())&&(t[i]=null);break;case 2:s+1!==r.getColumnCount()&&(t[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Xi{constructor(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=he.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let i=this.detectionResultColumns[r].getCodewords();for(let o=0;o<i.length;o++)i[o]!=null&&(i[o].hasValidRowNumber()||this.adjustRowNumbers(r,o,i))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<t.length;i++)if(t[i]!=null&&r[i]!=null&&t[i].getRowNumber()===r[i].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let s=this.detectionResultColumns[o].getCodewords()[i];s!=null&&(s.setRowNumber(t[i].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let o=r[i].getRowNumber(),s=0;for(let u=this.barcodeColumnCount+1;u>0&&s<this.ADJUST_ROW_NUMBER_SKIP;u--){let c=this.detectionResultColumns[u].getCodewords()[i];c!=null&&(s=Xi.adjustRowNumberIfValid(o,s,c),c.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,r=this.detectionResultColumns[0].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let o=r[i].getRowNumber(),s=0;for(let u=1;u<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;u++){let c=this.detectionResultColumns[u].getCodewords()[i];c!=null&&(s=Xi.adjustRowNumberIfValid(o,s,c),c.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,r,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(t)?(i.setRowNumber(t),r=0):++r),r}adjustRowNumbers(t,r,i){if(!this.detectionResultColumns[t-1])return;let o=i[r],s=this.detectionResultColumns[t-1].getCodewords(),u=s;this.detectionResultColumns[t+1]!=null&&(u=this.detectionResultColumns[t+1].getCodewords());let c=new Array(14);c[2]=s[r],c[3]=u[r],r>0&&(c[0]=i[r-1],c[4]=s[r-1],c[5]=u[r-1]),r>1&&(c[8]=i[r-2],c[10]=s[r-2],c[11]=u[r-2]),r<i.length-1&&(c[1]=i[r+1],c[6]=s[r+1],c[7]=u[r+1]),r<i.length-2&&(c[9]=i[r+2],c[12]=s[r+2],c[13]=u[r+2]);for(let f of c)if(Xi.adjustRowNumber(o,f))return}static adjustRowNumber(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,r){this.detectionResultColumns[t]=r}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new Wi;for(let i=0;i<t.getCodewords().length;i++){r.format("CW %3d:",i);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){r.format("    |   ");continue}let s=this.detectionResultColumns[o].getCodewords()[i];if(s==null){r.format("    |   ");continue}r.format(" %3d|%3d",s.getRowNumber(),s.getValue())}r.format("%n")}return r.toString()}}class Qi{constructor(t,r,i,o){this.rowNumber=Qi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(i),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Qi.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Qi.BARCODE_ROW_UNKNOWN=-1;class Vt{static initialize(){for(let t=0;t<he.SYMBOL_TABLE.length;t++){let r=he.SYMBOL_TABLE[t],i=r&1;for(let o=0;o<he.BARS_IN_MODULE;o++){let s=0;for(;(r&1)===i;)s+=1,r>>=1;i=r&1,Vt.RATIOS_TABLE[t]||(Vt.RATIOS_TABLE[t]=new Array(he.BARS_IN_MODULE)),Vt.RATIOS_TABLE[t][he.BARS_IN_MODULE-o-1]=Math.fround(s/he.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let r=Vt.getDecodedCodewordValue(Vt.sampleBitCounts(t));return r!==-1?r:Vt.getClosestDecodedValue(t)}static sampleBitCounts(t){let r=be.sum(t),i=new Int32Array(he.BARS_IN_MODULE),o=0,s=0;for(let u=0;u<he.MODULES_IN_CODEWORD;u++){let c=r/(2*he.MODULES_IN_CODEWORD)+u*r/he.MODULES_IN_CODEWORD;s+t[o]<=c&&(s+=t[o],o++),i[o]++}return i}static getDecodedCodewordValue(t){let r=Vt.getBitValue(t);return he.getCodeword(r)===-1?-1:r}static getBitValue(t){let r=0;for(let i=0;i<t.length;i++)for(let o=0;o<t[i];o++)r=r<<1|(i%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(t){let r=be.sum(t),i=new Array(he.BARS_IN_MODULE);if(r>1)for(let u=0;u<i.length;u++)i[u]=Math.fround(t[u]/r);let o=Va.MAX_VALUE,s=-1;this.bSymbolTableReady||Vt.initialize();for(let u=0;u<Vt.RATIOS_TABLE.length;u++){let c=0,f=Vt.RATIOS_TABLE[u];for(let g=0;g<he.BARS_IN_MODULE;g++){let m=Math.fround(f[g]-i[g]);if(c+=Math.fround(m*m),c>=o)break}c<o&&(o=c,s=he.SYMBOL_TABLE[u])}return s}}Vt.bSymbolTableReady=!1,Vt.RATIOS_TABLE=new Array(he.SYMBOL_TABLE.length).map(C=>new Array(he.BARS_IN_MODULE));class dc{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class hc{static parseLong(t,r=void 0){return parseInt(t,r)}}class fc extends w{}fc.kind="NullPointerException";class R0{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,r,i){if(t==null)throw new fc;if(r<0||r>t.length||i<0||r+i>t.length||r+i<0)throw new re;if(i!==0)for(let o=0;o<i;o++)this.write(t[r+o])}flush(){}close(){}}class D0 extends w{}class _0 extends R0{constructor(t=32){if(super(),this.count=0,t<0)throw new T("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let r=this.buf.length<<1;if(r-t<0&&(r=t),r<0){if(t<0)throw new D0;r=R.MAX_VALUE}this.buf=N.copyOfUint8Array(this.buf,r)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,r,i){if(r<0||r>t.length||i<0||r+i-t.length>0)throw new re;this.ensureCapacity(this.count+i),V.arraycopy(t,r,this.buf,this.count,i),this.count+=i}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return N.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var ke;(function(C){C[C.ALPHA=0]="ALPHA",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.PUNCT=3]="PUNCT",C[C.ALPHA_SHIFT=4]="ALPHA_SHIFT",C[C.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ke||(ke={}));function gc(){if(typeof window<"u")return window.BigInt||null;if(typeof qi<"u")return qi.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Za;function lr(C){if(typeof Za>"u"&&(Za=gc()),Za===null)throw new Error("BigInt is not supported!");return Za(C)}function O0(){let C=[];C[0]=lr(1);let t=lr(900);C[1]=t;for(let r=2;r<16;r++)C[r]=C[r-1]*t;return C}class x{static decode(t,r){let i=new Se(""),o=j.ISO8859_1;i.enableDecoding(o);let s=1,u=t[s++],c=new dc;for(;s<t[0];){switch(u){case x.TEXT_COMPACTION_MODE_LATCH:s=x.textCompaction(t,s,i);break;case x.BYTE_COMPACTION_MODE_LATCH:case x.BYTE_COMPACTION_MODE_LATCH_6:s=x.byteCompaction(u,t,o,s,i);break;case x.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[s++]);break;case x.NUMERIC_COMPACTION_MODE_LATCH:s=x.numericCompaction(t,s,i);break;case x.ECI_CHARSET:j.getCharacterSetECIByValue(t[s++]);break;case x.ECI_GENERAL_PURPOSE:s+=2;break;case x.ECI_USER_DEFINED:s++;break;case x.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=x.decodeMacroBlock(t,s,c);break;case x.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case x.MACRO_PDF417_TERMINATOR:throw new B;default:s--,s=x.textCompaction(t,s,i);break}if(s<t.length)u=t[s++];else throw B.getFormatInstance()}if(i.length()===0)throw B.getFormatInstance();let f=new Ui(null,i.toString(),null,r);return f.setOther(c),f}static decodeMacroBlock(t,r,i){if(r+x.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw B.getFormatInstance();let o=new Int32Array(x.NUMBER_OF_SEQUENCE_CODEWORDS);for(let c=0;c<x.NUMBER_OF_SEQUENCE_CODEWORDS;c++,r++)o[c]=t[r];i.setSegmentIndex(R.parseInt(x.decodeBase900toBase10(o,x.NUMBER_OF_SEQUENCE_CODEWORDS)));let s=new Se;r=x.textCompaction(t,r,s),i.setFileId(s.toString());let u=-1;for(t[r]===x.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=r+1);r<t[0];)switch(t[r]){case x.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case x.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let c=new Se;r=x.textCompaction(t,r+1,c),i.setFileName(c.toString());break;case x.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let f=new Se;r=x.textCompaction(t,r+1,f),i.setSender(f.toString());break;case x.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new Se;r=x.textCompaction(t,r+1,g),i.setAddressee(g.toString());break;case x.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let m=new Se;r=x.numericCompaction(t,r+1,m),i.setSegmentCount(R.parseInt(m.toString()));break;case x.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let y=new Se;r=x.numericCompaction(t,r+1,y),i.setTimestamp(hc.parseLong(y.toString()));break;case x.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let S=new Se;r=x.numericCompaction(t,r+1,S),i.setChecksum(R.parseInt(S.toString()));break;case x.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let b=new Se;r=x.numericCompaction(t,r+1,b),i.setFileSize(hc.parseLong(b.toString()));break;default:throw B.getFormatInstance()}break;case x.MACRO_PDF417_TERMINATOR:r++,i.setLastSegment(!0);break;default:throw B.getFormatInstance()}if(u!==-1){let c=r-u;i.isLastSegment()&&c--,i.setOptionalData(N.copyOfRange(t,u,u+c))}return r}static textCompaction(t,r,i){let o=new Int32Array((t[0]-r)*2),s=new Int32Array((t[0]-r)*2),u=0,c=!1;for(;r<t[0]&&!c;){let f=t[r++];if(f<x.TEXT_COMPACTION_MODE_LATCH)o[u]=f/30,o[u+1]=f%30,u+=2;else switch(f){case x.TEXT_COMPACTION_MODE_LATCH:o[u++]=x.TEXT_COMPACTION_MODE_LATCH;break;case x.BYTE_COMPACTION_MODE_LATCH:case x.BYTE_COMPACTION_MODE_LATCH_6:case x.NUMERIC_COMPACTION_MODE_LATCH:case x.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case x.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case x.MACRO_PDF417_TERMINATOR:r--,c=!0;break;case x.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[u]=x.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,f=t[r++],s[u]=f,u++;break}}return x.decodeTextCompaction(o,s,u,i),r}static decodeTextCompaction(t,r,i,o){let s=ke.ALPHA,u=ke.ALPHA,c=0;for(;c<i;){let f=t[c],g="";switch(s){case ke.ALPHA:if(f<26)g=String.fromCharCode(65+f);else switch(f){case 26:g=" ";break;case x.LL:s=ke.LOWER;break;case x.ML:s=ke.MIXED;break;case x.PS:u=s,s=ke.PUNCT_SHIFT;break;case x.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[c]);break;case x.TEXT_COMPACTION_MODE_LATCH:s=ke.ALPHA;break}break;case ke.LOWER:if(f<26)g=String.fromCharCode(97+f);else switch(f){case 26:g=" ";break;case x.AS:u=s,s=ke.ALPHA_SHIFT;break;case x.ML:s=ke.MIXED;break;case x.PS:u=s,s=ke.PUNCT_SHIFT;break;case x.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[c]);break;case x.TEXT_COMPACTION_MODE_LATCH:s=ke.ALPHA;break}break;case ke.MIXED:if(f<x.PL)g=x.MIXED_CHARS[f];else switch(f){case x.PL:s=ke.PUNCT;break;case 26:g=" ";break;case x.LL:s=ke.LOWER;break;case x.AL:s=ke.ALPHA;break;case x.PS:u=s,s=ke.PUNCT_SHIFT;break;case x.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[c]);break;case x.TEXT_COMPACTION_MODE_LATCH:s=ke.ALPHA;break}break;case ke.PUNCT:if(f<x.PAL)g=x.PUNCT_CHARS[f];else switch(f){case x.PAL:s=ke.ALPHA;break;case x.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[c]);break;case x.TEXT_COMPACTION_MODE_LATCH:s=ke.ALPHA;break}break;case ke.ALPHA_SHIFT:if(s=u,f<26)g=String.fromCharCode(65+f);else switch(f){case 26:g=" ";break;case x.TEXT_COMPACTION_MODE_LATCH:s=ke.ALPHA;break}break;case ke.PUNCT_SHIFT:if(s=u,f<x.PAL)g=x.PUNCT_CHARS[f];else switch(f){case x.PAL:s=ke.ALPHA;break;case x.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[c]);break;case x.TEXT_COMPACTION_MODE_LATCH:s=ke.ALPHA;break}break}g!==""&&o.append(g),c++}}static byteCompaction(t,r,i,o,s){let u=new _0,c=0,f=0,g=!1;switch(t){case x.BYTE_COMPACTION_MODE_LATCH:let m=new Int32Array(6),y=r[o++];for(;o<r[0]&&!g;)switch(m[c++]=y,f=900*f+y,y=r[o++],y){case x.TEXT_COMPACTION_MODE_LATCH:case x.BYTE_COMPACTION_MODE_LATCH:case x.NUMERIC_COMPACTION_MODE_LATCH:case x.BYTE_COMPACTION_MODE_LATCH_6:case x.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case x.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case x.MACRO_PDF417_TERMINATOR:o--,g=!0;break;default:if(c%5===0&&c>0){for(let S=0;S<6;++S)u.write(Number(lr(f)>>lr(8*(5-S))));f=0,c=0}break}o===r[0]&&y<x.TEXT_COMPACTION_MODE_LATCH&&(m[c++]=y);for(let S=0;S<c;S++)u.write(m[S]);break;case x.BYTE_COMPACTION_MODE_LATCH_6:for(;o<r[0]&&!g;){let S=r[o++];if(S<x.TEXT_COMPACTION_MODE_LATCH)c++,f=900*f+S;else switch(S){case x.TEXT_COMPACTION_MODE_LATCH:case x.BYTE_COMPACTION_MODE_LATCH:case x.NUMERIC_COMPACTION_MODE_LATCH:case x.BYTE_COMPACTION_MODE_LATCH_6:case x.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case x.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case x.MACRO_PDF417_TERMINATOR:o--,g=!0;break}if(c%5===0&&c>0){for(let b=0;b<6;++b)u.write(Number(lr(f)>>lr(8*(5-b))));f=0,c=0}}break}return s.append(Be.decode(u.toByteArray(),i)),o}static numericCompaction(t,r,i){let o=0,s=!1,u=new Int32Array(x.MAX_NUMERIC_CODEWORDS);for(;r<t[0]&&!s;){let c=t[r++];if(r===t[0]&&(s=!0),c<x.TEXT_COMPACTION_MODE_LATCH)u[o]=c,o++;else switch(c){case x.TEXT_COMPACTION_MODE_LATCH:case x.BYTE_COMPACTION_MODE_LATCH:case x.BYTE_COMPACTION_MODE_LATCH_6:case x.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case x.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case x.MACRO_PDF417_TERMINATOR:r--,s=!0;break}(o%x.MAX_NUMERIC_CODEWORDS===0||c===x.NUMERIC_COMPACTION_MODE_LATCH||s)&&o>0&&(i.append(x.decodeBase900toBase10(u,o)),o=0)}return r}static decodeBase900toBase10(t,r){let i=lr(0);for(let s=0;s<r;s++)i+=x.EXP900[r-s-1]*lr(t[s]);let o=i.toString();if(o.charAt(0)!=="1")throw new B;return o.substring(1)}}x.TEXT_COMPACTION_MODE_LATCH=900,x.BYTE_COMPACTION_MODE_LATCH=901,x.NUMERIC_COMPACTION_MODE_LATCH=902,x.BYTE_COMPACTION_MODE_LATCH_6=924,x.ECI_USER_DEFINED=925,x.ECI_GENERAL_PURPOSE=926,x.ECI_CHARSET=927,x.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,x.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,x.MACRO_PDF417_TERMINATOR=922,x.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,x.MAX_NUMERIC_CODEWORDS=15,x.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,x.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,x.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,x.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,x.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,x.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,x.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,x.PL=25,x.LL=27,x.AS=27,x.ML=28,x.AL=28,x.PS=29,x.PAL=29,x.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,x.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",x.EXP900=gc()?O0():[],x.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ce{constructor(){}static decode(t,r,i,o,s,u,c){let f=new Lr(t,r,i,o,s),g=null,m=null,y;for(let M=!0;;M=!1){if(r!=null&&(g=Ce.getRowIndicatorColumn(t,f,r,!0,u,c)),o!=null&&(m=Ce.getRowIndicatorColumn(t,f,o,!1,u,c)),y=Ce.merge(g,m),y==null)throw F.getNotFoundInstance();let _=y.getBoundingBox();if(M&&_!=null&&(_.getMinY()<f.getMinY()||_.getMaxY()>f.getMaxY()))f=_;else break}y.setBoundingBox(f);let S=y.getBarcodeColumnCount()+1;y.setDetectionResultColumn(0,g),y.setDetectionResultColumn(S,m);let b=g!=null;for(let M=1;M<=S;M++){let _=b?M:S-M;if(y.getDetectionResultColumn(_)!==void 0)continue;let P;_===0||_===S?P=new cc(f,_===0):P=new Yi(f),y.setDetectionResultColumn(_,P);let L=-1,Z=L;for(let Q=f.getMinY();Q<=f.getMaxY();Q++){if(L=Ce.getStartColumn(y,_,Q,b),L<0||L>f.getMaxX()){if(Z===-1)continue;L=Z}let Y=Ce.detectCodeword(t,f.getMinX(),f.getMaxX(),b,L,Q,u,c);Y!=null&&(P.setCodeword(Q,Y),Z=L,u=Math.min(u,Y.getWidth()),c=Math.max(c,Y.getWidth()))}}return Ce.createDecoderResult(y)}static merge(t,r){if(t==null&&r==null)return null;let i=Ce.getBarcodeMetadata(t,r);if(i==null)return null;let o=Lr.merge(Ce.adjustBoundingBox(t),Ce.adjustBoundingBox(r));return new Xi(i,o)}static adjustBoundingBox(t){if(t==null)return null;let r=t.getRowHeights();if(r==null)return null;let i=Ce.getMax(r),o=0;for(let c of r)if(o+=i-c,c>0)break;let s=t.getCodewords();for(let c=0;o>0&&s[c]==null;c++)o--;let u=0;for(let c=r.length-1;c>=0&&(u+=i-r[c],!(r[c]>0));c--);for(let c=s.length-1;u>0&&s[c]==null;c--)u--;return t.getBoundingBox().addMissingRows(o,u,t.isLeft())}static getMax(t){let r=-1;for(let i of t)r=Math.max(r,i);return r}static getBarcodeMetadata(t,r){let i;if(t==null||(i=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let o;return r==null||(o=r.getBarcodeMetadata())==null?i:i.getColumnCount()!==o.getColumnCount()&&i.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&i.getRowCount()!==o.getRowCount()?null:i}static getRowIndicatorColumn(t,r,i,o,s,u){let c=new cc(r,o);for(let f=0;f<2;f++){let g=f===0?1:-1,m=Math.trunc(Math.trunc(i.getX()));for(let y=Math.trunc(Math.trunc(i.getY()));y<=r.getMaxY()&&y>=r.getMinY();y+=g){let S=Ce.detectCodeword(t,0,t.getWidth(),o,m,y,s,u);S!=null&&(c.setCodeword(y,S),o?m=S.getStartX():m=S.getEndX())}}return c}static adjustCodewordCount(t,r){let i=r[0][1],o=i.getValue(),s=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-Ce.getNumberOfECCodeWords(t.getBarcodeECLevel());if(o.length===0){if(s<1||s>he.MAX_CODEWORDS_IN_BARCODE)throw F.getNotFoundInstance();i.setValue(s)}else o[0]!==s&&i.setValue(s)}static createDecoderResult(t){let r=Ce.createBarcodeMatrix(t);Ce.adjustCodewordCount(t,r);let i=new Array,o=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),s=[],u=new Array;for(let f=0;f<t.getBarcodeRowCount();f++)for(let g=0;g<t.getBarcodeColumnCount();g++){let m=r[f][g+1].getValue(),y=f*t.getBarcodeColumnCount()+g;m.length===0?i.push(y):m.length===1?o[y]=m[0]:(u.push(y),s.push(m))}let c=new Array(s.length);for(let f=0;f<c.length;f++)c[f]=s[f];return Ce.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),o,he.toIntArray(i),he.toIntArray(u),c)}static createDecoderResultFromAmbiguousValues(t,r,i,o,s){let u=new Int32Array(o.length),c=100;for(;c-- >0;){for(let f=0;f<u.length;f++)r[o[f]]=s[f][u[f]];try{return Ce.decodeCodewords(r,t,i)}catch(f){if(!(f instanceof z))throw f}if(u.length===0)throw z.getChecksumInstance();for(let f=0;f<u.length;f++)if(u[f]<s[f].length-1){u[f]++;break}else if(u[f]=0,f===u.length-1)throw z.getChecksumInstance()}throw z.getChecksumInstance()}static createBarcodeMatrix(t){let r=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let o=0;o<r.length;o++)for(let s=0;s<r[o].length;s++)r[o][s]=new Gi;let i=0;for(let o of t.getDetectionResultColumns()){if(o!=null){for(let s of o.getCodewords())if(s!=null){let u=s.getRowNumber();if(u>=0){if(u>=r.length)continue;r[u][i].setValue(s.getValue())}}}i++}return r}static isValidBarcodeColumn(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1}static getStartColumn(t,r,i,o){let s=o?1:-1,u=null;if(Ce.isValidBarcodeColumn(t,r-s)&&(u=t.getDetectionResultColumn(r-s).getCodeword(i)),u!=null)return o?u.getEndX():u.getStartX();if(u=t.getDetectionResultColumn(r).getCodewordNearby(i),u!=null)return o?u.getStartX():u.getEndX();if(Ce.isValidBarcodeColumn(t,r-s)&&(u=t.getDetectionResultColumn(r-s).getCodewordNearby(i)),u!=null)return o?u.getEndX():u.getStartX();let c=0;for(;Ce.isValidBarcodeColumn(t,r-s);){r-=s;for(let f of t.getDetectionResultColumn(r).getCodewords())if(f!=null)return(o?f.getEndX():f.getStartX())+s*c*(f.getEndX()-f.getStartX());c++}return o?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,r,i,o,s,u,c,f){s=Ce.adjustCodewordStartColumn(t,r,i,o,s,u);let g=Ce.getModuleBitCount(t,r,i,o,s,u);if(g==null)return null;let m,y=be.sum(g);if(o)m=s+y;else{for(let M=0;M<g.length/2;M++){let _=g[M];g[M]=g[g.length-1-M],g[g.length-1-M]=_}m=s,s=m-y}if(!Ce.checkCodewordSkew(y,c,f))return null;let S=Vt.getDecodedValue(g),b=he.getCodeword(S);return b===-1?null:new Qi(s,m,Ce.getCodewordBucketNumber(S),b)}static getModuleBitCount(t,r,i,o,s,u){let c=s,f=new Int32Array(8),g=0,m=o?1:-1,y=o;for(;(o?c<i:c>=r)&&g<f.length;)t.get(c,u)===y?(f[g]++,c+=m):(g++,y=!y);return g===f.length||c===(o?i:r)&&g===f.length-1?f:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,r,i,o,s,u){let c=s,f=o?-1:1;for(let g=0;g<2;g++){for(;(o?c>=r:c<i)&&o===t.get(c,u);){if(Math.abs(s-c)>Ce.CODEWORD_SKEW_SIZE)return s;c+=f}f=-f,o=!o}return c}static checkCodewordSkew(t,r,i){return r-Ce.CODEWORD_SKEW_SIZE<=t&&t<=i+Ce.CODEWORD_SKEW_SIZE}static decodeCodewords(t,r,i){if(t.length===0)throw B.getFormatInstance();let o=1<<r+1,s=Ce.correctErrors(t,i,o);Ce.verifyCodewordCount(t,o);let u=x.decode(t,""+r);return u.setErrorsCorrected(s),u.setErasures(i.length),u}static correctErrors(t,r,i){if(r!=null&&r.length>i/2+Ce.MAX_ERRORS||i<0||i>Ce.MAX_EC_CODEWORDS)throw z.getChecksumInstance();return Ce.errorCorrection.decode(t,i,r)}static verifyCodewordCount(t,r){if(t.length<4)throw B.getFormatInstance();let i=t[0];if(i>t.length)throw B.getFormatInstance();if(i===0)if(r<t.length)t[0]=t.length-r;else throw B.getFormatInstance()}static getBitCountForCodeword(t){let r=new Int32Array(8),i=0,o=r.length-1;for(;!((t&1)!==i&&(i=t&1,o--,o<0));)r[o]++,t>>=1;return r}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return Ce.getCodewordBucketNumber(Ce.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let r=new Wi;for(let i=0;i<t.length;i++){r.format("Row %2d: ",i);for(let o=0;o<t[i].length;o++){let s=t[i][o];s.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}r.format("%n")}return r.toString()}}Ce.CODEWORD_SKEW_SIZE=2,Ce.MAX_ERRORS=3,Ce.MAX_EC_CODEWORDS=512,Ce.errorCorrection=new uc;class St{decode(t,r=null){let i=St.decode(t,r,!1);if(i==null||i.length===0||i[0]==null)throw F.getNotFoundInstance();return i[0]}decodeMultiple(t,r=null){try{return St.decode(t,r,!0)}catch(i){throw i instanceof B||i instanceof z?F.getNotFoundInstance():i}}static decode(t,r,i){const o=new Array,s=we.detectMultiple(t,r,i);for(const u of s.getPoints()){const c=Ce.decode(s.getBits(),u[4],u[5],u[6],u[7],St.getMinCodewordWidth(u),St.getMaxCodewordWidth(u)),f=new Qe(c.getText(),c.getRawBytes(),void 0,u,oe.PDF_417);f.putMetadata(pt.ERROR_CORRECTION_LEVEL,c.getECLevel());const g=c.getOther();g!=null&&f.putMetadata(pt.PDF417_EXTRA_METADATA,g),o.push(f)}return o.map(u=>u)}static getMaxWidth(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMinWidth(t,r){return t==null||r==null?R.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(St.getMaxWidth(t[0],t[4]),St.getMaxWidth(t[6],t[2])*he.MODULES_IN_CODEWORD/he.MODULES_IN_STOP_PATTERN),Math.max(St.getMaxWidth(t[1],t[5]),St.getMaxWidth(t[7],t[3])*he.MODULES_IN_CODEWORD/he.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(St.getMinWidth(t[0],t[4]),St.getMinWidth(t[6],t[2])*he.MODULES_IN_CODEWORD/he.MODULES_IN_STOP_PATTERN),Math.min(St.getMinWidth(t[1],t[5]),St.getMinWidth(t[7],t[3])*he.MODULES_IN_CODEWORD/he.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ka extends w{}Ka.kind="ReaderException";class pc{constructor(t,r){this.verbose=t===!0,r&&this.setHints(r)}decode(t,r){return r&&this.setHints(r),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const r=!l(t)&&t.get(K.TRY_HARDER)===!0,i=l(t)?null:t.get(K.POSSIBLE_FORMATS),o=new Array;if(!l(i)){const s=i.some(u=>u===oe.UPC_A||u===oe.UPC_E||u===oe.EAN_13||u===oe.EAN_8||u===oe.CODABAR||u===oe.CODE_39||u===oe.CODE_93||u===oe.CODE_128||u===oe.ITF||u===oe.RSS_14||u===oe.RSS_EXPANDED);s&&!r&&o.push(new ri(t,this.verbose)),i.includes(oe.QR_CODE)&&o.push(new sr),i.includes(oe.DATA_MATRIX)&&o.push(new or),i.includes(oe.AZTEC)&&o.push(new Wa),i.includes(oe.PDF_417)&&o.push(new St),s&&r&&o.push(new ri(t,this.verbose))}o.length===0&&(r||o.push(new ri(t,this.verbose)),o.push(new sr),o.push(new or),o.push(new Wa),o.push(new St),r&&o.push(new ri(t,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new Ka("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(t,this.hints)}catch(i){if(i instanceof Ka)continue}throw new F("No MultiFormat Readers were able to detect the code.")}}class k0 extends sn{constructor(t=null,r=500){const i=new pc;i.setHints(t),super(i,r)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class P0 extends sn{constructor(t=500){super(new St,t)}}class x0 extends sn{constructor(t=500){super(new sr,t)}}var _s;(function(C){C[C.ERROR_CORRECTION=0]="ERROR_CORRECTION",C[C.CHARACTER_SET=1]="CHARACTER_SET",C[C.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",C[C.MIN_SIZE=3]="MIN_SIZE",C[C.MAX_SIZE=4]="MAX_SIZE",C[C.MARGIN=5]="MARGIN",C[C.PDF417_COMPACT=6]="PDF417_COMPACT",C[C.PDF417_COMPACTION=7]="PDF417_COMPACTION",C[C.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",C[C.AZTEC_LAYERS=9]="AZTEC_LAYERS",C[C.QR_VERSION=10]="QR_VERSION"})(_s||(_s={}));var ht=_s;class Os{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new Ut(t,Int32Array.from([1])))}buildGenerator(t){const r=this.cachedGenerators;if(t>=r.length){let i=r[r.length-1];const o=this.field;for(let s=r.length;s<=t;s++){const u=i.multiply(new Ut(o,Int32Array.from([1,o.exp(s-1+o.getGeneratorBase())])));r.push(u),i=u}}return r[t]}encode(t,r){if(r===0)throw new T("No error correction bytes");const i=t.length-r;if(i<=0)throw new T("No data bytes provided");const o=this.buildGenerator(r),s=new Int32Array(i);V.arraycopy(t,0,s,0,i);let u=new Ut(this.field,s);u=u.multiplyByMonomial(r,1);const c=u.divide(o)[1].getCoefficients(),f=r-c.length;for(let g=0;g<f;g++)t[i+g]=0;V.arraycopy(c,0,t,i+f,c.length)}}class nt{constructor(){}static applyMaskPenaltyRule1(t){return nt.applyMaskPenaltyRule1Internal(t,!0)+nt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let r=0;const i=t.getArray(),o=t.getWidth(),s=t.getHeight();for(let u=0;u<s-1;u++){const c=i[u];for(let f=0;f<o-1;f++){const g=c[f];g===c[f+1]&&g===i[u+1][f]&&g===i[u+1][f+1]&&r++}}return nt.N2*r}static applyMaskPenaltyRule3(t){let r=0;const i=t.getArray(),o=t.getWidth(),s=t.getHeight();for(let u=0;u<s;u++)for(let c=0;c<o;c++){const f=i[u];c+6<o&&f[c]===1&&f[c+1]===0&&f[c+2]===1&&f[c+3]===1&&f[c+4]===1&&f[c+5]===0&&f[c+6]===1&&(nt.isWhiteHorizontal(f,c-4,c)||nt.isWhiteHorizontal(f,c+7,c+11))&&r++,u+6<s&&i[u][c]===1&&i[u+1][c]===0&&i[u+2][c]===1&&i[u+3][c]===1&&i[u+4][c]===1&&i[u+5][c]===0&&i[u+6][c]===1&&(nt.isWhiteVertical(i,c,u-4,u)||nt.isWhiteVertical(i,c,u+7,u+11))&&r++}return r*nt.N3}static isWhiteHorizontal(t,r,i){r=Math.max(r,0),i=Math.min(i,t.length);for(let o=r;o<i;o++)if(t[o]===1)return!1;return!0}static isWhiteVertical(t,r,i,o){i=Math.max(i,0),o=Math.min(o,t.length);for(let s=i;s<o;s++)if(t[s][r]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let r=0;const i=t.getArray(),o=t.getWidth(),s=t.getHeight();for(let c=0;c<s;c++){const f=i[c];for(let g=0;g<o;g++)f[g]===1&&r++}const u=t.getHeight()*t.getWidth();return Math.floor(Math.abs(r*2-u)*10/u)*nt.N4}static getDataMaskBit(t,r,i){let o,s;switch(t){case 0:o=i+r&1;break;case 1:o=i&1;break;case 2:o=r%3;break;case 3:o=(i+r)%3;break;case 4:o=Math.floor(i/2)+Math.floor(r/3)&1;break;case 5:s=i*r,o=(s&1)+s%3;break;case 6:s=i*r,o=(s&1)+s%3&1;break;case 7:s=i*r,o=s%3+(i+r&1)&1;break;default:throw new T("Invalid mask pattern: "+t)}return o===0}static applyMaskPenaltyRule1Internal(t,r){let i=0;const o=r?t.getHeight():t.getWidth(),s=r?t.getWidth():t.getHeight(),u=t.getArray();for(let c=0;c<o;c++){let f=0,g=-1;for(let m=0;m<s;m++){const y=r?u[c][m]:u[m][c];y===g?f++:(f>=5&&(i+=nt.N1+(f-5)),f=1,g=y)}f>=5&&(i+=nt.N1+(f-5))}return i}}nt.N1=3,nt.N2=3,nt.N3=40,nt.N4=10;class qa{constructor(t,r){this.width=t,this.height=r;const i=new Array(r);for(let o=0;o!==r;o++)i[o]=new Uint8Array(t);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(t,r){return this.bytes[r][t]}getArray(){return this.bytes}setNumber(t,r,i){this.bytes[r][t]=i}setBoolean(t,r,i){this.bytes[r][t]=i?1:0}clear(t){for(const r of this.bytes)N.fill(r,t)}equals(t){if(!(t instanceof qa))return!1;const r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(let i=0,o=this.height;i<o;++i){const s=this.bytes[i],u=r.bytes[i];for(let c=0,f=this.width;c<f;++c)if(s[c]!==u[c])return!1}return!0}toString(){const t=new Se;for(let r=0,i=this.height;r<i;++r){const o=this.bytes[r];for(let s=0,u=this.width;s<u;++s)switch(o[s]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Br{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Se;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Br.NUM_MASK_PATTERNS}}Br.NUM_MASK_PATTERNS=8;class xe extends w{}xe.kind="WriterException";class ce{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,r,i,o,s){ce.clearMatrix(s),ce.embedBasicPatterns(i,s),ce.embedTypeInfo(r,o,s),ce.maybeEmbedVersionInfo(i,s),ce.embedDataBits(t,o,s)}static embedBasicPatterns(t,r){ce.embedPositionDetectionPatternsAndSeparators(r),ce.embedDarkDotAtLeftBottomCorner(r),ce.maybeEmbedPositionAdjustmentPatterns(t,r),ce.embedTimingPatterns(r)}static embedTypeInfo(t,r,i){const o=new U;ce.makeTypeInfoBits(t,r,o);for(let s=0,u=o.getSize();s<u;++s){const c=o.get(o.getSize()-1-s),f=ce.TYPE_INFO_COORDINATES[s],g=f[0],m=f[1];if(i.setBoolean(g,m,c),s<8){const y=i.getWidth()-s-1,S=8;i.setBoolean(y,S,c)}else{const y=i.getHeight()-7+(s-8);i.setBoolean(8,y,c)}}}static maybeEmbedVersionInfo(t,r){if(t.getVersionNumber()<7)return;const i=new U;ce.makeVersionInfoBits(t,i);let o=6*3-1;for(let s=0;s<6;++s)for(let u=0;u<3;++u){const c=i.get(o);o--,r.setBoolean(s,r.getHeight()-11+u,c),r.setBoolean(r.getHeight()-11+u,s,c)}}static embedDataBits(t,r,i){let o=0,s=-1,u=i.getWidth()-1,c=i.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);c>=0&&c<i.getHeight();){for(let f=0;f<2;++f){const g=u-f;if(!ce.isEmpty(i.get(g,c)))continue;let m;o<t.getSize()?(m=t.get(o),++o):m=!1,r!==255&&nt.getDataMaskBit(r,g,c)&&(m=!m),i.setBoolean(g,c,m)}c+=s}s=-s,c+=s,u-=2}if(o!==t.getSize())throw new xe("Not all bits consumed: "+o+"/"+t.getSize())}static findMSBSet(t){return 32-R.numberOfLeadingZeros(t)}static calculateBCHCode(t,r){if(r===0)throw new T("0 polynomial");const i=ce.findMSBSet(r);for(t<<=i-1;ce.findMSBSet(t)>=i;)t^=r<<ce.findMSBSet(t)-i;return t}static makeTypeInfoBits(t,r,i){if(!Br.isValidMaskPattern(r))throw new xe("Invalid mask pattern");const o=t.getBits()<<3|r;i.appendBits(o,5);const s=ce.calculateBCHCode(o,ce.TYPE_INFO_POLY);i.appendBits(s,10);const u=new U;if(u.appendBits(ce.TYPE_INFO_MASK_PATTERN,15),i.xor(u),i.getSize()!==15)throw new xe("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(t,r){r.appendBits(t.getVersionNumber(),6);const i=ce.calculateBCHCode(t.getVersionNumber(),ce.VERSION_INFO_POLY);if(r.appendBits(i,12),r.getSize()!==18)throw new xe("should not happen but we got: "+r.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let r=8;r<t.getWidth()-8;++r){const i=(r+1)%2;ce.isEmpty(t.get(r,6))&&t.setNumber(r,6,i),ce.isEmpty(t.get(6,r))&&t.setNumber(6,r,i)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new xe;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,r,i){for(let o=0;o<8;++o){if(!ce.isEmpty(i.get(t+o,r)))throw new xe;i.setNumber(t+o,r,0)}}static embedVerticalSeparationPattern(t,r,i){for(let o=0;o<7;++o){if(!ce.isEmpty(i.get(t,r+o)))throw new xe;i.setNumber(t,r+o,0)}}static embedPositionAdjustmentPattern(t,r,i){for(let o=0;o<5;++o){const s=ce.POSITION_ADJUSTMENT_PATTERN[o];for(let u=0;u<5;++u)i.setNumber(t+u,r+o,s[u])}}static embedPositionDetectionPattern(t,r,i){for(let o=0;o<7;++o){const s=ce.POSITION_DETECTION_PATTERN[o];for(let u=0;u<7;++u)i.setNumber(t+u,r+o,s[u])}}static embedPositionDetectionPatternsAndSeparators(t){const r=ce.POSITION_DETECTION_PATTERN[0].length;ce.embedPositionDetectionPattern(0,0,t),ce.embedPositionDetectionPattern(t.getWidth()-r,0,t),ce.embedPositionDetectionPattern(0,t.getWidth()-r,t);const i=8;ce.embedHorizontalSeparationPattern(0,i-1,t),ce.embedHorizontalSeparationPattern(t.getWidth()-i,i-1,t),ce.embedHorizontalSeparationPattern(0,t.getWidth()-i,t);const o=7;ce.embedVerticalSeparationPattern(o,0,t),ce.embedVerticalSeparationPattern(t.getHeight()-o-1,0,t),ce.embedVerticalSeparationPattern(o,t.getHeight()-o,t)}static maybeEmbedPositionAdjustmentPatterns(t,r){if(t.getVersionNumber()<2)return;const i=t.getVersionNumber()-1,o=ce.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let s=0,u=o.length;s!==u;s++){const c=o[s];if(c>=0)for(let f=0;f!==u;f++){const g=o[f];g>=0&&ce.isEmpty(r.get(g,c))&&ce.embedPositionAdjustmentPattern(g-2,c-2,r)}}}}ce.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ce.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ce.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ce.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ce.VERSION_INFO_POLY=7973,ce.TYPE_INFO_POLY=1335,ce.TYPE_INFO_MASK_PATTERN=21522;class L0{constructor(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class He{constructor(){}static calculateMaskPenalty(t){return nt.applyMaskPenaltyRule1(t)+nt.applyMaskPenaltyRule2(t)+nt.applyMaskPenaltyRule3(t)+nt.applyMaskPenaltyRule4(t)}static encode(t,r,i=null){let o=He.DEFAULT_BYTE_MODE_ENCODING;const s=i!==null&&i.get(ht.CHARACTER_SET)!==void 0;s&&(o=i.get(ht.CHARACTER_SET).toString());const u=this.chooseMode(t,o),c=new U;if(u===le.BYTE&&(s||He.DEFAULT_BYTE_MODE_ENCODING!==o)){const Q=j.getCharacterSetECIByName(o);Q!==void 0&&this.appendECI(Q,c)}this.appendModeInfo(u,c);const f=new U;this.appendBytes(t,u,f,o);let g;if(i!==null&&i.get(ht.QR_VERSION)!==void 0){const Q=Number.parseInt(i.get(ht.QR_VERSION).toString(),10);g=se.getVersionForNumber(Q);const Y=this.calculateBitsNeeded(u,c,f,g);if(!this.willFit(Y,g,r))throw new xe("Data too big for requested version")}else g=this.recommendVersion(r,u,c,f);const m=new U;m.appendBitArray(c);const y=u===le.BYTE?f.getSizeInBytes():t.length;this.appendLengthInfo(y,g,u,m),m.appendBitArray(f);const S=g.getECBlocksForLevel(r),b=g.getTotalCodewords()-S.getTotalECCodewords();this.terminateBits(b,m);const M=this.interleaveWithECBytes(m,g.getTotalCodewords(),b,S.getNumBlocks()),_=new Br;_.setECLevel(r),_.setMode(u),_.setVersion(g);const P=g.getDimensionForVersion(),L=new qa(P,P),Z=this.chooseMaskPattern(M,r,g,L);return _.setMaskPattern(Z),ce.buildMatrix(M,r,g,Z,L),_.setMatrix(L),_}static recommendVersion(t,r,i,o){const s=this.calculateBitsNeeded(r,i,o,se.getVersionForNumber(1)),u=this.chooseVersion(s,t),c=this.calculateBitsNeeded(r,i,o,u);return this.chooseVersion(c,t)}static calculateBitsNeeded(t,r,i,o){return r.getSize()+t.getCharacterCountBits(o)+i.getSize()}static getAlphanumericCode(t){return t<He.ALPHANUMERIC_TABLE.length?He.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,r=null){if(j.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return le.KANJI;let i=!1,o=!1;for(let s=0,u=t.length;s<u;++s){const c=t.charAt(s);if(He.isDigit(c))i=!0;else if(this.getAlphanumericCode(c.charCodeAt(0))!==-1)o=!0;else return le.BYTE}return o?le.ALPHANUMERIC:i?le.NUMERIC:le.BYTE}static isOnlyDoubleByteKanji(t){let r;try{r=Be.encode(t,j.SJIS)}catch{return!1}const i=r.length;if(i%2!==0)return!1;for(let o=0;o<i;o+=2){const s=r[o]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0}static chooseMaskPattern(t,r,i,o){let s=Number.MAX_SAFE_INTEGER,u=-1;for(let c=0;c<Br.NUM_MASK_PATTERNS;c++){ce.buildMatrix(t,r,i,c,o);let f=this.calculateMaskPenalty(o);f<s&&(s=f,u=c)}return u}static chooseVersion(t,r){for(let i=1;i<=40;i++){const o=se.getVersionForNumber(i);if(He.willFit(t,o,r))return o}throw new xe("Data too big")}static willFit(t,r,i){const o=r.getTotalCodewords(),s=r.getECBlocksForLevel(i).getTotalECCodewords(),u=o-s,c=(t+7)/8;return u>=c}static terminateBits(t,r){const i=t*8;if(r.getSize()>i)throw new xe("data bits cannot fit in the QR Code"+r.getSize()+" > "+i);for(let u=0;u<4&&r.getSize()<i;++u)r.appendBit(!1);const o=r.getSize()&7;if(o>0)for(let u=o;u<8;u++)r.appendBit(!1);const s=t-r.getSizeInBytes();for(let u=0;u<s;++u)r.appendBits(u&1?17:236,8);if(r.getSize()!==i)throw new xe("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,r,i,o,s,u){if(o>=i)throw new xe("Block ID too large");const c=t%i,f=i-c,g=Math.floor(t/i),m=g+1,y=Math.floor(r/i),S=y+1,b=g-y,M=m-S;if(b!==M)throw new xe("EC bytes mismatch");if(i!==f+c)throw new xe("RS blocks mismatch");if(t!==(y+b)*f+(S+M)*c)throw new xe("Total bytes mismatch");o<f?(s[0]=y,u[0]=b):(s[0]=S,u[0]=M)}static interleaveWithECBytes(t,r,i,o){if(t.getSizeInBytes()!==i)throw new xe("Number of bits and data bytes does not match");let s=0,u=0,c=0;const f=new Array;for(let m=0;m<o;++m){const y=new Int32Array(1),S=new Int32Array(1);He.getNumDataBytesAndNumECBytesForBlockID(r,i,o,m,y,S);const b=y[0],M=new Uint8Array(b);t.toBytes(8*s,M,0,b);const _=He.generateECBytes(M,S[0]);f.push(new L0(M,_)),u=Math.max(u,b),c=Math.max(c,_.length),s+=y[0]}if(i!==s)throw new xe("Data bytes does not match offset");const g=new U;for(let m=0;m<u;++m)for(const y of f){const S=y.getDataBytes();m<S.length&&g.appendBits(S[m],8)}for(let m=0;m<c;++m)for(const y of f){const S=y.getErrorCorrectionBytes();m<S.length&&g.appendBits(S[m],8)}if(r!==g.getSizeInBytes())throw new xe("Interleaving error: "+r+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(t,r){const i=t.length,o=new Int32Array(i+r);for(let u=0;u<i;u++)o[u]=t[u]&255;new Os(Ne.QR_CODE_FIELD_256).encode(o,r);const s=new Uint8Array(r);for(let u=0;u<r;u++)s[u]=o[i+u];return s}static appendModeInfo(t,r){r.appendBits(t.getBits(),4)}static appendLengthInfo(t,r,i,o){const s=i.getCharacterCountBits(r);if(t>=1<<s)throw new xe(t+" is bigger than "+((1<<s)-1));o.appendBits(t,s)}static appendBytes(t,r,i,o){switch(r){case le.NUMERIC:He.appendNumericBytes(t,i);break;case le.ALPHANUMERIC:He.appendAlphanumericBytes(t,i);break;case le.BYTE:He.append8BitBytes(t,i,o);break;case le.KANJI:He.appendKanjiBytes(t,i);break;default:throw new xe("Invalid mode: "+r)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const r=He.getDigit(t);return r>=0&&r<=9}static appendNumericBytes(t,r){const i=t.length;let o=0;for(;o<i;){const s=He.getDigit(t.charAt(o));if(o+2<i){const u=He.getDigit(t.charAt(o+1)),c=He.getDigit(t.charAt(o+2));r.appendBits(s*100+u*10+c,10),o+=3}else if(o+1<i){const u=He.getDigit(t.charAt(o+1));r.appendBits(s*10+u,7),o+=2}else r.appendBits(s,4),o++}}static appendAlphanumericBytes(t,r){const i=t.length;let o=0;for(;o<i;){const s=He.getAlphanumericCode(t.charCodeAt(o));if(s===-1)throw new xe;if(o+1<i){const u=He.getAlphanumericCode(t.charCodeAt(o+1));if(u===-1)throw new xe;r.appendBits(s*45+u,11),o+=2}else r.appendBits(s,6),o++}}static append8BitBytes(t,r,i){let o;try{o=Be.encode(t,i)}catch(s){throw new xe(s)}for(let s=0,u=o.length;s!==u;s++){const c=o[s];r.appendBits(c,8)}}static appendKanjiBytes(t,r){let i;try{i=Be.encode(t,j.SJIS)}catch(s){throw new xe(s)}const o=i.length;for(let s=0;s<o;s+=2){const u=i[s]&255,c=i[s+1]&255,f=u<<8&4294967295|c;let g=-1;if(f>=33088&&f<=40956?g=f-33088:f>=57408&&f<=60351&&(g=f-49472),g===-1)throw new xe("Invalid byte sequence");const m=(g>>8)*192+(g&255);r.appendBits(m,13)}}static appendECI(t,r){r.appendBits(le.ECI.getBits(),4),r.appendBits(t.getValue(),8)}}He.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),He.DEFAULT_BYTE_MODE_ENCODING=j.UTF8.getName();class Fr{write(t,r,i,o=null){if(t.length===0)throw new T("Found empty contents");if(r<0||i<0)throw new T("Requested dimensions are too small: "+r+"x"+i);let s=Ue.L,u=Fr.QUIET_ZONE_SIZE;o!==null&&(o.get(ht.ERROR_CORRECTION)!==void 0&&(s=Ue.fromString(o.get(ht.ERROR_CORRECTION).toString())),o.get(ht.MARGIN)!==void 0&&(u=Number.parseInt(o.get(ht.MARGIN).toString(),10)));const c=He.encode(t,s,o);return this.renderResult(c,r,i,u)}writeToDom(t,r,i,o,s=null){typeof t=="string"&&(t=document.querySelector(t));const u=this.write(r,i,o,s);t&&t.appendChild(u)}renderResult(t,r,i,o){const s=t.getMatrix();if(s===null)throw new _n;const u=s.getWidth(),c=s.getHeight(),f=u+o*2,g=c+o*2,m=Math.max(r,f),y=Math.max(i,g),S=Math.min(Math.floor(m/f),Math.floor(y/g)),b=Math.floor((m-u*S)/2),M=Math.floor((y-c*S)/2),_=this.createSVGElement(m,y);for(let P=0,L=M;P<c;P++,L+=S)for(let Z=0,Q=b;Z<u;Z++,Q+=S)if(s.get(Z,P)===1){const Y=this.createSvgRectElement(Q,L,S,S);_.appendChild(Y)}return _}createSVGElement(t,r){const i=document.createElementNS(Fr.SVG_NS,"svg");return i.setAttributeNS(null,"height",t.toString()),i.setAttributeNS(null,"width",r.toString()),i}createSvgRectElement(t,r,i,o){const s=document.createElementNS(Fr.SVG_NS,"rect");return s.setAttributeNS(null,"x",t.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"height",i.toString()),s.setAttributeNS(null,"width",o.toString()),s.setAttributeNS(null,"fill","#000000"),s}}Fr.QUIET_ZONE_SIZE=4,Fr.SVG_NS="http://www.w3.org/2000/svg";class ai{encode(t,r,i,o,s){if(t.length===0)throw new T("Found empty contents");if(r!==oe.QR_CODE)throw new T("Can only encode QR_CODE, but got "+r);if(i<0||o<0)throw new T(`Requested dimensions are too small: ${i}x${o}`);let u=Ue.L,c=ai.QUIET_ZONE_SIZE;s!==null&&(s.get(ht.ERROR_CORRECTION)!==void 0&&(u=Ue.fromString(s.get(ht.ERROR_CORRECTION).toString())),s.get(ht.MARGIN)!==void 0&&(c=Number.parseInt(s.get(ht.MARGIN).toString(),10)));const f=He.encode(t,u,s);return ai.renderResult(f,i,o,c)}static renderResult(t,r,i,o){const s=t.getMatrix();if(s===null)throw new _n;const u=s.getWidth(),c=s.getHeight(),f=u+o*2,g=c+o*2,m=Math.max(r,f),y=Math.max(i,g),S=Math.min(Math.floor(m/f),Math.floor(y/g)),b=Math.floor((m-u*S)/2),M=Math.floor((y-c*S)/2),_=new at(m,y);for(let P=0,L=M;P<c;P++,L+=S)for(let Z=0,Q=b;Z<u;Z++,Q+=S)s.get(Z,P)===1&&_.setRegion(Q,L,S,S);return _}}ai.QUIET_ZONE_SIZE=4;class B0{encode(t,r,i,o,s){let u;switch(r){case oe.QR_CODE:u=new ai;break;default:throw new T("No encoder available for format "+r)}return u.encode(t,r,i,o,s)}}class xn extends te{constructor(t,r,i,o,s,u,c,f){if(super(u,c),this.yuvData=t,this.dataWidth=r,this.dataHeight=i,this.left=o,this.top=s,o+u>r||s+c>i)throw new T("Crop rectangle does not fit within image data.");f&&this.reverseHorizontal(u,c)}getRow(t,r){if(t<0||t>=this.getHeight())throw new T("Requested row is outside the image: "+t);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const o=(t+this.top)*this.dataWidth+this.left;return V.arraycopy(this.yuvData,o,r,0,i),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;const i=t*r,o=new Uint8ClampedArray(i);let s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return V.arraycopy(this.yuvData,s,o,0,i),o;for(let u=0;u<r;u++){const c=u*t;V.arraycopy(this.yuvData,s,o,c,t),s+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,i,o){return new xn(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,i,o,!1)}renderThumbnail(){const t=this.getWidth()/xn.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/xn.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*r),o=this.yuvData;let s=this.top*this.dataWidth+this.left;for(let u=0;u<r;u++){const c=u*t;for(let f=0;f<t;f++){const g=o[s+f*xn.THUMBNAIL_SCALE_FACTOR]&255;i[c+f]=4278190080|g*65793}s+=this.dataWidth*xn.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/xn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/xn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,r){const i=this.yuvData;for(let o=0,s=this.top*this.dataWidth+this.left;o<r;o++,s+=this.dataWidth){const u=s+t/2;for(let c=s,f=s+t-1;c<u;c++,f--){const g=i[c];i[c]=i[f],i[f]=g}}}invert(){return new de(this)}}xn.THUMBNAIL_SCALE_FACTOR=2;class ks extends te{constructor(t,r,i,o,s,u,c){if(super(r,i),this.dataWidth=o,this.dataHeight=s,this.left=u,this.top=c,t.BYTES_PER_ELEMENT===4){const f=r*i,g=new Uint8ClampedArray(f);for(let m=0;m<f;m++){const y=t[m],S=y>>16&255,b=y>>7&510,M=y&255;g[m]=(S+b+M)/4&255}this.luminances=g}else this.luminances=t;if(o===void 0&&(this.dataWidth=r),s===void 0&&(this.dataHeight=i),u===void 0&&(this.left=0),c===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+i>this.dataHeight)throw new T("Crop rectangle does not fit within image data.")}getRow(t,r){if(t<0||t>=this.getHeight())throw new T("Requested row is outside the image: "+t);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const o=(t+this.top)*this.dataWidth+this.left;return V.arraycopy(this.luminances,o,r,0,i),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;const i=t*r,o=new Uint8ClampedArray(i);let s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return V.arraycopy(this.luminances,s,o,0,i),o;for(let u=0;u<r;u++){const c=u*t;V.arraycopy(this.luminances,s,o,c,t),s+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,r,i,o){return new ks(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+t,this.top+r)}invert(){return new de(this)}}class mc extends j{static forName(t){return this.getCharacterSetECIByName(t)}}class Ps{}Ps.ISO_8859_1=j.ISO8859_1;class wc{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Cc{static singletonList(t){return[t]}static min(t,r){return t.sort(r)[0]}}class F0{constructor(t){this.previous=t}getPrevious(){return this.previous}}class oi extends F0{constructor(t,r,i){super(t),this.value=r,this.bitCount=i}appendTo(t,r){t.appendBits(this.value,this.bitCount)}add(t,r){return new oi(this,t,r)}addBinaryShift(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new oi(this,t,r)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+R.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class xs extends oi{constructor(t,r,i){super(t,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=i}appendTo(t,r){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+i],8)}addBinaryShift(t,r){return new xs(this,t,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function U0(C,t,r){return new xs(C,t,r)}function Zi(C,t,r){return new oi(C,t,r)}const z0=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ur=0,Ja=1,dn=2,Ec=3,Ln=4,H0=new oi(null,0,0),Ls=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function V0(C){for(let t of C)N.fill(t,-1);return C[ur][Ln]=0,C[Ja][Ln]=0,C[Ja][ur]=28,C[Ec][Ln]=0,C[dn][Ln]=0,C[dn][ur]=15,C}const yc=V0(N.createInt32Array(6,6));class Bn{constructor(t,r,i,o){this.token=t,this.mode=r,this.binaryShiftByteCount=i,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,r){let i=this.bitCount,o=this.token;if(t!==this.mode){let u=Ls[this.mode][t];o=Zi(o,u&65535,u>>16),i+=u>>16}let s=t===dn?4:5;return o=Zi(o,r,s),new Bn(o,t,0,i+s)}shiftAndAppend(t,r){let i=this.token,o=this.mode===dn?4:5;return i=Zi(i,yc[this.mode][t],o),i=Zi(i,r,5),new Bn(i,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(t){let r=this.token,i=this.mode,o=this.bitCount;if(this.mode===Ln||this.mode===dn){let c=Ls[i][ur];r=Zi(r,c&65535,c>>16),o+=c>>16,i=ur}let s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new Bn(r,i,this.binaryShiftByteCount+1,o+s);return u.binaryShiftByteCount===2047+31&&(u=u.endBinaryShift(t+1)),u}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=U0(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Bn(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let r=this.bitCount+(Ls[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=Bn.calculateBinaryShiftCost(t)-Bn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount}toBitArray(t){let r=[];for(let o=this.endBinaryShift(t.length).token;o!==null;o=o.getPrevious())r.unshift(o);let i=new U;for(const o of r)o.appendTo(i,t);return i}toString(){return ue.format("%s bits=%d bytes=%d",z0[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Bn.INITIAL_STATE=new Bn(H0,ur,0,0);function j0(C){const t=ue.getCharCode(" "),r=ue.getCharCode("."),i=ue.getCharCode(",");C[ur][t]=1;const o=ue.getCharCode("Z"),s=ue.getCharCode("A");for(let S=s;S<=o;S++)C[ur][S]=S-s+2;C[Ja][t]=1;const u=ue.getCharCode("z"),c=ue.getCharCode("a");for(let S=c;S<=u;S++)C[Ja][S]=S-c+2;C[dn][t]=1;const f=ue.getCharCode("9"),g=ue.getCharCode("0");for(let S=g;S<=f;S++)C[dn][S]=S-g+2;C[dn][i]=12,C[dn][r]=13;const m=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let S=0;S<m.length;S++)C[Ec][ue.getCharCode(m[S])]=S;const y=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let S=0;S<y.length;S++)ue.getCharCode(y[S])>0&&(C[Ln][ue.getCharCode(y[S])]=S);return C}const Bs=j0(N.createInt32Array(5,256));class Ki{constructor(t){this.text=t}encode(){const t=ue.getCharCode(" "),r=ue.getCharCode(`
`);let i=Cc.singletonList(Bn.INITIAL_STATE);for(let o=0;o<this.text.length;o++){let s,u=o+1<this.text.length?this.text[o+1]:0;switch(this.text[o]){case ue.getCharCode("\r"):s=u===r?2:0;break;case ue.getCharCode("."):s=u===t?3:0;break;case ue.getCharCode(","):s=u===t?4:0;break;case ue.getCharCode(":"):s=u===t?5:0;break;default:s=0}s>0?(i=Ki.updateStateListForPair(i,o,s),o++):i=this.updateStateListForChar(i,o)}return Cc.min(i,(o,s)=>o.getBitCount()-s.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,r){const i=[];for(let o of t)this.updateStateForChar(o,r,i);return Ki.simplifyStates(i)}updateStateForChar(t,r,i){let o=this.text[r]&255,s=Bs[t.getMode()][o]>0,u=null;for(let c=0;c<=Ln;c++){let f=Bs[c][o];if(f>0){if(u==null&&(u=t.endBinaryShift(r)),!s||c===t.getMode()||c===dn){const g=u.latchAndAppend(c,f);i.push(g)}if(!s&&yc[t.getMode()][c]>=0){const g=u.shiftAndAppend(c,f);i.push(g)}}}if(t.getBinaryShiftByteCount()>0||Bs[t.getMode()][o]===0){let c=t.addBinaryShiftChar(r);i.push(c)}}static updateStateListForPair(t,r,i){const o=[];for(let s of t)this.updateStateForPair(s,r,i,o);return this.simplifyStates(o)}static updateStateForPair(t,r,i,o){let s=t.endBinaryShift(r);if(o.push(s.latchAndAppend(Ln,i)),t.getMode()!==Ln&&o.push(s.shiftAndAppend(Ln,i)),i===3||i===4){let u=s.latchAndAppend(dn,16-i).latchAndAppend(dn,1);o.push(u)}if(t.getBinaryShiftByteCount()>0){let u=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);o.push(u)}}static simplifyStates(t){let r=[];for(const i of t){let o=!0;for(const s of r){if(s.isBetterThanOrEqualTo(i)){o=!1;break}i.isBetterThanOrEqualTo(s)&&(r=r.filter(u=>u!==s))}o&&r.push(i)}return r}}class Te{constructor(){}static encodeBytes(t){return Te.encode(t,Te.DEFAULT_EC_PERCENT,Te.DEFAULT_AZTEC_LAYERS)}static encode(t,r,i){let o=new Ki(t).encode(),s=R.truncDivision(o.getSize()*r,100)+11,u=o.getSize()+s,c,f,g,m,y;if(i!==Te.DEFAULT_AZTEC_LAYERS){if(c=i<0,f=Math.abs(i),f>(c?Te.MAX_NB_BITS_COMPACT:Te.MAX_NB_BITS))throw new T(ue.format("Illegal value %s for layers",i));g=Te.totalBitsInLayer(f,c),m=Te.WORD_SIZE[f];let Y=g-g%m;if(y=Te.stuffBits(o,m),y.getSize()+s>Y)throw new T("Data to large for user specified layer");if(c&&y.getSize()>m*64)throw new T("Data to large for user specified layer")}else{m=0,y=null;for(let Y=0;;Y++){if(Y>Te.MAX_NB_BITS)throw new T("Data too large for an Aztec code");if(c=Y<=3,f=c?Y+1:Y,g=Te.totalBitsInLayer(f,c),u>g)continue;(y==null||m!==Te.WORD_SIZE[f])&&(m=Te.WORD_SIZE[f],y=Te.stuffBits(o,m));let ye=g-g%m;if(!(c&&y.getSize()>m*64)&&y.getSize()+s<=ye)break}}let S=Te.generateCheckWords(y,g,m),b=y.getSize()/m,M=Te.generateModeMessage(c,f,b),_=(c?11:14)+f*4,P=new Int32Array(_),L;if(c){L=_;for(let Y=0;Y<P.length;Y++)P[Y]=Y}else{L=_+1+2*R.truncDivision(R.truncDivision(_,2)-1,15);let Y=R.truncDivision(_,2),ye=R.truncDivision(L,2);for(let me=0;me<Y;me++){let jt=me+R.truncDivision(me,15);P[Y-me-1]=ye-jt-1,P[Y+me]=ye+jt+1}}let Z=new at(L);for(let Y=0,ye=0;Y<f;Y++){let me=(f-Y)*4+(c?9:12);for(let jt=0;jt<me;jt++){let Sn=jt*2;for(let Wt=0;Wt<2;Wt++)S.get(ye+Sn+Wt)&&Z.set(P[Y*2+Wt],P[Y*2+jt]),S.get(ye+me*2+Sn+Wt)&&Z.set(P[Y*2+jt],P[_-1-Y*2-Wt]),S.get(ye+me*4+Sn+Wt)&&Z.set(P[_-1-Y*2-Wt],P[_-1-Y*2-jt]),S.get(ye+me*6+Sn+Wt)&&Z.set(P[_-1-Y*2-jt],P[Y*2+Wt])}ye+=me*8}if(Te.drawModeMessage(Z,c,L,M),c)Te.drawBullsEye(Z,R.truncDivision(L,2),5);else{Te.drawBullsEye(Z,R.truncDivision(L,2),7);for(let Y=0,ye=0;Y<R.truncDivision(_,2)-1;Y+=15,ye+=16)for(let me=R.truncDivision(L,2)&1;me<L;me+=2)Z.set(R.truncDivision(L,2)-ye,me),Z.set(R.truncDivision(L,2)+ye,me),Z.set(me,R.truncDivision(L,2)-ye),Z.set(me,R.truncDivision(L,2)+ye)}let Q=new wc;return Q.setCompact(c),Q.setSize(L),Q.setLayers(f),Q.setCodeWords(b),Q.setMatrix(Z),Q}static drawBullsEye(t,r,i){for(let o=0;o<i;o+=2)for(let s=r-o;s<=r+o;s++)t.set(s,r-o),t.set(s,r+o),t.set(r-o,s),t.set(r+o,s);t.set(r-i,r-i),t.set(r-i+1,r-i),t.set(r-i,r-i+1),t.set(r+i,r-i),t.set(r+i,r-i+1),t.set(r+i,r+i-1)}static generateModeMessage(t,r,i){let o=new U;return t?(o.appendBits(r-1,2),o.appendBits(i-1,6),o=Te.generateCheckWords(o,28,4)):(o.appendBits(r-1,5),o.appendBits(i-1,11),o=Te.generateCheckWords(o,40,4)),o}static drawModeMessage(t,r,i,o){let s=R.truncDivision(i,2);if(r)for(let u=0;u<7;u++){let c=s-3+u;o.get(u)&&t.set(c,s-5),o.get(u+7)&&t.set(s+5,c),o.get(20-u)&&t.set(c,s+5),o.get(27-u)&&t.set(s-5,c)}else for(let u=0;u<10;u++){let c=s-5+u+R.truncDivision(u,5);o.get(u)&&t.set(c,s-7),o.get(u+10)&&t.set(s+7,c),o.get(29-u)&&t.set(c,s+7),o.get(39-u)&&t.set(s-7,c)}}static generateCheckWords(t,r,i){let o=t.getSize()/i,s=new Os(Te.getGF(i)),u=R.truncDivision(r,i),c=Te.bitsToWords(t,i,u);s.encode(c,u-o);let f=r%i,g=new U;g.appendBits(0,f);for(const m of Array.from(c))g.appendBits(m,i);return g}static bitsToWords(t,r,i){let o=new Int32Array(i),s,u;for(s=0,u=t.getSize()/r;s<u;s++){let c=0;for(let f=0;f<r;f++)c|=t.get(s*r+f)?1<<r-f-1:0;o[s]=c}return o}static getGF(t){switch(t){case 4:return Ne.AZTEC_PARAM;case 6:return Ne.AZTEC_DATA_6;case 8:return Ne.AZTEC_DATA_8;case 10:return Ne.AZTEC_DATA_10;case 12:return Ne.AZTEC_DATA_12;default:throw new T("Unsupported word size "+t)}}static stuffBits(t,r){let i=new U,o=t.getSize(),s=(1<<r)-2;for(let u=0;u<o;u+=r){let c=0;for(let f=0;f<r;f++)(u+f>=o||t.get(u+f))&&(c|=1<<r-1-f);(c&s)===s?(i.appendBits(c&s,r),u--):c&s?i.appendBits(c,r):(i.appendBits(c|1,r),u--)}return i}static totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}Te.DEFAULT_EC_PERCENT=33,Te.DEFAULT_AZTEC_LAYERS=0,Te.MAX_NB_BITS=32,Te.MAX_NB_BITS_COMPACT=4,Te.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class $a{encode(t,r,i,o){return this.encodeWithHints(t,r,i,o,null)}encodeWithHints(t,r,i,o,s){let u=Ps.ISO_8859_1,c=Te.DEFAULT_EC_PERCENT,f=Te.DEFAULT_AZTEC_LAYERS;return s!=null&&(s.has(ht.CHARACTER_SET)&&(u=mc.forName(s.get(ht.CHARACTER_SET).toString())),s.has(ht.ERROR_CORRECTION)&&(c=R.parseInt(s.get(ht.ERROR_CORRECTION).toString())),s.has(ht.AZTEC_LAYERS)&&(f=R.parseInt(s.get(ht.AZTEC_LAYERS).toString()))),$a.encodeLayers(t,r,i,o,u,c,f)}static encodeLayers(t,r,i,o,s,u,c){if(r!==oe.AZTEC)throw new T("Can only encode AZTEC, but got "+r);let f=Te.encode(ue.getBytes(t,s),u,c);return $a.renderResult(f,i,o)}static renderResult(t,r,i){let o=t.getMatrix();if(o==null)throw new _n;let s=o.getWidth(),u=o.getHeight(),c=Math.max(r,s),f=Math.max(i,u),g=Math.min(c/s,f/u),m=(c-s*g)/2,y=(f-u*g)/2,S=new at(c,f);for(let b=0,M=y;b<u;b++,M+=g)for(let _=0,P=m;_<s;_++,P+=g)o.get(_,b)&&S.setRegion(P,M,g,g);return S}}a.AbstractExpandedDecoder=Ss,a.ArgumentException=v,a.ArithmeticException=Ha,a.AztecCode=wc,a.AztecCodeReader=Wa,a.AztecCodeWriter=$a,a.AztecDecoder=Fe,a.AztecDetector=rc,a.AztecDetectorResult=tc,a.AztecEncoder=Te,a.AztecHighLevelEncoder=Ki,a.AztecPoint=kt,a.BarcodeFormat=oe,a.Binarizer=G,a.BinaryBitmap=k,a.BitArray=U,a.BitMatrix=at,a.BitSource=vs,a.BrowserAztecCodeReader=p0,a.BrowserBarcodeReader=y0,a.BrowserCodeReader=sn,a.BrowserDatamatrixCodeReader=S0,a.BrowserMultiFormatReader=k0,a.BrowserPDF417Reader=P0,a.BrowserQRCodeReader=x0,a.BrowserQRCodeSvgWriter=Fr,a.CharacterSetECI=j,a.ChecksumException=z,a.Code128Reader=J,a.Code39Reader=ct,a.DataMatrixDecodedBitStreamParser=ar,a.DataMatrixReader=or,a.DecodeHintType=K,a.DecoderResult=Ui,a.DefaultGridSampler=nc,a.DetectorResult=ja,a.EAN13Reader=kr,a.EncodeHintType=ht,a.Exception=w,a.FormatException=B,a.GenericGF=Ne,a.GenericGFPoly=Ut,a.GlobalHistogramBinarizer=$e,a.GridSampler=Cs,a.GridSamplerInstance=rr,a.HTMLCanvasElementLuminanceSource=fe,a.HybridBinarizer=ge,a.ITFReader=Pe,a.IllegalArgumentException=T,a.IllegalStateException=_n,a.InvertedLuminanceSource=de,a.LuminanceSource=te,a.MathUtils=be,a.MultiFormatOneDReader=ri,a.MultiFormatReader=pc,a.MultiFormatWriter=B0,a.NotFoundException=F,a.OneDReader=lt,a.PDF417DecodedBitStreamParser=x,a.PDF417DecoderErrorCorrection=uc,a.PDF417Reader=St,a.PDF417ResultMetadata=dc,a.PerspectiveTransform=yn,a.PlanarYUVLuminanceSource=xn,a.QRCodeByteMatrix=qa,a.QRCodeDataMask=un,a.QRCodeDecodedBitStreamParser=Ze,a.QRCodeDecoderErrorCorrectionLevel=Ue,a.QRCodeDecoderFormatInformation=Mt,a.QRCodeEncoder=He,a.QRCodeEncoderQRCode=Br,a.QRCodeMaskUtil=nt,a.QRCodeMatrixUtil=ce,a.QRCodeMode=le,a.QRCodeReader=sr,a.QRCodeVersion=se,a.QRCodeWriter=ai,a.RGBLuminanceSource=ks,a.RSS14Reader=tt,a.RSSExpandedReader=W,a.ReaderException=Ka,a.ReedSolomonDecoder=Hi,a.ReedSolomonEncoder=Os,a.ReedSolomonException=$r,a.Result=Qe,a.ResultMetadataType=pt,a.ResultPoint=ae,a.StringUtils=ue,a.UnsupportedOperationException=pe,a.VideoInputDevice=Ye,a.WhiteRectangleDetector=Wn,a.WriterException=xe,a.ZXingArrays=N,a.ZXingCharset=mc,a.ZXingInteger=R,a.ZXingStandardCharsets=Ps,a.ZXingStringBuilder=Se,a.ZXingStringEncoding=Be,a.ZXingSystem=V,a.createAbstractExpandedDecoder=sc,Object.defineProperty(a,"__esModule",{value:!0})})})(ru,ru.exports);var je=ru.exports;const Pg=Q1(je),xg=G0({__proto__:null,default:Pg},[je]);var B1=function(){function e(n,a,l){if(this.formatMap=new Map([[$.QR_CODE,je.BarcodeFormat.QR_CODE],[$.AZTEC,je.BarcodeFormat.AZTEC],[$.CODABAR,je.BarcodeFormat.CODABAR],[$.CODE_39,je.BarcodeFormat.CODE_39],[$.CODE_93,je.BarcodeFormat.CODE_93],[$.CODE_128,je.BarcodeFormat.CODE_128],[$.DATA_MATRIX,je.BarcodeFormat.DATA_MATRIX],[$.MAXICODE,je.BarcodeFormat.MAXICODE],[$.ITF,je.BarcodeFormat.ITF],[$.EAN_13,je.BarcodeFormat.EAN_13],[$.EAN_8,je.BarcodeFormat.EAN_8],[$.PDF_417,je.BarcodeFormat.PDF_417],[$.RSS_14,je.BarcodeFormat.RSS_14],[$.RSS_EXPANDED,je.BarcodeFormat.RSS_EXPANDED],[$.UPC_A,je.BarcodeFormat.UPC_A],[$.UPC_E,je.BarcodeFormat.UPC_E],[$.UPC_EAN_EXTENSION,je.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!xg)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=a,this.logger=l;var d=this.createZXingFormats(n),h=new Map;h.set(je.DecodeHintType.POSSIBLE_FORMATS,d),h.set(je.DecodeHintType.TRY_HARDER,!1),this.hints=h}return e.prototype.decodeAsync=function(n){var a=this;return new Promise(function(l,d){try{l(a.decode(n))}catch(h){d(h)}})},e.prototype.decode=function(n){var a=new je.MultiFormatReader(this.verbose,this.hints),l=new je.HTMLCanvasElementLuminanceSource(n),d=new je.BinaryBitmap(new je.HybridBinarizer(l)),h=a.decode(d);return{text:h.text,format:l0.create(this.toHtml5QrcodeSupportedFormats(h.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(a,l,d){n.set(a,l)}),n},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createZXingFormats=function(n){for(var a=[],l=0,d=n;l<d.length;l++){var h=d[l];this.formatMap.has(h)?a.push(this.formatMap.get(h)):this.logger.logError("".concat(h," is not supported by")+"ZXingHtml5QrcodeShim")}return a},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Lg=globalThis&&globalThis.__awaiter||function(e,n,a,l){function d(h){return h instanceof a?h:new a(function(p){p(h)})}return new(a||(a=Promise))(function(h,p){function E(v){try{w(l.next(v))}catch(T){p(T)}}function A(v){try{w(l.throw(v))}catch(T){p(T)}}function w(v){v.done?h(v.value):d(v.value).then(E,A)}w((l=l.apply(e,n||[])).next())})},Bg=globalThis&&globalThis.__generator||function(e,n){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,d,h,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(w){return function(v){return A([w,v])}}function A(w){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,w[0]&&(a=0)),a;)try{if(l=1,d&&(h=w[0]&2?d.return:w[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,w[1])).done)return h;switch(d=0,h&&(w=[w[0]&2,h.value]),w[0]){case 0:case 1:h=w;break;case 4:return a.label++,{value:w[1],done:!1};case 5:a.label++,d=w[1],w=[0];continue;case 7:w=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(w[0]===6||w[0]===2)){a=0;continue}if(w[0]===3&&(!h||w[1]>h[0]&&w[1]<h[3])){a.label=w[1];break}if(w[0]===6&&a.label<h[1]){a.label=h[1],h=w;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(w);break}h[2]&&a.ops.pop(),a.trys.pop();continue}w=n.call(e,a)}catch(v){w=[6,v],d=0}finally{l=h=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},F1=function(){function e(n,a,l){if(this.formatMap=new Map([[$.QR_CODE,"qr_code"],[$.AZTEC,"aztec"],[$.CODABAR,"codabar"],[$.CODE_39,"code_39"],[$.CODE_93,"code_93"],[$.CODE_128,"code_128"],[$.DATA_MATRIX,"data_matrix"],[$.ITF,"itf"],[$.EAN_13,"ean_13"],[$.EAN_8,"ean_8"],[$.PDF_417,"pdf417"],[$.UPC_A,"upc_a"],[$.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=a,this.logger=l;var d=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(d),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},e.prototype.decodeAsync=function(n){return Lg(this,void 0,void 0,function(){var a,l;return Bg(this,function(d){switch(d.label){case 0:return[4,this.detector.detect(n)];case 1:if(a=d.sent(),!a||a.length===0)throw"No barcode or QR code detected.";return l=this.selectLargestBarcode(a),[2,{text:l.rawValue,format:l0.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(n){for(var a=null,l=0,d=0,h=n;d<h.length;d++){var p=h[d],E=p.boundingBox.width*p.boundingBox.height;E>l&&(l=E,a=p)}if(!a)throw"No largest barcode found";return a},e.prototype.createBarcodeDetectorFormats=function(n){for(var a=[],l=0,d=n;l<d.length;l++){var h=d[l];this.formatMap.has(h)?a.push(this.formatMap.get(h)):this.logger.warn("".concat(h," is not supported by")+"BarcodeDetectorDelegate")}return{formats:a}},e.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},e.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(a,l,d){n.set(a,l)}),n},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),U1=globalThis&&globalThis.__awaiter||function(e,n,a,l){function d(h){return h instanceof a?h:new a(function(p){p(h)})}return new(a||(a=Promise))(function(h,p){function E(v){try{w(l.next(v))}catch(T){p(T)}}function A(v){try{w(l.throw(v))}catch(T){p(T)}}function w(v){v.done?h(v.value):d(v.value).then(E,A)}w((l=l.apply(e,n||[])).next())})},z1=globalThis&&globalThis.__generator||function(e,n){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,d,h,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(w){return function(v){return A([w,v])}}function A(w){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,w[0]&&(a=0)),a;)try{if(l=1,d&&(h=w[0]&2?d.return:w[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,w[1])).done)return h;switch(d=0,h&&(w=[w[0]&2,h.value]),w[0]){case 0:case 1:h=w;break;case 4:return a.label++,{value:w[1],done:!1};case 5:a.label++,d=w[1],w=[0];continue;case 7:w=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(w[0]===6||w[0]===2)){a=0;continue}if(w[0]===3&&(!h||w[1]>h[0]&&w[1]<h[3])){a.label=w[1];break}if(w[0]===6&&a.label<h[1]){a.label=h[1],h=w;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(w);break}h[2]&&a.ops.pop(),a.trys.pop();continue}w=n.call(e,a)}catch(v){w=[6,v],d=0}finally{l=h=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Fg=function(){function e(n,a,l,d){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=l,a&&F1.isSupported()?(this.primaryDecoder=new F1(n,l,d),this.secondaryDecoder=new B1(n,l,d)):this.primaryDecoder=new B1(n,l,d)}return e.prototype.decodeAsync=function(n){return U1(this,void 0,void 0,function(){var a;return z1(this,function(l){switch(l.label){case 0:a=performance.now(),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,l.sent()];case 3:return this.possiblyLogPerformance(a),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(n){return U1(this,void 0,void 0,function(){var a,l;return z1(this,function(d){switch(d.label){case 0:a=performance.now(),d.label=1;case 1:return d.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,d.sent()];case 3:if(l=d.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw l;case 4:return this.possiblyLogPerformance(a),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(n){if(this.verbose){var a=performance.now()-n;this.executionResults.push(a),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,a=0,l=this.executionResults;a<l.length;a++){var d=l[a];n+=d}var h=n/this.executionResults.length;console.log("".concat(h," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),$u=globalThis&&globalThis.__extends||function(){var e=function(n,a){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(l[h]=d[h])},e(n,a)};return function(n,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");e(n,a);function l(){this.constructor=n}n.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),es=globalThis&&globalThis.__awaiter||function(e,n,a,l){function d(h){return h instanceof a?h:new a(function(p){p(h)})}return new(a||(a=Promise))(function(h,p){function E(v){try{w(l.next(v))}catch(T){p(T)}}function A(v){try{w(l.throw(v))}catch(T){p(T)}}function w(v){v.done?h(v.value):d(v.value).then(E,A)}w((l=l.apply(e,n||[])).next())})},ts=globalThis&&globalThis.__generator||function(e,n){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,d,h,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(w){return function(v){return A([w,v])}}function A(w){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,w[0]&&(a=0)),a;)try{if(l=1,d&&(h=w[0]&2?d.return:w[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,w[1])).done)return h;switch(d=0,h&&(w=[w[0]&2,h.value]),w[0]){case 0:case 1:h=w;break;case 4:return a.label++,{value:w[1],done:!1};case 5:a.label++,d=w[1],w=[0];continue;case 7:w=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(w[0]===6||w[0]===2)){a=0;continue}if(w[0]===3&&(!h||w[1]>h[0]&&w[1]<h[3])){a.label=w[1];break}if(w[0]===6&&a.label<h[1]){a.label=h[1],h=w;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(w);break}h[2]&&a.ops.pop(),a.trys.pop();continue}w=n.call(e,a)}catch(v){w=[6,v],d=0}finally{l=h=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},h0=function(){function e(n,a){this.name=n,this.track=a}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(n){var a={};a[this.name]=n;var l={advanced:[a]};return this.track.applyConstraints(l)},e.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var a=n[this.name];return a}return null},e}(),Ug=function(e){$u(n,e);function n(a,l){return e.call(this,a,l)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(a){var l={};l[this.name]=a;var d={advanced:[l]};return this.track.applyConstraints(d)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var a=this.track.getCapabilities(),l=a[this.name];return{min:l.min,max:l.max,step:l.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n}(h0),zg=function(e){$u(n,e);function n(a){return e.call(this,"zoom",a)||this}return n}(Ug),Hg=function(e){$u(n,e);function n(a){return e.call(this,"torch",a)||this}return n}(h0),Vg=function(){function e(n){this.track=n}return e.prototype.zoomFeature=function(){return new zg(this.track)},e.prototype.torchFeature=function(){return new Hg(this.track)},e}(),jg=function(){function e(n,a,l){this.isClosed=!1,this.parentElement=n,this.mediaStream=a,this.callbacks=l,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return e.prototype.createVideoElement=function(n){var a=document.createElement("video");return a.style.width="".concat(n,"px"),a.style.display="block",a.muted=!0,a.setAttribute("muted","true"),a.playsInline=!0,a},e.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var a=function(){var l=n.surface.clientWidth,d=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(l,d),n.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(n,a,l,d){return es(this,void 0,void 0,function(){var h,p;return ts(this,function(E){switch(E.label){case 0:return h=new e(n,a,d),l.aspectRatio?(p={aspectRatio:l.aspectRatio},[4,h.getFirstTrackOrFail().applyConstraints(p)]):[3,2];case 1:E.sent(),E.label=2;case 2:return h.setupSurface(),[2,h]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(n){this.failIfClosed();var a=this,l=function(){setTimeout(n,200),a.surface.removeEventListener("playing",l)};this.surface.addEventListener("playing",l),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(n){return es(this,void 0,void 0,function(){return ts(this,function(a){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(a,l){var d=n.mediaStream.getVideoTracks(),h=d.length,p=0;n.mediaStream.getVideoTracks().forEach(function(E){n.mediaStream.removeTrack(E),E.stop(),++p,p>=h&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),a())})})},e.prototype.getCapabilities=function(){return new Vg(this.getFirstTrackOrFail())},e}(),Wg=function(){function e(n){this.mediaStream=n}return e.prototype.render=function(n,a,l){return es(this,void 0,void 0,function(){return ts(this,function(d){return[2,jg.create(n,this.mediaStream,a,l)]})})},e.create=function(n){return es(this,void 0,void 0,function(){var a,l;return ts(this,function(d){switch(d.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return a={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(a)];case 1:return l=d.sent(),[2,new e(l)]}})})},e}(),H1=globalThis&&globalThis.__awaiter||function(e,n,a,l){function d(h){return h instanceof a?h:new a(function(p){p(h)})}return new(a||(a=Promise))(function(h,p){function E(v){try{w(l.next(v))}catch(T){p(T)}}function A(v){try{w(l.throw(v))}catch(T){p(T)}}function w(v){v.done?h(v.value):d(v.value).then(E,A)}w((l=l.apply(e,n||[])).next())})},V1=globalThis&&globalThis.__generator||function(e,n){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,d,h,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(w){return function(v){return A([w,v])}}function A(w){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,w[0]&&(a=0)),a;)try{if(l=1,d&&(h=w[0]&2?d.return:w[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,w[1])).done)return h;switch(d=0,h&&(w=[w[0]&2,h.value]),w[0]){case 0:case 1:h=w;break;case 4:return a.label++,{value:w[1],done:!1};case 5:a.label++,d=w[1],w=[0];continue;case 7:w=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(w[0]===6||w[0]===2)){a=0;continue}if(w[0]===3&&(!h||w[1]>h[0]&&w[1]<h[3])){a.label=w[1];break}if(w[0]===6&&a.label<h[1]){a.label=h[1],h=w;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(w);break}h[2]&&a.ops.pop(),a.trys.pop();continue}w=n.call(e,a)}catch(v){w=[6,v],d=0}finally{l=h=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Yg=function(){function e(){}return e.failIfNotSupported=function(){return H1(this,void 0,void 0,function(){return V1(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(n){return H1(this,void 0,void 0,function(){return V1(this,function(a){return[2,Wg.create(n)]})})},e}(),Gg=globalThis&&globalThis.__awaiter||function(e,n,a,l){function d(h){return h instanceof a?h:new a(function(p){p(h)})}return new(a||(a=Promise))(function(h,p){function E(v){try{w(l.next(v))}catch(T){p(T)}}function A(v){try{w(l.throw(v))}catch(T){p(T)}}function w(v){v.done?h(v.value):d(v.value).then(E,A)}w((l=l.apply(e,n||[])).next())})},Xg=globalThis&&globalThis.__generator||function(e,n){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,d,h,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(w){return function(v){return A([w,v])}}function A(w){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,w[0]&&(a=0)),a;)try{if(l=1,d&&(h=w[0]&2?d.return:w[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,w[1])).done)return h;switch(d=0,h&&(w=[w[0]&2,h.value]),w[0]){case 0:case 1:h=w;break;case 4:return a.label++,{value:w[1],done:!1};case 5:a.label++,d=w[1],w=[0];continue;case 7:w=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(w[0]===6||w[0]===2)){a=0;continue}if(w[0]===3&&(!h||w[1]>h[0]&&w[1]<h[3])){a.label=w[1];break}if(w[0]===6&&a.label<h[1]){a.label=h[1],h=w;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(w);break}h[2]&&a.ops.pop(),a.trys.pop();continue}w=n.call(e,a)}catch(v){w=[6,v],d=0}finally{l=h=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Qg=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var n=Si.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(n=Si.insecureContextCameraQueryError()),Promise.reject(n)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},e.getCamerasFromMediaDevices=function(){return Gg(this,void 0,void 0,function(){var n,a,l,d,h,p,E;return Xg(this,function(A){switch(A.label){case 0:return n=function(w){for(var v=w.getVideoTracks(),T=0,k=v;T<k.length;T++){var z=k[T];z.enabled=!1,z.stop(),w.removeTrack(z)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return a=A.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(l=A.sent(),d=[],h=0,p=l;h<p.length;h++)E=p[h],E.kind==="videoinput"&&d.push({id:E.deviceId,label:E.label});return n(a),[2,d]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,a){var l=function(h){for(var p=[],E=0,A=h;E<A.length;E++){var w=A[E];w.kind==="video"&&p.push({id:w.id,label:w.label})}n(p)},d=MediaStreamTrack;d.getSources(l)})},e}(),rt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(rt||(rt={}));var Zg=function(){function e(){this.state=rt.NOT_STARTED,this.onGoingTransactionNewState=rt.UNKNOWN}return e.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},e.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===rt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=rt.UNKNOWN,this.directTransition(n)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===rt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=rt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==rt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(n){switch(this.state){case rt.UNKNOWN:throw"Transition from unknown is not allowed";case rt.NOT_STARTED:this.failIfNewStateIs(n,[rt.PAUSED]);break;case rt.SCANNING:break;case rt.PAUSED:break}},e.prototype.failIfNewStateIs=function(n,a){for(var l=0,d=a;l<d.length;l++){var h=d[l];if(n===h)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},e}(),Kg=function(){function e(n){this.stateManager=n}return e.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},e.prototype.directTransition=function(n){this.stateManager.directTransition(n)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===rt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==rt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===rt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===rt.PAUSED},e}(),qg=function(){function e(){}return e.create=function(){return new Kg(new Zg)},e}(),Jg=globalThis&&globalThis.__extends||function(){var e=function(n,a){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(l[h]=d[h])},e(n,a)};return function(n,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");e(n,a);function l(){this.constructor=n}n.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),qt=function(e){Jg(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n}(vn),$g=function(){function e(n,a){this.logger=a,this.fps=qt.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=qt.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?d0.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!zn(this.qrbox)},e.create=function(n,a){return new e(n,a)},e}(),j1=function(){function e(n,a){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var l;typeof a=="boolean"?this.verbose=a===!0:a&&(l=a,this.verbose=l.verbose===!0,l.experimentalFeatures),this.logger=new c0(this.verbose),this.qrcode=new Fg(this.getSupportedFormats(a),this.getUseBarCodeDetectorIfSupported(l),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=qg.create()}return e.prototype.start=function(n,a,l,d){var h=this;if(!n)throw"cameraIdOrConfig is required";if(!l||typeof l!="function")throw"qrCodeSuccessCallback is required and should be a function.";var p;d?p=d:p=this.verbose?this.logger.log:function(){};var E=$g.create(a,this.logger);this.clearElement();var A=!1;E.videoConstraints&&(E.isMediaStreamConstraintsValid()?A=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var w=A,v=document.getElementById(this.elementId);v.clientWidth?v.clientWidth:qt.DEFAULT_WIDTH,v.style.position="relative",this.shouldScan=!0,this.element=v;var T=this,k=this.stateManagerProxy.startTransition(rt.SCANNING);return new Promise(function(z,G){var V=w?E.videoConstraints:T.createVideoConstraints(n);if(!V){k.cancel(),G("videoConstraints should be defined");return}var re={};(!w||E.aspectRatio)&&(re.aspectRatio=E.aspectRatio);var D={onRenderSurfaceReady:function(N,R){T.setupUi(N,R,E),T.isScanning=!0,T.foreverScan(E,l,p)}};Yg.failIfNotSupported().then(function(N){N.create(V).then(function(R){return R.render(h.element,re,D).then(function(U){T.renderedCamera=U,k.execute(),z(null)}).catch(function(U){k.cancel(),G(U)})}).catch(function(R){k.cancel(),G(Si.errorGettingUserMedia(R))})}).catch(function(N){k.cancel(),G(Si.cameraStreamingNotSupported())})})},e.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(rt.PAUSED),this.showPausedState(),(zn(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,a=function(){n.stateManagerProxy.directTransition(rt.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){a();return}this.renderedCamera.resume(function(){a()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var a=this.stateManagerProxy.startTransition(rt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var l=function(){if(n.element){var h=document.getElementById(qt.SHADED_REGION_ELEMENT_ID);h&&n.element.removeChild(h)}},d=this;return this.renderedCamera.close().then(function(){return d.renderedCamera=null,d.element&&(d.element.removeChild(d.canvasElement),d.canvasElement=null),l(),d.qrRegion&&(d.qrRegion=null),d.context&&(d.context=null),a.execute(),d.hidePausedState(),d.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(n,a){return this.scanFileV2(n,a).then(function(l){return l.decodedText})},e.prototype.scanFileV2=function(n,a){var l=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(zn(a)&&(a=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(d,h){l.possiblyCloseLastScanImageFile(),l.clearElement(),l.lastScanImageFile=URL.createObjectURL(n);var p=new Image;p.onload=function(){var E=p.width,A=p.height,w=document.getElementById(l.elementId),v=w.clientWidth?w.clientWidth:qt.DEFAULT_WIDTH,T=Math.max(w.clientHeight?w.clientHeight:A,qt.FILE_SCAN_MIN_HEIGHT),k=l.computeCanvasDrawConfig(E,A,v,T);if(a){var z=l.createCanvasElement(v,T,"qr-canvas-visible");z.style.display="inline-block",w.appendChild(z);var G=z.getContext("2d");if(!G)throw"Unable to get 2d context from canvas";G.canvas.width=v,G.canvas.height=T,G.drawImage(p,0,0,E,A,k.x,k.y,k.width,k.height)}var V=qt.FILE_SCAN_HIDDEN_CANVAS_PADDING,re=Math.max(p.width,k.width),D=Math.max(p.height,k.height),N=re+2*V,R=D+2*V,U=l.createCanvasElement(N,R);w.appendChild(U);var ee=U.getContext("2d");if(!ee)throw"Unable to get 2d context from canvas";ee.canvas.width=N,ee.canvas.height=R,ee.drawImage(p,0,0,E,A,V,V,re,D);try{l.qrcode.decodeRobustlyAsync(U).then(function(K){d(x1.createFromQrcodeResult(K))}).catch(h)}catch(K){h("QR code parse error, error = ".concat(K))}},p.onerror=h,p.onabort=h,p.onstalled=h,p.onsuspend=h,p.src=URL.createObjectURL(n)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Qg.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(n){if(n){if(!d0.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(n){var a=[$.QR_CODE,$.AZTEC,$.CODABAR,$.CODE_39,$.CODE_93,$.CODE_128,$.DATA_MATRIX,$.MAXICODE,$.ITF,$.EAN_13,$.EAN_8,$.PDF_417,$.RSS_14,$.RSS_EXPANDED,$.UPC_A,$.UPC_E,$.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return a;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var l=[],d=0,h=n.formatsToSupport;d<h.length;d++){var p=h[d];Og(p)?l.push(p):this.logger.warn("Invalid format: ".concat(p," passed in config, ignoring."))}if(l.length===0)throw"None of formatsToSupport match supported values.";return l},e.prototype.getUseBarCodeDetectorIfSupported=function(n){if(zn(n))return!0;if(!zn(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(zn(n.experimentalFeatures))return!0;var a=n.experimentalFeatures;return zn(a.useBarCodeDetectorIfSupported)?!0:a.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(n,a,l){var d=this,h=l.qrbox;this.validateQrboxConfig(h);var p=this.toQrdimensions(n,a,h),E=function(w){if(w<qt.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(qt.MIN_QR_BOX_SIZE,"px.")},A=function(w){return w>n&&(d.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),w=n),w};E(p.width),E(p.height),p.width=A(p.width)},e.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(n,a,l){if(typeof l=="number")return{width:l,height:l};if(typeof l=="function")try{return l(n,a)}catch(d){throw new Error("qrbox config was passed as a function but it failed with unknown error"+d)}return l},e.prototype.setupUi=function(n,a,l){l.isShadedBoxEnabled()&&this.validateQrboxSize(n,a,l);var d=zn(l.qrbox)?{width:n,height:a}:l.qrbox;this.validateQrboxConfig(d);var h=this.toQrdimensions(n,a,d);h.height>a&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var p=l.isShadedBoxEnabled()&&h.height<=a,E={x:0,y:0,width:n,height:a},A=p?this.getShadedRegionBounds(n,a,h):E,w=this.createCanvasElement(A.width,A.height),v={willReadFrequently:!0},T=w.getContext("2d",v);T.canvas.width=A.width,T.canvas.height=A.height,this.element.append(w),p&&this.possiblyInsertShadingElement(this.element,n,a,h),this.createScannerPausedUiElement(this.element),this.qrRegion=A,this.context=T,this.canvasElement=w},e.prototype.createScannerPausedUiElement=function(n){var a=document.createElement("div");a.innerText=Si.scannerPaused(),a.style.display="none",a.style.position="absolute",a.style.top="0px",a.style.zIndex="1",a.style.background="rgba(9, 9, 9, 0.46)",a.style.color="#FFECEC",a.style.textAlign="center",a.style.width="100%",n.appendChild(a),this.scannerPausedUiElement=a},e.prototype.scanContext=function(n,a){var l=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(d){return n(d.text,x1.createFromQrcodeResult(d)),l.possiblyUpdateShaders(!0),!0}).catch(function(d){l.possiblyUpdateShaders(!1);var h=Si.codeParseError(d);return a(h,u0.createFrom(h)),!1})},e.prototype.foreverScan=function(n,a,l){var d=this;if(this.shouldScan&&this.renderedCamera){var h=this.renderedCamera.getSurface(),p=h.videoWidth/h.clientWidth,E=h.videoHeight/h.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var A=this.qrRegion.width*p,w=this.qrRegion.height*E,v=this.qrRegion.x*p,T=this.qrRegion.y*E;this.context.drawImage(h,v,T,A,w,0,0,this.qrRegion.width,this.qrRegion.height);var k=function(){d.foreverScanTimeout=setTimeout(function(){d.foreverScan(n,a,l)},d.getTimeoutFps(n.fps))};this.scanContext(a,l).then(function(z){!z&&n.disableFlip!==!0?(d.context.translate(d.context.canvas.width,0),d.context.scale(-1,1),d.scanContext(a,l).finally(function(){k()})):k()}).catch(function(z){d.logger.logError("Error happend while scanning context",z),k()})}},e.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var a="facingMode",l="deviceId",d={user:!0,environment:!0},h="exact",p=function(G){if(G in d)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(G,"'")},E=Object.keys(n);if(E.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(E.length," keys");var A=Object.keys(n)[0];if(A!==a&&A!==l)throw"Only '".concat(a,"' and '").concat(l,"' ")+" are supported for 'cameraIdOrConfig'";if(A===a){var w=n.facingMode;if(typeof w=="string"){if(p(w))return{facingMode:w}}else if(typeof w=="object")if(h in w){if(p(w["".concat(h)]))return{facingMode:{exact:w["".concat(h)]}}}else throw"'facingMode' should be string or object with"+" ".concat(h," as key.");else{var v=typeof w;throw"Invalid type of 'facingMode' = ".concat(v)}}else{var T=n.deviceId;if(typeof T=="string")return{deviceId:T};if(typeof T=="object"){if(h in T)return{deviceId:{exact:T["".concat(h)]}};throw"'deviceId' should be string or object with"+" ".concat(h," as key.")}else{var k=typeof T;throw"Invalid type of 'deviceId' = ".concat(k)}}}var z=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(z)},e.prototype.computeCanvasDrawConfig=function(n,a,l,d){if(n<=l&&a<=d){var h=(l-n)/2,p=(d-a)/2;return{x:h,y:p,width:n,height:a}}else{var E=n,A=a;return n>l&&(a=l/n*a,n=l),a>d&&(n=d/a*n,a=d),this.logger.log("Image downsampled from "+"".concat(E,"X").concat(A)+" to ".concat(n,"X").concat(a,".")),this.computeCanvasDrawConfig(n,a,l,d)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},e.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(a){a.style.backgroundColor=n?qt.BORDER_SHADER_MATCH_COLOR:qt.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(n,a,l){var d=n,h=a,p=document.createElement("canvas");return p.style.width="".concat(d,"px"),p.style.height="".concat(h,"px"),p.style.display="none",p.id=zn(l)?"qr-canvas":l,p},e.prototype.getShadedRegionBounds=function(n,a,l){if(l.width>n||l.height>a)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-l.width)/2,y:(a-l.height)/2,width:l.width,height:l.height}},e.prototype.possiblyInsertShadingElement=function(n,a,l,d){if(!(a-d.width<1||l-d.height<1)){var h=document.createElement("div");h.style.position="absolute";var p=(a-d.width)/2,E=(l-d.height)/2;if(h.style.borderLeft="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderRight="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderTop="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderBottom="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),h.style.boxSizing="border-box",h.style.top="0px",h.style.bottom="0px",h.style.left="0px",h.style.right="0px",h.id="".concat(qt.SHADED_REGION_ELEMENT_ID),a-d.width<11||l-d.height<11)this.hasBorderShaders=!1;else{var A=5,w=40;this.insertShaderBorders(h,w,A,-A,null,0,!0),this.insertShaderBorders(h,w,A,-A,null,0,!1),this.insertShaderBorders(h,w,A,null,-A,0,!0),this.insertShaderBorders(h,w,A,null,-A,0,!1),this.insertShaderBorders(h,A,w+A,-A,null,-A,!0),this.insertShaderBorders(h,A,w+A,null,-A,-A,!0),this.insertShaderBorders(h,A,w+A,-A,null,-A,!1),this.insertShaderBorders(h,A,w+A,null,-A,-A,!1),this.hasBorderShaders=!0}n.append(h)}},e.prototype.insertShaderBorders=function(n,a,l,d,h,p,E){var A=document.createElement("div");A.style.position="absolute",A.style.backgroundColor=qt.BORDER_SHADER_DEFAULT_COLOR,A.style.width="".concat(a,"px"),A.style.height="".concat(l,"px"),d!==null&&(A.style.top="".concat(d,"px")),h!==null&&(A.style.bottom="".concat(h,"px")),E?A.style.left="".concat(p,"px"):A.style.right="".concat(p,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(A),n.appendChild(A)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(n){return 1e3/n},e}(),ec="data:image/svg+xml;base64,",ep=ec+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",tp=ec+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",W1=ec+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",np="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Y1=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),rp=function(){function e(){this.data=Y1.createDefault();var n=localStorage.getItem(e.LOCAL_STORAGE_KEY);n?this.data=JSON.parse(n):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(n){this.data.hasPermission=n,this.flush()},e.prototype.setLastUsedCameraId=function(n){this.data.lastUsedCameraId=n,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Y1.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),ip=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(n){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=L1.poweredBy();var a=document.createElement("a");a.innerText="ScanApp",a.href="https://scanapp.org",a.target="new",a.style.color="white",this.infoDiv.appendChild(a);var l=document.createElement("br"),d=document.createElement("br");this.infoDiv.appendChild(l),this.infoDiv.appendChild(d);var h=document.createElement("a");h.innerText=L1.reportIssues(),h.href="https://github.com/mebjas/html5-qrcode/issues",h.target="new",h.style.color="white",this.infoDiv.appendChild(h),n.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),ap=function(){function e(n,a){this.isShowingInfoIcon=!0,this.onTapIn=n,this.onTapOut=a,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(n){var a=this;this.infoIcon.alt="Info icon",this.infoIcon.src=W1,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(l){return a.onHoverIn()},this.infoIcon.onmouseout=function(l){return a.onHoverOut()},this.infoIcon.onclick=function(l){return a.onClick()},n.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=np,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=W1,this.infoIcon.style.opacity="0.6")},e}(),op=function(){function e(){var n=this;this.infoDiv=new ip,this.infoIcon=new ap(function(){n.infoDiv.show()},function(){n.infoDiv.hide()})}return e.prototype.renderInto=function(n){this.infoDiv.renderInto(n),this.infoIcon.renderInto(n)},e}(),sp=globalThis&&globalThis.__awaiter||function(e,n,a,l){function d(h){return h instanceof a?h:new a(function(p){p(h)})}return new(a||(a=Promise))(function(h,p){function E(v){try{w(l.next(v))}catch(T){p(T)}}function A(v){try{w(l.throw(v))}catch(T){p(T)}}function w(v){v.done?h(v.value):d(v.value).then(E,A)}w((l=l.apply(e,n||[])).next())})},lp=globalThis&&globalThis.__generator||function(e,n){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,d,h,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(w){return function(v){return A([w,v])}}function A(w){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,w[0]&&(a=0)),a;)try{if(l=1,d&&(h=w[0]&2?d.return:w[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,w[1])).done)return h;switch(d=0,h&&(w=[w[0]&2,h.value]),w[0]){case 0:case 1:h=w;break;case 4:return a.label++,{value:w[1],done:!1};case 5:a.label++,d=w[1],w=[0];continue;case 7:w=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(w[0]===6||w[0]===2)){a=0;continue}if(w[0]===3&&(!h||w[1]>h[0]&&w[1]<h[3])){a.label=w[1];break}if(w[0]===6&&a.label<h[1]){a.label=h[1],h=w;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(w);break}h[2]&&a.ops.pop(),a.trys.pop();continue}w=n.call(e,a)}catch(v){w=[6,v],d=0}finally{l=h=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},G1=function(){function e(){}return e.hasPermissions=function(){return sp(this,void 0,void 0,function(){var n,a,l,d;return lp(this,function(h){switch(h.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(n=h.sent(),a=0,l=n;a<l.length;a++)if(d=l[a],d.kind==="videoinput"&&d.label)return[2,!0];return[2,!1]}})})},e}(),dr=function(){function e(n){this.supportedScanTypes=this.validateAndReturnScanTypes(n)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var n=0,a=this.supportedScanTypes;n<a.length;n++){var l=a[n];if(e.isCameraScanType(l))return!0}return!1},e.isCameraScanType=function(n){return n===Mr.SCAN_TYPE_CAMERA},e.isFileScanType=function(n){return n===Mr.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(n){if(!n||n.length===0)return vn.DEFAULT_SUPPORTED_SCAN_TYPE;var a=vn.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(n.length>a)throw"Max ".concat(a," values expected for ")+"supportedScanTypes";for(var l=0,d=n;l<d.length;l++){var h=d[l];if(!vn.DEFAULT_SUPPORTED_SCAN_TYPE.includes(h))throw"Unsupported scan type ".concat(h)}return n},e}(),en=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Zn=function(){function e(){}return e.createElement=function(n,a){var l=document.createElement(n);return l.id=a,l.classList.add(en.ALL_ELEMENT_CLASS),n==="button"&&l.setAttribute("type","button"),l},e}(),f0=globalThis&&globalThis.__awaiter||function(e,n,a,l){function d(h){return h instanceof a?h:new a(function(p){p(h)})}return new(a||(a=Promise))(function(h,p){function E(v){try{w(l.next(v))}catch(T){p(T)}}function A(v){try{w(l.throw(v))}catch(T){p(T)}}function w(v){v.done?h(v.value):d(v.value).then(E,A)}w((l=l.apply(e,n||[])).next())})},g0=globalThis&&globalThis.__generator||function(e,n){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},l,d,h,p;return p={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function E(w){return function(v){return A([w,v])}}function A(w){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,w[0]&&(a=0)),a;)try{if(l=1,d&&(h=w[0]&2?d.return:w[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,w[1])).done)return h;switch(d=0,h&&(w=[w[0]&2,h.value]),w[0]){case 0:case 1:h=w;break;case 4:return a.label++,{value:w[1],done:!1};case 5:a.label++,d=w[1],w=[0];continue;case 7:w=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(w[0]===6||w[0]===2)){a=0;continue}if(w[0]===3&&(!h||w[1]>h[0]&&w[1]<h[3])){a.label=w[1];break}if(w[0]===6&&a.label<h[1]){a.label=h[1],h=w;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(w);break}h[2]&&a.ops.pop(),a.trys.pop();continue}w=n.call(e,a)}catch(v){w=[6,v],d=0}finally{l=h=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},X1=function(){function e(n,a,l){this.isTorchOn=!1,this.torchCapability=n,this.buttonController=a,this.onTorchActionFailureCallback=l}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return f0(this,void 0,void 0,function(){var n,a;return g0(this,function(l){switch(l.label){case 0:this.buttonController.disable(),n=!this.isTorchOn,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.torchCapability.apply(n)];case 2:return l.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),n),[3,4];case 3:return a=l.sent(),this.propagateFailure(n,a),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(n,a){n===a?(this.buttonController.setText(a?_e.torchOffButton():_e.torchOnButton()),this.isTorchOn=a):this.propagateFailure(a),this.buttonController.enable()},e.prototype.propagateFailure=function(n,a){var l=n?_e.torchOnFailedMessage():_e.torchOffFailedMessage();a&&(l+="; Error = "+a),this.onTorchActionFailureCallback(l)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),up=function(){function e(n,a){this.onTorchActionFailureCallback=a,this.torchButton=Zn.createElement("button",en.TORCH_BUTTON_ID),this.torchController=new X1(n,this,a)}return e.prototype.render=function(n,a){var l=this;this.torchButton.innerText=_e.torchOnButton(),this.torchButton.style.display=a.display,this.torchButton.style.marginLeft=a.marginLeft;var d=this;this.torchButton.addEventListener("click",function(h){return f0(l,void 0,void 0,function(){return g0(this,function(p){switch(p.label){case 0:return[4,d.torchController.flipState()];case 1:return p.sent(),d.torchController.isTorchEnabled()?(d.torchButton.classList.remove(en.TORCH_BUTTON_CLASS_TORCH_OFF),d.torchButton.classList.add(en.TORCH_BUTTON_CLASS_TORCH_ON)):(d.torchButton.classList.remove(en.TORCH_BUTTON_CLASS_TORCH_ON),d.torchButton.classList.add(en.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),n.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(n){this.torchController=new X1(n,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(n){this.torchButton.innerText=n},e.prototype.reset=function(){this.torchButton.innerText=_e.torchOnButton(),this.torchController.reset()},e.create=function(n,a,l,d){var h=new e(a,d);return h.render(n,l),h},e}(),cp=function(){function e(n,a,l){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=a?"block":"none",n.appendChild(this.fileBasedScanRegion);var d=document.createElement("label");d.setAttribute("for",this.getFileScanInputId()),d.style.display="inline-block",this.fileBasedScanRegion.appendChild(d),this.fileSelectionButton=Zn.createElement("button",en.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(E){d.click()}),d.append(this.fileSelectionButton),this.fileScanInput=Zn.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",d.appendChild(this.fileScanInput);var h=this;this.fileScanInput.addEventListener("change",function(E){if(!(E==null||E.target==null)){var A=E.target;if(!(A.files&&A.files.length===0)){var w=A.files,v=w[0],T=v.name;h.setImageNameToButton(T),l(v)}}});var p=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(p),this.fileBasedScanRegion.addEventListener("dragenter",function(E){h.fileBasedScanRegion.style.border=h.fileBasedScanRegionActiveBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(E){h.fileBasedScanRegion.style.border=h.fileBasedScanRegionDefaultBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(E){h.fileBasedScanRegion.style.border=h.fileBasedScanRegionActiveBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(E){E.stopPropagation(),E.preventDefault(),h.fileBasedScanRegion.style.border=h.fileBasedScanRegionDefaultBorder();var A=E.dataTransfer;if(A){var w=A.files;if(!w||w.length===0)return;for(var v=!1,T=0;T<w.length;++T){var k=w.item(T);if(k){var z=/image.*/;if(k.type.match(z)){v=!0;var G=k.name;h.setImageNameToButton(G),l(k),p.innerText=_e.dragAndDropMessage();break}}}v||(p.innerText=_e.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var n=document.createElement("div");return n.style.textAlign="center",n.style.margin="auto",n.style.width="80%",n.style.maxWidth="600px",n.style.border=this.fileBasedScanRegionDefaultBorder(),n.style.padding="10px",n.style.marginBottom="10px",n},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var n=document.createElement("div");return n.innerText=_e.dragAndDropMessage(),n.style.fontWeight="400",n},e.prototype.setImageNameToButton=function(n){var a=20;if(n.length>a){var l=n.substring(0,8),d=n.length,h=n.substring(d-8,d);n="".concat(l,"....").concat(h)}var p=_e.fileSelectionChooseAnother()+" - "+n;this.fileSelectionButton.innerText=p},e.prototype.setInitialValueToButton=function(){var n=_e.fileSelectionChooseImage()+" - "+_e.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=n},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(n,a,l){var d=new e(n,a,l);return d},e}(),dp=function(){function e(n){this.selectElement=Zn.createElement("select",en.CAMERA_SELECTION_SELECT_ID),this.cameras=n,this.options=[]}return e.prototype.render=function(n){var a=document.createElement("span");a.style.marginRight="10px";var l=this.cameras.length;if(l===0)throw new Error("No cameras found");if(l===1)a.style.display="none";else{var d=_e.selectCamera();a.innerText="".concat(d," (").concat(this.cameras.length,")  ")}for(var h=1,p=0,E=this.cameras;p<E.length;p++){var A=E[p],w=A.id,v=A.label==null?w:A.label;(!v||v==="")&&(v=[_e.anonymousCameraPrefix(),h++].join(" "));var T=document.createElement("option");T.value=w,T.innerText=v,this.options.push(T),this.selectElement.appendChild(T)}a.appendChild(this.selectElement),n.appendChild(a)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(n){for(var a=0,l=this.options;a<l.length;a++){var d=l[a];if(d.value===n)return!0}return!1},e.prototype.setValue=function(n){if(!this.hasValue(n))throw new Error("".concat(n," is not present in the camera list."));this.selectElement.value=n},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(n,a){var l=new e(a);return l.render(n),l},e}(),hp=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Zn.createElement("input",en.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(n,a){this.zoomElementContainer.style.display=a?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",n.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var l=_e.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(l),this.rangeText.style.marginRight="10px";var d=this;this.rangeInput.addEventListener("input",function(){return d.onValueChange()}),this.rangeInput.addEventListener("change",function(){return d.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var n=_e.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(n,a,l,d){this.rangeInput.min=n.toString(),this.rangeInput.max=a.toString(),this.rangeInput.step=d.toString(),this.rangeInput.value=l.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(n){this.onChangeCallback=n},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(n,a){var l=new e;return l.render(n,a),l},e}(),Jt;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Jt||(Jt={}));function fp(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function gp(e,n){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:n}}var pp=function(){function e(n,a,l){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=n,this.config=this.createConfig(a),this.verbose=l===!0,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.scanTypeSelector=new dr(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new c0(this.verbose),this.persistedDataManager=new rp,a.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(n,a){var l=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(h,p){if(n)n(h,p);else{if(l.lastMatchFound===h)return;l.lastMatchFound=h,l.setHeaderMessage(_e.lastMatch(h),Jt.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(h,p){a&&a(h,p)};var d=document.getElementById(this.elementId);if(!d)throw"HTML Element with id=".concat(this.elementId," not found");d.innerHTML="",this.createBasicLayout(d),this.html5Qrcode=new j1(this.getScanRegionId(),gp(this.config,this.verbose))},e.prototype.pause=function(n){(zn(n)||n!==!0)&&(n=!1),this.getHtml5QrcodeOrFail().pause(n)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var n=this,a=function(){var l=document.getElementById(n.elementId);l&&(l.innerHTML="",n.resetBasicLayout(l))};return this.html5Qrcode?new Promise(function(l,d){if(!n.html5Qrcode){l();return}n.html5Qrcode.isScanning?n.html5Qrcode.stop().then(function(h){if(!n.html5Qrcode){l();return}n.html5Qrcode.clear(),a(),l()}).catch(function(h){n.verbose&&n.logger.logError("Unable to stop qrcode scanner",h),d(h)}):(n.html5Qrcode.clear(),a(),l())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(n){return this.getHtml5QrcodeOrFail().applyVideoConstraints(n)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(n){return n?(n.fps||(n.fps=vn.SCAN_DEFAULT_FPS),n.rememberLastUsedCamera!==!vn.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(n.rememberLastUsedCamera=vn.DEFAULT_REMEMBER_LAST_CAMERA_USED),n.supportedScanTypes||(n.supportedScanTypes=vn.DEFAULT_SUPPORTED_SCAN_TYPE),n):{fps:vn.SCAN_DEFAULT_FPS,rememberLastUsedCamera:vn.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:vn.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(n){n.style.position="relative",n.style.padding="0px",n.style.border="1px solid silver",this.createHeader(n);var a=document.createElement("div"),l=this.getScanRegionId();a.id=l,a.style.width="100%",a.style.minHeight="100px",a.style.textAlign="center",n.appendChild(a),dr.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var d=document.createElement("div"),h=this.getDashboardId();d.id=h,d.style.width="100%",n.appendChild(d),this.setupInitialDashboard(d)},e.prototype.resetBasicLayout=function(n){n.style.border="none"},e.prototype.setupInitialDashboard=function(n){this.createSection(n),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(n){var a=document.createElement("div");a.style.textAlign="left",a.style.margin="0px",n.appendChild(a);var l=new op;l.renderInto(a);var d=document.createElement("div");d.id=this.getHeaderMessageContainerId(),d.style.display="none",d.style.textAlign="center",d.style.fontSize="14px",d.style.padding="2px 10px",d.style.margin="4px",d.style.borderTop="1px solid #f6f6f6",a.appendChild(d)},e.prototype.createSection=function(n){var a=document.createElement("div");a.id=this.getDashboardSectionId(),a.style.width="100%",a.style.padding="10px 0px 10px 0px",a.style.textAlign="left",n.appendChild(a)},e.prototype.createCameraListUi=function(n,a,l){var d=this;d.showHideScanTypeSwapLink(!1),d.setHeaderMessage(_e.cameraPermissionRequesting());var h=function(){l||d.createPermissionButton(n,a)};j1.getCameras().then(function(p){d.persistedDataManager.setHasPermission(!0),d.showHideScanTypeSwapLink(!0),d.resetHeaderMessage(),p&&p.length>0?(n.removeChild(a),d.renderCameraSelection(p)):(d.setHeaderMessage(_e.noCameraFound(),Jt.STATUS_WARNING),h())}).catch(function(p){d.persistedDataManager.setHasPermission(!1),l?l.disabled=!1:h(),d.setHeaderMessage(p,Jt.STATUS_WARNING),d.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(n,a){var l=this,d=Zn.createElement("button",this.getCameraPermissionButtonId());d.innerText=_e.cameraPermissionTitle(),d.addEventListener("click",function(){d.disabled=!0,l.createCameraListUi(n,a,d)}),a.appendChild(d)},e.prototype.createPermissionsUi=function(n,a){var l=this;if(dr.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){G1.hasPermissions().then(function(d){d?l.createCameraListUi(n,a):(l.persistedDataManager.setHasPermission(!1),l.createPermissionButton(n,a))}).catch(function(d){l.persistedDataManager.setHasPermission(!1),l.createPermissionButton(n,a)});return}this.createPermissionButton(n,a)},e.prototype.createSectionControlPanel=function(){var n=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");n.appendChild(a);var l=document.createElement("div");l.id=this.getDashboardSectionCameraScanRegionId(),l.style.display=dr.isCameraScanType(this.currentScanType)?"block":"none",a.appendChild(l);var d=document.createElement("div");d.style.textAlign="center",l.appendChild(d),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(l,d),this.renderFileScanUi(a)},e.prototype.renderFileScanUi=function(n){var a=dr.isFileScanType(this.currentScanType),l=this,d=function(h){if(!l.html5Qrcode)throw"html5Qrcode not defined";dr.isFileScanType(l.currentScanType)&&(l.setHeaderMessage(_e.loadingImage()),l.html5Qrcode.scanFileV2(h,!0).then(function(p){l.resetHeaderMessage(),l.qrCodeSuccessCallback(p.decodedText,p)}).catch(function(p){l.setHeaderMessage(p,Jt.STATUS_WARNING),l.qrCodeErrorCallback(p,u0.createFrom(p))}))};this.fileSelectionUi=cp.create(n,a,d)},e.prototype.renderCameraSelection=function(n){var a=this,l=this,d=document.getElementById(this.getDashboardSectionCameraScanRegionId());d.style.textAlign="center";var h=hp.create(d,!1),p=function(V){var re=V.zoomFeature();if(re.isSupported()){h.setOnCameraZoomValueChangeCallback(function(N){re.apply(N)});var D=1;a.config.defaultZoomValueIfSupported&&(D=a.config.defaultZoomValueIfSupported),D=kg(D,re.min(),re.max()),h.setValues(re.min(),re.max(),D,re.step()),h.show()}},E=dp.create(d,n),A=document.createElement("span"),w=Zn.createElement("button",en.CAMERA_START_BUTTON_ID);w.innerText=_e.scanButtonStartScanningText(),A.appendChild(w);var v=Zn.createElement("button",en.CAMERA_STOP_BUTTON_ID);v.innerText=_e.scanButtonStopScanningText(),v.style.display="none",v.disabled=!0,A.appendChild(v);var T,k=function(V){if(!V.torchFeature().isSupported()){T&&T.hide();return}T?T.updateTorchCapability(V.torchFeature()):T=up.create(A,V.torchFeature(),{display:"none",marginLeft:"5px"},function(re){l.setHeaderMessage(re,Jt.STATUS_WARNING)}),T.show()};d.appendChild(A);var z=function(V){V||(w.style.display="none"),w.innerText=_e.scanButtonStartScanningText(),w.style.opacity="1",w.disabled=!1,V&&(w.style.display="inline-block")};if(w.addEventListener("click",function(V){w.innerText=_e.scanButtonScanningStarting(),E.disable(),w.disabled=!0,w.style.opacity="0.5",a.scanTypeSelector.hasMoreThanOneScanType()&&l.showHideScanTypeSwapLink(!1),l.resetHeaderMessage();var re=E.getValue();l.persistedDataManager.setLastUsedCameraId(re),l.html5Qrcode.start(re,fp(l.config),l.qrCodeSuccessCallback,l.qrCodeErrorCallback).then(function(D){v.disabled=!1,v.style.display="inline-block",z(!1);var N=l.html5Qrcode.getRunningTrackCameraCapabilities();a.config.showTorchButtonIfSupported===!0&&k(N),a.config.showZoomSliderIfSupported===!0&&p(N)}).catch(function(D){l.showHideScanTypeSwapLink(!0),E.enable(),z(!0),l.setHeaderMessage(D,Jt.STATUS_WARNING)})}),E.hasSingleItem()&&w.click(),v.addEventListener("click",function(V){if(!l.html5Qrcode)throw"html5Qrcode not defined";v.disabled=!0,l.html5Qrcode.stop().then(function(re){a.scanTypeSelector.hasMoreThanOneScanType()&&l.showHideScanTypeSwapLink(!0),E.enable(),w.disabled=!1,v.style.display="none",w.style.display="inline-block",T&&(T.reset(),T.hide()),h.removeOnCameraZoomValueChangeCallback(),h.hide(),l.insertCameraScanImageToScanRegion()}).catch(function(re){v.disabled=!1,l.setHeaderMessage(re,Jt.STATUS_WARNING)})}),l.persistedDataManager.getLastUsedCameraId()){var G=l.persistedDataManager.getLastUsedCameraId();E.hasValue(G)?(E.setValue(G),w.click()):l.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var n=this,a=_e.textIfCameraScanSelected(),l=_e.textIfFileScanSelected(),d=document.getElementById(this.getDashboardSectionId()),h=document.createElement("div");h.style.textAlign="center";var p=Zn.createElement("span",this.getDashboardSectionSwapLinkId());p.style.textDecoration="underline",p.style.cursor="pointer",p.innerText=dr.isCameraScanType(this.currentScanType)?a:l,p.addEventListener("click",function(){if(!n.sectionSwapAllowed){n.verbose&&n.logger.logError("Section swap called when not allowed");return}n.resetHeaderMessage(),n.fileSelectionUi.resetValue(),n.sectionSwapAllowed=!1,dr.isCameraScanType(n.currentScanType)?(n.clearScanRegion(),n.getCameraScanRegion().style.display="none",n.fileSelectionUi.show(),p.innerText=l,n.currentScanType=Mr.SCAN_TYPE_FILE,n.insertFileScanImageToScanRegion()):(n.clearScanRegion(),n.getCameraScanRegion().style.display="block",n.fileSelectionUi.hide(),p.innerText=a,n.currentScanType=Mr.SCAN_TYPE_CAMERA,n.insertCameraScanImageToScanRegion(),n.startCameraScanIfPermissionExistsOnSwap()),n.sectionSwapAllowed=!0}),h.appendChild(p),d.appendChild(h)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var n=this,a=this;if(this.persistedDataManager.hasCameraPermissions()){G1.hasPermissions().then(function(l){if(l){var d=document.getElementById(a.getCameraPermissionButtonId());if(!d)throw n.logger.logError("Permission button not found, fail;"),"Permission button not found";d.click()}else a.persistedDataManager.setHasPermission(!1)}).catch(function(l){a.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var n=document.getElementById(this.getHeaderMessageContainerId());n.style.display="none"},e.prototype.setHeaderMessage=function(n,a){a||(a=Jt.STATUS_DEFAULT);var l=this.getHeaderMessageDiv();switch(l.innerText=n,l.style.display="block",a){case Jt.STATUS_SUCCESS:l.style.background="rgba(106, 175, 80, 0.26)",l.style.color="#477735";break;case Jt.STATUS_WARNING:l.style.background="rgba(203, 36, 49, 0.14)",l.style.color="#cb2431";break;case Jt.STATUS_DEFAULT:default:l.style.background="rgba(0, 0, 0, 0)",l.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(n){this.scanTypeSelector.hasMoreThanOneScanType()&&(n!==!0&&(n=!1),this.sectionSwapAllowed=n,this.getDashboardSectionSwapLink().style.display=n?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var n=this,a=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){a.innerHTML="<br>",a.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(l){a.innerHTML="<br>",a.appendChild(n.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=ep,this.cameraScanImage.alt=_e.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var n=this,a=document.getElementById(this.getScanRegionId());if(this.fileScanImage){a.innerHTML="<br>",a.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(l){a.innerHTML="<br>",a.appendChild(n.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=tp,this.fileScanImage.alt=_e.fileScanAltText()},e.prototype.clearScanRegion=function(){var n=document.getElementById(this.getScanRegionId());n.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return en.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return en.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const mp={fps:10,qrbox:{width:300,height:200},aspectRatio:1.5,disableFlip:!1,videoConstraints:{facingMode:"environment"}};function wp(e){const n=e.replace(/\D/g,"");if(n.length!==12)return{isValid:!1,formattedNumber:e,checkDigit:{expected:0,actual:0,isValid:!1},trackingUrl:"",message:"12桁の数字である必要があります",type:"unknown"};const a=n.substring(0,11),l=parseInt(n.charAt(11)),d=a.split("").reduce((w,v)=>w+parseInt(v),0)%7,h=l===d,p=Cp(n);let E="unknown";const A=n.substring(0,4);return A>="2300"&&A<="2399"?E="letterpack_light":A>="2400"&&A<="2499"&&(E="letterpack_plus"),{isValid:h,formattedNumber:p,checkDigit:{expected:d,actual:l,isValid:h},trackingUrl:h?Ep(n):"",message:h?"有効なレターパック追跡番号です":`チェックデジットが不正です（期待値: ${d}, 実際: ${l}）`,type:E}}function Cp(e){const n=e.replace(/\D/g,"");return n.length===12?`${n.substring(0,4)}-${n.substring(4,8)}-${n.substring(8,12)}`:e}function Ep(e){return`https://trackings.post.japanpost.jp/services/srv/search/direct?reqCodeNo1=${e.replace(/\D/g,"")}&locale=ja`}function yp(e){return e.replace(/\D/g,"").length===12}function Ap(e,n={}){const[a,l]=gn.useState(!1),[d,h]=gn.useState(null),[p,E]=gn.useState(null),A=gn.useRef(null),w={...mp,...n},v=(re,D)=>{var N;if(console.log("Scanned result:",re),yp(re)){const R={id:Date.now().toString(),text:re,format:((N=D.result)==null?void 0:N.format)||"UNKNOWN",timestamp:new Date};h(R),E(null),z()}else E(`検出: ${re} - 12桁の追跡番号ではありません`),setTimeout(()=>E(null),3e3)},T=re=>{re.includes("No MultiFormat Readers")&&console.warn("Scanner error:",re)},k=async()=>{try{E(null),h(null),A.current&&await A.current.clear();const re=new pp(e,{fps:w.fps,qrbox:w.qrbox,aspectRatio:w.aspectRatio,disableFlip:w.disableFlip,videoConstraints:w.videoConstraints,formatsToSupport:[$.CODE_128,$.EAN_13,$.EAN_8,$.ITF,$.CODE_39,$.CODABAR]},!1);A.current=re,re.render(v,T),l(!0)}catch(re){const D=re instanceof Error?re.message:"不明なエラーが発生しました";E(`カメラの起動に失敗しました: ${D}`),l(!1)}},z=()=>{A.current&&a&&(A.current.clear().catch(console.error),A.current=null),l(!1)},G=()=>{h(null),E(null)},V=async re=>{try{E(null),E("ファイルスキャン機能は現在開発中です")}catch(D){const N=D instanceof Error?D.message:"ファイルの読み取りに失敗しました";E(N)}};return gn.useEffect(()=>()=>{z()},[]),{isScanning:a,result:d,error:p,startScanning:k,stopScanning:z,clearResult:G,scanFromFile:V}}function Sp({onResult:e,className:n=""}){const{isScanning:a,result:l,error:d,startScanning:h,stopScanning:p,clearResult:E}=Ap("scanner-container");return lu.useEffect(()=>{l&&(e(l.text),E())},[l,e,E]),H.jsxs("div",{className:`w-full max-w-md mx-auto ${n}`,children:[H.jsx("div",{id:"scanner-container",className:`
          relative w-full bg-gray-100 rounded-lg overflow-hidden
          ${a?"block":"hidden"}
        `,style:{minHeight:"300px"}}),!a&&H.jsx("div",{className:"w-full h-72 bg-gray-100 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300",children:H.jsxs("div",{className:"text-center",children:[H.jsx(D1,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),H.jsx("p",{className:"text-gray-500 font-medium",children:"カメラでバーコードをスキャン"}),H.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"レターパックのバーコードをカメラに向けてください"})]})}),H.jsx("div",{className:"mt-6 flex gap-3 justify-center",children:a?H.jsxs("button",{onClick:p,className:"btn-secondary flex items-center gap-2",children:[H.jsx(Rg,{className:"h-5 w-5"}),"停止"]}):H.jsxs("button",{onClick:h,className:"btn-primary flex items-center gap-2",children:[H.jsx(D1,{className:"h-5 w-5"}),"スキャン開始"]})}),d&&H.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:H.jsx("p",{className:"text-red-800 text-sm font-medium",children:d})}),a&&H.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:H.jsx("p",{className:"text-blue-800 text-sm font-medium",children:"📷 バーコードをカメラに向けてください"})})]})}function Ip({result:e,onCopy:n}){const[a,l]=lu.useState(!1),d=async()=>{if(e.formattedNumber)try{await navigator.clipboard.writeText(e.formattedNumber),l(!0),n==null||n(e.formattedNumber),setTimeout(()=>l(!1),2e3)}catch(A){console.error("Copy failed:",A)}},h=()=>{e.trackingUrl&&window.open(e.trackingUrl,"_blank","noopener,noreferrer")},p=A=>{switch(A){case"letterpack_light":return"レターパックライト";case"letterpack_plus":return"レターパックプラス";default:return"追跡番号"}},E=A=>{switch(A){case"letterpack_light":return"bg-blue-100 text-blue-800";case"letterpack_plus":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return H.jsx("div",{className:"card",children:H.jsxs("div",{className:"flex items-start gap-4",children:[H.jsx("div",{className:`
          flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center
          ${e.isValid?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}
        `,children:e.isValid?H.jsx(_1,{className:"h-6 w-6"}):H.jsx(Sg,{className:"h-6 w-6"})}),H.jsxs("div",{className:"flex-1 min-w-0",children:[H.jsx("div",{className:"mb-3",children:H.jsx("span",{className:`
              inline-flex items-center px-3 py-1 rounded-full text-sm font-medium
              ${E(e.type)}
            `,children:p(e.type)})}),H.jsxs("div",{className:"mb-4",children:[H.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"追跡番号"}),H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsx("div",{className:"flex-1 p-3 bg-gray-50 border border-gray-200 rounded-lg font-mono text-lg font-bold",children:e.formattedNumber}),H.jsx("button",{onClick:d,className:"btn-outline p-3",title:"コピー",children:a?H.jsx(_1,{className:"h-5 w-5 text-green-600"}):H.jsx(Ig,{className:"h-5 w-5"})})]})]}),H.jsx("div",{className:"mb-4",children:H.jsxs("div",{className:`
              p-3 rounded-lg border
              ${e.isValid?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}
            `,children:[H.jsx("p",{className:"font-medium",children:e.message}),!e.isValid&&H.jsxs("p",{className:"text-sm mt-1",children:["チェックデジット: 期待値 ",e.checkDigit.expected,", 実際 ",e.checkDigit.actual]})]})}),e.isValid&&e.trackingUrl&&H.jsx("div",{className:"flex gap-3",children:H.jsxs("button",{onClick:h,className:"btn-primary flex items-center gap-2",children:[H.jsx(bg,{className:"h-4 w-4"}),"日本郵便で追跡"]})})]})]})})}function bp(){const[e,n]=gn.useState(null),a=d=>{console.log("Received scan result:",d);const h=wp(d);n(h)},l=d=>{console.log("Copied to clipboard:",d)};return H.jsx("div",{className:"min-h-screen bg-gray-50",children:H.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[H.jsxs("div",{className:"text-center mb-12",children:[H.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"レターパック追跡番号スキャナー"}),H.jsxs("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:["レターパックのバーコードをスキャンして、追跡番号を自動取得。",H.jsx("br",{}),"チェックデジット検証で正確性を確認し、日本郵便での追跡が可能です。"]})]}),H.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[H.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[H.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:H.jsx(Dg,{className:"h-6 w-6 text-blue-600"})}),H.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"高速スキャン"}),H.jsx("p",{className:"text-sm text-gray-600",children:"カメラでバーコードを瞬時に読み取り"})]}),H.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[H.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4",children:H.jsx(Mg,{className:"h-6 w-6 text-green-600"})}),H.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"検証機能"}),H.jsx("p",{className:"text-sm text-gray-600",children:"チェックデジットで番号の正確性を確認"})]}),H.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[H.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center mb-4",children:H.jsx(Tg,{className:"h-6 w-6 text-red-600"})}),H.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"追跡連携"}),H.jsx("p",{className:"text-sm text-gray-600",children:"日本郵便サイトと直接連携"})]}),H.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[H.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:H.jsx(O1,{className:"h-6 w-6 text-purple-600"})}),H.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"形式対応"}),H.jsx("p",{className:"text-sm text-gray-600",children:"ライト・プラス両方に対応"})]})]}),H.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[H.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[H.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"バーコードスキャン"}),H.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[H.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"使用方法"}),H.jsxs("ol",{className:"text-sm text-blue-800 space-y-1",children:[H.jsx("li",{children:"1. 「スキャン開始」ボタンを押す"}),H.jsx("li",{children:"2. カメラの使用を許可する"}),H.jsx("li",{children:"3. レターパックのバーコードを画面に向ける"}),H.jsx("li",{children:"4. 自動的に追跡番号を読み取ります"})]})]}),H.jsx(Sp,{onResult:a})]}),H.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[H.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"読み取り結果"}),e?H.jsx(Ip,{result:e,onCopy:l}):H.jsxs("div",{className:"text-center py-12",children:[H.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:H.jsx(O1,{className:"h-8 w-8 text-gray-400"})}),H.jsx("p",{className:"text-gray-500 font-medium",children:"バーコードをスキャンしてください"}),H.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"追跡番号の検証結果がここに表示されます"})]})]})]}),H.jsxs("div",{className:"mt-12 bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[H.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"サポート情報"}),H.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[H.jsxs("div",{children:[H.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"対応バーコード形式"}),H.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[H.jsx("li",{children:"• CODE_128（主要形式）"}),H.jsx("li",{children:"• EAN_13 / EAN_8"}),H.jsx("li",{children:"• ITF（Interleaved 2 of 5）"}),H.jsx("li",{children:"• CODE_39 / CODABAR"})]})]}),H.jsxs("div",{children:[H.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"検証アルゴリズム"}),H.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[H.jsx("li",{children:"• 12桁数字形式チェック"}),H.jsx("li",{children:"• チェックデジット検証（mod 7）"}),H.jsx("li",{children:"• レターパック形式判定"}),H.jsx("li",{children:"• 自動フォーマット変換"})]})]})]})]})]})})}function Tp(){return H.jsxs("div",{className:"min-h-screen bg-gray-50",children:[H.jsx(_g,{}),H.jsx("main",{children:H.jsx(bp,{})})]})}cl.createRoot(document.getElementById("root")).render(H.jsx(lu.StrictMode,{children:H.jsx(Tp,{})}));
//# sourceMappingURL=index-e462e313.js.map
